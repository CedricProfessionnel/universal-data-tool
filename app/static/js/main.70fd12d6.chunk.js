(this["webpackJsonpuniversal-data-tool"]=this["webpackJsonpuniversal-data-tool"]||[]).push([[0],{287:function(e){e.exports=JSON.parse('{"name":"universal-data-tool","version":"0.12.8","license":"MIT","main":"desktop/main.js","homepage":"https://universaldatatool.com/app/","scripts":{"start":"cross-env PORT=6001 react-scripts start","build":"npm run build:web","build:all":"npm run build:babel && npm run build:vanilla && npm run build:desktop","build:lib":"npm run build:babel && npm run build:vanilla","build:babel":"cross-env NODE_ENV=production babel ./src --out-dir=./lib --copy-files && cp ./package.json ./lib/package.json && node ./lib/lib/fix-deps.js","build:vanilla":"parcel build -d ./lib -o vanilla.js ./src/vanilla/index.js","build:vanilla:dev":"parcel ./src/vanilla/index.js","build:web":"rimraf build && react-scripts build && cp -r build ./build-copy && mv build-copy build/app","build:desktop":"cross-env REACT_APP_DESKTOP=true PUBLIC_URL=./ react-scripts build && electron-builder build && cp ./desktop/entitlements.mac.plist ./build/entitlements.mac.plist","start:desktop":"cross-env BROWSER=none USE_DEV_SERVER=yes concurrently \'npm run start\' \'electron ./desktop\'","start:desktop:build":"electron ./desktop","postinstall:desktop":"electron-builder install-app-deps","release:lib":"npm run build && cd lib && npm publish","release:desktop":"npm run build:desktop && cross-env EP_RELEASE=true electron-builder --linux --publish always","release:all":"npm run release:desktop && npm run release:lib","test":"ava **/*.test.js","storybook":"start-storybook -p 6002 -s public","build-storybook":"build-storybook -s public","gh-pages":"npm run build:web && npm run build:vanilla && cp lib/vanilla.js build/vanilla.js && cp ./CNAME ./build/CNAME && gh-pages -d build","prettier":"prettier --write \\"src/**/*.js\\"","test:prettier":"prettier --check \\"src/**/*.js\\"","test:lint":"eslint src --max-warnings=0","test:integration:dev":"./node_modules/cypress/bin/cypress open","test:integration":"./node_modules/cypress/bin/cypress run --env failOnSnapshotDiff=false"},"eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"@babel/cli":"^7.5.0","@babel/core":"^7.5.4","@babel/plugin-proposal-optional-chaining":"^7.10.1","@material-ui/core":"^4.9.5","@material-ui/icons":"^4.9.1","@storybook/addon-actions":"^5.3.19","@storybook/addon-links":"^5.3.19","@storybook/addons":"^5.3.19","@storybook/react":"^5.3.19","@testing-library/react-hooks":"^3.2.1","ava":"^3.7.0","chroma-js":"^2.0.4","concurrently":"^5.2.0","cross-env":"^7.0.0","cypress":"^4.4.0","cypress-file-upload":"^4.0.6","cypress-image-snapshot":"^3.1.1","electron":"^8.0.0","electron-builder":"^22.8.0","electron-builder-notarize":"^1.2.0","gh-pages":"^2.1.1","material-survey":"^1.0.32","parcel":"^1.12.4","prettier":"^2.0.2","react":"^16.8.6","react-dom":"^16.8.6","react-markdown":"^4.1.0","react-nlp-annotate":"^0.3.14","rimraf":"^3.0.2","spelling":"^2.0.1"},"dependencies":{"@material-ui/styles":"^4.9.0","@semantic-release/git":"^9.0.0","@sentry/browser":"^5.15.4","any-shell-escape":"^0.1.1","aws-amplify":"^3.0.6","aws-sign":"^1.0.0","aws4fetch":"^1.0.12","axios":"^0.19.2","bent":"^7.1.0","brace":"^0.11.1","detect-browser":"^5.0.0","download-file":"^0.1.5","duration":"^0.2.2","fast-json-patch":"^3.0.0-1","fast-xml-parser":"^3.17.4","ffmpeg-static":"^4.2.4","form-data":"^3.0.0","i18next":"^19.4.4","i18next-browser-languagedetector":"^4.2.0","in-browser-download":"^2.0.0","jac-format":"^1.1.3","js-md5":"^0.7.3","moment":"^2.24.0","nan":"^2.14.1","posthog-js":"^1.0.4","react-ace":"^7.0.4","react-data-table-component":"^6.2.2","react-dropzone":"^11.0.3","react-github-btn":"^1.2.0","react-hotkeys":"^2.0.0","react-i18next":"^11.4.0","react-icons":"^3.9.0","react-image-annotate":"^1.6.1","react-material-workspace-layout":"^0.1.6","react-scripts":"^3.4.1","react-select":"^3.0.8","rfc6902":"^3.0.4","seamless-immutable":"^7.1.4","seed-random":"^2.2.0","seedrandom":"^3.0.5","styled-components":"^5.0.0","udt-format":"0.0.1","use-event-callback":"^0.1.0","wavesurfer.js":"^3.3.3","ytdl-core":"^2.0.1"},"build":{"appId":"com.universaldatatool","productName":"Universal Data Tool","afterSign":"electron-builder-notarize","mac":{"category":"public.app-category.developer-tools","hardenedRuntime":true},"dmg":{"icon":false},"linux":{"target":["AppImage"],"category":"Development"},"extends":null,"files":["**/*","build/"],"publish":{"provider":"github","releaseType":"release"}},"ava":{"nodeArguments":["--experimental-modules"]}}')},555:function(e){e.exports=JSON.parse('{"starting-page-download-version":"Download Version","download":"Download","download-json":"Download JSON","download-csv":"Download CSV","universaldatatool-description":"Open-Source Data Labeling","new-file":"New File","start-from-template":"Start from Template","open-file":"Open File","open-collaborative-session":"Open Collaborative Session","add-authentication":"Add Authentification","no-recent-files":"No Recent Files","downloading-and-installing-udt":"Downloading and Installing UDT","labeling-images":"Labeling Images","start-page-about-first-paragraph":"The Universal Data Tool (UDT) is an open-source web or downloadable tool for labeling data for usage in machine learning or data processing systems.","start-page-about-second-paragraph":"The Universal Data Tool supports Computer Vision, Natural Language Processing (including Named Entity Recognition and Audio Transcription) workflows.","the-udt-uses-an":"The UDT uses an","start-page-about-third-paragraph":"that can be easily read by programs as a ground-truth dataset for machine learning algorithms.","open-a-template":"Open a template","to-see-how-the-udt-could-work-for-your-data":"to see how the UDT could work for your data.","edit-json":"Edit JSON","clear-labels":"Clear All Labels","telemetry":"Telemetry","custom-collaboration-server":"Custom Collaboration Server","label-help":"Label Help","label-help-api-key":"Label Help API Key","an-error-has-occurred":"An error has occurred","sample-brushes":"Sample Brushes","complete":"Complete","review":"Review","collaborate":"Collaborate","join-a-session":"Join a Session","leave-session":"Leave Session","next":"Next","configure-3d-explanation-text-part-1":"Hey, this isn\'t currently available, but if you\'d like this functionality please let us know by leaving a thumbs up on","github-issue":"github issue","add-new-field":"Add New Field","remove-field":"Remove Field","preview":"Preview","add-input":"Add Input","text-input":"Text Input","exclusive-choice":"Exclusive Choice","drop-down-autocomplete":"Dropdown / Autocomplete","multiple-item-dropdown-autocomplete":"Multiple Item Dropdown / Autocomplete","download-urls-dialog":"This transformation will download all the urls from your samples to your computer, and change the paths to filenames. This is usually not a good idea if you\'re collaborating with others, but is very useful if you\'re about to build a model.","no-recent-items":"No Recent Items","explore-more":"Explore More","reopen-google-drive-picker":"Reopen Google Drive Picker","import-from-google-drive-explanation-text":"Make sure your Google Drive files are available via a link","import-from-google-drive-explanation-bold-text":"If you don\'t, the files will not appear when you\'re labeling","select-video-quality":"Select Video Quality","desktop-only":"Desktop Only","auth-must-be-configured":"Auth Must Be Configured","must-be-signed-in":"Must Be Signed In","paste-urls":"Paste URLs","files-from-directory":"Files from Directory","import-text-snippets":"Import Text Snippets","import-toy-dataset":"Import Toy Dataset","import-from":"Import from","import-from-cognito-s3":"Import from S3 (Cognito)","import-from-s3":"Import from S3 (IAM)","upload-to-s3":"Upload via S3","name":"Name","type":"Type","size":"Size","actions":"Actions","import":"Import","sign-in":"Sign in","complete-sign-up":"Complete Sign Up","complete-your-sign-up":"Complete your Sign Up","transform-local-files-to-web-urls-explanation":"This transformation will upload your local samples to the cloud Note: This can take a little while.","convert-video-keyframes-to-samples":"Convert Video Keyframes to Samples","transform-local-files-to-web-urls":"Transform Local Files to Web URLs","convert-video-frames-to-images":"Convert Video Frames to Images","transform-video-frames-to-images-dialog-explanation-text":"This transformation will convert samples that reference a video frame into an image. This is a useful step before creating a model. You can only convert videos that are downloaded on your computer. Note: This can take a little while.","transform-video-keyframes-dialog-explanation-text":"This operation will convert keyframes set on a video into individual image segmentation frames. Your interface type will change from \'video_segmentation\' into \'image_segmentation\'. This is sometimes helpful when preparing video data for a computer vision model.","transform-video-keyframes-dialog-explanation-warning":"You need to label some keyframes to use this.","universal-data-viewer-interface-warning":"This interface hasn\'t been set up properly, try selecting an interface in the \'Setup\' tab.","setup-project":"Setup Project"}')},556:function(e){e.exports=JSON.parse('{"starting-page-download-version":"Version \xe0 t\xe9l\xe9charger","download":"T\xe9l\xe9charger","universaldatatool-description":"\xc9tiquetage des donn\xe9es \xe0 source ouverte","new-file":"Nouveau dossier","start-from-template":"Partir du mod\xe8le","open-file":"Dossier public","open-collaborative-session":"Session de collaboration ouverte","add-authentication":"Ajouter l\'authentification","no-recent-files":"Aucun dossier r\xe9cent","downloading-and-installing-udt":"T\xe9l\xe9chargement et installation d\'UDT","labeling-images":"\xc9tiquetage des images","start-page-about-first-paragraph":"The Universal Data Tool (UDT) est un outil web ou t\xe9l\xe9chargeable \xe0 code source ouvert pour l\'\xe9tiquetage des donn\xe9es destin\xe9es \xe0 \xeatre utilis\xe9es dans l\'apprentissage machine ou les syst\xe8mes de traitement des donn\xe9es.","start-page-about-second-paragraph":" L\'Universal Data Tool prend en charge les flux de travail de la vision par ordinateur, du traitement du langage naturel (y compris la reconnaissance d\'entit\xe9s nomm\xe9es et la transcription audio).","the-udt-uses-an":"L\'UDT utilise un","start-page-about-third-paragraph":"qui peut \xeatre facilement lu par les programmes comme un ensemble de donn\xe9es de base pour les algorithmes d\'apprentissage machine.","open-a-template":"Ouvrir un mod\xe8le","to-see-how-the-udt-could-work-for-your-data":"pour voir comment l\'UDT pourrait fonctionner pour vos donn\xe9es.","edit-json":"Modifier JSON","clear-labels":"Effacer tous les labels","telemetry":"T\xe9l\xe9m\xe9trie","custom-collaboration-server":"Serveur de collaboration personnalis\xe9e","label-help":"Label Help","label-help-api-key":"Label Help API Cl\xe9","an-error-has-occurred":"Une erreur s\'est produite","sample-brushes":"Brosses \xe0 \xe9chantillons","complete":"Compl\xe9ter","review":"Revue","collaborate":"Collaborer","join-a-session":"Participer \xe0 une session","leave-session":"S\xe9ance de cong\xe9","next":"Suivant","configure-3d-explanation-text-part-1":"Hey, ce n\'est pas disponible actuellement, mais si vous souhaitez b\xe9n\xe9ficier de cette fonctionnalit\xe9, veuillez nous le faire savoir en laissant un avis sur","github-issue":"num\xe9ro de github","add-new-field":"Ajouter un nouveau champ","remove-field":"Supprimer un champ","preview":"Aper\xe7u","add-input":"Ajouter une entr\xe9e","text-input":"Saisie de texte","exclusive-choice":"Choix exclusif","drop-down-autocomplete":"Dropdown / Autocomplete","multiple-item-dropdown-autocomplete":"\xc9l\xe9ments multiples Dropdown / Autocomplete","download-urls-dialog":"Cette transformation t\xe9l\xe9chargera toutes les urls de vos \xe9chantillons sur votre ordinateur, et modifiera les chemins d\'acc\xe8s aux noms de fichiers. Ce n\'est g\xe9n\xe9ralement pas une bonne id\xe9e si vous collaborez avec d\'autres personnes, mais c\'est tr\xe8s utile si vous \xeates sur le point de construire un mod\xe8le.","no-recent-items":"Pas d\'articles r\xe9cents","explore-more":"En savoir plus","reopen-google-drive-picker":"R\xe9ouvrir Google Drive Picker","import-from-google-drive-explanation-text":"Assurez-vous que vos fichiers Google Drive sont disponibles via un lien","import-from-google-drive-explanation-bold-text":"Si vous ne le faites pas, les dossiers n\'appara\xeetront pas lorsque vous \xe9tiqueterez","select-video-quality":"Choisir la qualit\xe9 vid\xe9o","desktop-only":"Bureau uniquement","auth-must-be-configured":"L\'authentification doit \xeatre configur\xe9e","must-be-signed-in":"Doit \xeatre sign\xe9","paste-urls":"Coller les URL","files-from-directory":"Fichiers du r\xe9pertoire","import-text-snippets":"Importer des bribes de texte","import-toy-dataset":"Import Toy Dataset","import-from":"Importation de","name":"Nom","type":"Tapez","size":"Taille","actions":"Actions","import":"Importer","sign-in":"S\'identifier","complete-sign-up":"Compl\xe9ter l\'inscription","complete-your-sign-up":"Compl\xe9tez votre inscription","transform-local-files-to-web-urls-explanation":"Cette transformation t\xe9l\xe9chargera vos \xe9chantillons locaux dans le nuage Remarque : Cela peut prendre un certain temps.","convert-video-keyframes-to-samples":"Convertir des images cl\xe9s vid\xe9o en \xe9chantillons","transform-local-files-to-web-urls":"Transformer les fichiers locaux en URL Web","convert-video-frames-to-images":"Convertir des images vid\xe9o en images","transform-video-frames-to-images-dialog-explanation-text":"Cette transformation convertira en image les \xe9chantillons qui font r\xe9f\xe9rence \xe0 une trame vid\xe9o. C\'est une \xe9tape utile avant de cr\xe9er un mod\xe8le. Vous ne pouvez convertir que les vid\xe9os qui sont t\xe9l\xe9charg\xe9es sur votre ordinateur. Note : Cela peut prendre un peu de temps.","transform-video-keyframes-dialog-explanation-text":"Cette op\xe9ration permettra de convertir les images cl\xe9s d\'une vid\xe9o en images individuelles de segmentation d\'images. Votre type d\'interface passera de \'video_segmentation\' \xe0 \'image_segmentation\'. Cette op\xe9ration est parfois utile lors de la pr\xe9paration des donn\xe9es vid\xe9o pour un mod\xe8le de vision par ordinateur.","transform-video-keyframes-dialog-explanation-warning":"Pour l\'utiliser, vous devez \xe9tiqueter certaines images cl\xe9s.","universal-data-viewer-interface-warning":"Cette interface n\'a pas \xe9t\xe9 configur\xe9e correctement, essayez de s\xe9lectionner une interface dans l\'onglet \'Configuration\'.","setup-project":"Projet de mise en place"}')},557:function(e){e.exports=JSON.parse('{"starting-page-download-version":"\u4e0b\u8f7d\u7248\u672c","download":"\u4e0b\u8f7d\u4e2d\u5fc3","universaldatatool-description":"\u5f00\u6e90\u6570\u636e\u6807\u7b7e","new-file":"\u65b0\u6587\u4ef6","start-from-template":"\u4ece\u6a21\u677f\u5f00\u59cb","open-file":"\u6253\u5f00\u6587\u4ef6","open-collaborative-session":"\u516c\u5f00\u5408\u4f5c\u4f1a\u8bae","add-authentication":"\u6dfb\u52a0\u8ba4\u8bc1","no-recent-files":"\u6700\u8fd1\u6ca1\u6709\u6587\u4ef6","downloading-and-installing-udt":"\u4e0b\u8f7d\u548c\u5b89\u88c5UDT","labeling-images":"\u6807\u7b7e\u56fe\u7247","start-page-about-first-paragraph":"\u901a\u7528\u6570\u636e\u5de5\u5177(UDT)\u662f\u4e00\u4e2a\u5f00\u6e90\u7684\u7f51\u7edc\u6216\u53ef\u4e0b\u8f7d\u7684\u5de5\u5177\uff0c\u7528\u4e8e\u6807\u8bb0\u6570\u636e\uff0c\u4ee5\u4fbf\u5728\u673a\u5668\u5b66\u4e60\u6216\u6570\u636e\u5904\u7406\u7cfb\u7edf\u4e2d\u4f7f\u7528\u3002","start-page-about-second-paragraph":"\u901a\u7528\u6570\u636e\u5de5\u5177\u652f\u6301\u8ba1\u7b97\u673a\u89c6\u89c9\u3001\u81ea\u7136\u8bed\u8a00\u5904\u7406\uff08\u5305\u62ec\u547d\u540d\u5b9e\u4f53\u8bc6\u522b\u548c\u97f3\u9891\u8f6c\u5f55\uff09\u5de5\u4f5c\u6d41\u7a0b\u3002","the-udt-uses-an":"UDT\u4f7f\u7528\u7684\u662f","start-page-about-third-paragraph":"\u53ef\u4ee5\u5f88\u5bb9\u6613\u5730\u88ab\u7a0b\u5e8f\u8bfb\u53d6\uff0c\u4f5c\u4e3a\u673a\u5668\u5b66\u4e60\u7b97\u6cd5\u7684\u5730\u771f\u6570\u636e\u96c6\u3002","open-a-template":"\u6253\u5f00\u4e00\u4e2a\u6a21\u677f","to-see-how-the-udt-could-work-for-your-data":"\u770b\u770bUDT\u5982\u4f55\u4e3a\u60a8\u7684\u6570\u636e\u5de5\u4f5c\u3002","edit-json":"\u7f16\u8f91JSON","clear-labels":"Clear All Labels","telemetry":"\u9065\u6d4b","custom-collaboration-server":"\u81ea\u5b9a\u4e49\u534f\u4f5c\u670d\u52a1\u5668","label-help":"\u6807\u7b7e\u5e2e\u52a9","label-help-api-key":"\u6807\u7b7e\u5e2e\u52a9 API \u5bc6\u94a5","an-error-has-occurred":"\u53d1\u751f\u4e86\u4e00\u4e2a\u9519\u8bef","sample-brushes":"\u5237\u5b50\u6837\u54c1","complete":"\u5b8c\u6574","review":"\u56de\u987e","collaborate":"\u534f\u4f5c","join-a-session":"\u52a0\u5165\u4f1a\u8bae","leave-session":"\u4f11\u4f1a","next":"\u4e0b\u4e00\u4e2a","configure-3d-explanation-text-part-1":"\u563f\uff0c\u8fd9\u662f\u4e0d\u662f\u76ee\u524d\u53ef\u7528\uff0c\u4f46\u5982\u679c\u4f60\u60f3\u8fd9\u4e2a\u529f\u80fd\uff0c\u8bf7\u8ba9\u6211\u4eec\u77e5\u9053\uff0c\u7559\u4e0b\u5927\u62c7\u6307\u4e0a\u7684","github-issue":"github\u95ee\u9898","add-new-field":"\u6dfb\u52a0\u65b0\u9886\u57df","remove-field":"\u79fb\u9664\u5b57\u6bb5","preview":"Preview","add-input":"\u6dfb\u52a0\u8f93\u5165","text-input":"\u6587\u672c\u8f93\u5165","exclusive-choice":"\u72ec\u5bb6\u9009\u62e9","drop-down-autocomplete":"\u4e0b\u62c9\u5f0f/\u81ea\u52a8\u5b8c\u6210","multiple-item-dropdown-autocomplete":"\u591a\u4e2a\u9879\u76ee\u4e0b\u62c9/\u81ea\u52a8\u5b8c\u6210","download-urls-dialog":"\u8fd9\u4e2a\u8f6c\u6362\u4f1a\u5c06\u6240\u6709\u7684URL\u4ece\u4f60\u7684\u6837\u672c\u4e0b\u8f7d\u5230\u4f60\u7684\u7535\u8111\uff0c\u5e76\u5c06\u8def\u5f84\u6539\u4e3a\u6587\u4ef6\u540d\u3002\u5982\u679c\u60a8\u6b63\u5728\u4e0e\u4ed6\u4eba\u5408\u4f5c\uff0c\u8fd9\u901a\u5e38\u4e0d\u662f\u4e00\u4e2a\u597d\u4e3b\u610f\uff0c\u4f46\u5982\u679c\u60a8\u8981\u5efa\u7acb\u4e00\u4e2a\u6a21\u578b\uff0c\u8fd9\u975e\u5e38\u6709\u7528\u3002","no-recent-items":"\u6700\u8fd1\u6ca1\u6709\u9879\u76ee","explore-more":"\u63a2\u7d22\u66f4\u591a","reopen-google-drive-picker":"\u91cd\u65b0\u6253\u5f00Google Drive Picker","import-from-google-drive-explanation-text":"\u786e\u4fdd\u4f60\u7684Google Drive\u6587\u4ef6\u53ef\u4ee5\u901a\u8fc7\u94fe\u63a5\u83b7\u5f97\u3002","import-from-google-drive-explanation-bold-text":"\u5982\u679c\u4f60\u4e0d\u8fd9\u6837\u505a\uff0c\u5f53\u4f60\u5728\u6807\u6ce8\u65f6\uff0c\u6587\u4ef6\u5c06\u4e0d\u4f1a\u51fa\u73b0","select-video-quality":"\u9009\u62e9\u89c6\u9891\u8d28\u91cf","desktop-only":"\u4ec5\u9650\u684c\u9762","auth-must-be-configured":"\u5fc5\u987b\u914d\u7f6eAuth","must-be-signed-in":"\u5fc5\u987b\u7b7e\u5230","paste-urls":"\u7c98\u8d34URL","files-from-directory":"\u6587\u4ef6\u4ece\u76ee\u5f55","import-text-snippets":"\u5bfc\u5165\u6587\u672c\u7247\u6bb5","import-toy-dataset":"\u5bfc\u5165\u73a9\u5177\u6570\u636e\u96c6","import-from":"\u8fdb\u53e3\u81ea","name":"\u540d\u79f0","type":"\u79cd\u7c7b","size":"\u5c3a\u5bf8","actions":"\u884c\u52a8","import":"\u8fdb\u53e3","sign-in":"\u767b\u5f55","complete-sign-up":"\u5b8c\u6210\u6ce8\u518c","complete-your-sign-up":"\u5b8c\u6210\u60a8\u7684\u6ce8\u518c","transform-local-files-to-web-urls-explanation":"\u6b64\u8f6c\u6362\u5c06\u628a\u60a8\u7684\u672c\u5730\u6837\u672c\u4e0a\u4f20\u5230\u4e91\u7aef \u6ce8\u610f\uff1a\u8fd9\u53ef\u80fd\u9700\u8981\u4e00\u70b9\u65f6\u95f4\u3002","convert-video-keyframes-to-samples":"\u5c06\u89c6\u9891\u5173\u952e\u5e27\u8f6c\u6362\u4e3a\u6837\u672c","transform-local-files-to-web-urls":"\u5c06\u672c\u5730\u6587\u4ef6\u8f6c\u6362\u4e3aWeb URL","convert-video-frames-to-images":"\u5c06\u89c6\u9891\u5e27\u8f6c\u6362\u4e3a\u56fe\u50cf","transform-video-frames-to-images-dialog-explanation-text":"\u6b64\u8f6c\u6362\u5c06\u53c2\u8003\u89c6\u9891\u5e27\u7684\u6837\u672c\u8f6c\u6362\u4e3a\u56fe\u50cf\u3002\u8fd9\u662f\u521b\u5efa\u6a21\u578b\u4e4b\u524d\u7684\u4e00\u4e2a\u6709\u7528\u6b65\u9aa4\u3002\u60a8\u53ea\u80fd\u8f6c\u6362\u4e0b\u8f7d\u5230\u8ba1\u7b97\u673a\u4e0a\u7684\u89c6\u9891\u3002\u6ce8\u610f\uff1a\u8fd9\u53ef\u80fd\u9700\u8981\u4e00\u70b9\u65f6\u95f4\u3002","transform-video-keyframes-dialog-explanation-text":"\u6b64\u64cd\u4f5c\u5c06\u628a\u89c6\u9891\u4e0a\u8bbe\u7f6e\u7684\u5173\u952e\u5e27\u8f6c\u6362\u4e3a\u5355\u4e2a\u56fe\u50cf\u5206\u5272\u5e27\u3002\u4f60\u7684\u63a5\u53e3\u7c7b\u578b\u5c06\u4ece \'video_segmentation \'\u53d8\u4e3a \'image_segmentation\'\u3002\u8fd9\u5728\u4e3a\u8ba1\u7b97\u673a\u89c6\u89c9\u6a21\u578b\u51c6\u5907\u89c6\u9891\u6570\u636e\u65f6\u6709\u65f6\u4f1a\u6709\u5e2e\u52a9\u3002","transform-video-keyframes-dialog-explanation-warning":"\u4f60\u9700\u8981\u7ed9\u4e00\u4e9b\u5173\u952e\u5e27\u8d34\u4e0a\u6807\u7b7e\u624d\u80fd\u4f7f\u7528\u3002","universal-data-viewer-interface-warning":"\u8fd9\u4e2a\u63a5\u53e3\u6ca1\u6709\u6b63\u786e\u8bbe\u7f6e\uff0c\u8bf7\u5c1d\u8bd5\u5728 \'\u8bbe\u7f6e \'\u9009\u9879\u5361\u4e2d\u9009\u62e9\u4e00\u4e2a\u63a5\u53e3\u3002","setup-project":"\u8bbe\u7f6e\u9879\u76ee"}')},558:function(e){e.exports=JSON.parse('{"starting-page-download-version":"Baixar Vers\ufffdo","download":"Baixar","download-json":"Baixar JSON","download-csv":"Baixar CSV","universaldatatool-description":"Rotulador de dados de c\ufffddigo aberto","new-file":"Novo arquivo","start-from-template":"Iniciar apartir de um modelo","open-file":"Abrir arquivo","open-collaborative-session":"Abrir sess\ufffdo colaborativa","add-authentication":"Adicionar autentica\ufffd\ufffdo","no-recent-files":"Sem arquivos recentes","downloading-and-installing-udt":"Baixando e instalando o UDT","labeling-images":"Rotulando imagens","start-page-about-first-paragraph":"O Universal Data Tool (UDT) \ufffd uma ferramenta web ou baix\ufffdvel de c\ufffddigo aberto para rotula\ufffd\ufffdo de dados para uso em aprendizado de m\ufffdquina ou em processamento de sistemas.","start-page-about-second-paragraph":"O Universal Data Tool tem suporte para vis\ufffdo computacional, fluxo de trabalho para processamento de linguagem natural (incluindo reconhecimento de entidade nomeada e transcri\ufffd\ufffdo de audio).","the-udt-uses-an":"O UDT usa uma","start-page-about-third-paragraph":"que pode ser facilmente lido por programas como um conjunto de dados verdadeiros para algoritmos de aprendizado de m\ufffdquina.","open-a-template":"Abrir um modelo","to-see-how-the-udt-could-work-for-your-data":"para ver como o UDT pode trabalhar com seus dados.","edit-json":"Editar JSON","clear-labels":"Limpar todos os r\ufffdtulos","telemetry":"Telemetria","custom-collaboration-server":"Servidor de colabora\ufffd\ufffdo personalizado","label-help":"Ajuda com R\ufffdtulo","label-help-api-key":"Ajudo com a chave da API do r\ufffdtulo","an-error-has-occurred":"Ocorreu um erro","sample-brushes":"Pinc\ufffdis de amostra","complete":"Completo","review":"Revisar","collaborate":"Colaborar","join-a-session":"Entrar em uma sess\ufffdo","leave-session":"Sair da sess\ufffdo","next":"Pr\ufffdximo","configure-3d-explanation-text-part-1":"Ei, isso ainda n\ufffdo est\ufffd dispon\ufffdvel, mas se voc\ufffd gostaria dessa funcionalidade for favor deixe nos saber deixando um gostei","github-issue":"Quest\ufffdo no GitHub","add-new-field":"Adicionar novo campo","remove-field":"Remover campo","preview":"Pr\ufffd-visualizar","add-input":"Adicionar entrada","text-input":"Texto de entrada","exclusive-choice":"Escolha exclusiva","drop-down-autocomplete":"Drop-down / Auto completar","multiple-item-dropdown-autocomplete":"Drop-down v\ufffdrios itens / Auto completar","download-urls-dialog":"Essa transforma\ufffd\ufffdo ir\ufffd baixar todas urls de sua amostra para seu computador e muda o caminho de arquivos para nome de arquivo. Geralmente essa n\ufffdo \ufffd uma boa ideia caso voc\ufffd queria trabalhar em colabora\ufffd\ufffdo com outras pessoas, mas isso ser\ufffd muito \ufffdtil se voc\ufffd quiser construir um modelo.","no-recent-items":"Sem itens recentes","explore-more":"Explorar mais","reopen-google-drive-picker":"Reabrir selecionador do Google drive","import-from-google-drive-explanation-text":"Tenha certeza que seus arquivos do google drive est\ufffdo v\ufffdlidos atrav\ufffds do link","import-from-google-drive-explanation-bold-text":"Se voc\ufffd achar melhor n\ufffdo, os arquivos n\ufffdo ir\ufffdo desaparecer quanto voc\ufffd fizer a rotula\ufffd\ufffdo","select-video-quality":"Selecione a qualidade de video","desktop-only":"Apenas para desktop","auth-must-be-configured":"Autentica\ufffd\ufffdo precisa ser configurada","must-be-signed-in":"Precisa estar logado","paste-urls":"Colar URLs","files-from-directory":"Arquivos de diret\ufffdrio","import-text-snippets":"Importar trechos de texto","import-toy-dataset":"Importar conjunto de dados de brinquedo","import-from":"Importar de","import-from-cognito-s3":"Importar do S3 (Cognito)","import-from-s3":"Importar do S3 (IAM)","upload-to-s3":"Enviar via S3","name":"Nome","type":"Tipo","size":"Tamanho","actions":"A\ufffd\ufffdes","import":"Importar","sign-in":"Cadastrar","complete-sign-up":"Completar cadastro","complete-your-sign-up":"Complete seu cadastro","transform-local-files-to-web-urls-explanation":"Essa transforma\ufffd\ufffdo ir\ufffd enviar suas amostras locais para a nuvem. Aviso: Isso pode demorar um pouco.","convert-video-keyframes-to-samples":"Converter frames de video em amostras","transform-local-files-to-web-urls":"Transformar arquivos locais em web URLs","convert-video-frames-to-images":"Converter frames de video em imagens","transform-video-frames-to-images-dialog-explanation-text":"Essa trnasforma\ufffd\ufffdo ir\ufffd converter suas amostras que referenciam um frame de video em uma imagem. Isso pode ser \ufffdtil para alguns passos anteriores \ufffd cria\ufffd\ufffdo de modelo. Voc\ufffd pode apenas converter videos que est\ufffdo baixados em seu computador. Aviso: Isso pode demorar um pouco.","transform-video-keyframes-dialog-explanation-text":"Essa opera\ufffd\ufffdo ir\ufffd converter os frames do video em uma imagem individual segmentada em frames. Seu tipo de interface ir\ufffd mudar de \'video_segmentation\' para \'image_segmentation\'. As vezes isso \ufffd de grande ajuda para preparar seus dados de video para um modelo de vis\ufffdo computacional.","transform-video-keyframes-dialog-explanation-warning":"Voc\ufffd precisa rotular alguns frames para usar isso.","universal-data-viewer-interface-warning":"Essa interface n\ufffdo foi estabelecidade de forma apropriada, tente selecionar uma interface na aba de configura\ufffd\ufffdo.","setup-project":"Projeto de confugura\ufffd\ufffdo"}')},631:function(e,t,a){e.exports=a(984)},636:function(e,t,a){},983:function(e,t,a){},984:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(34),i=a.n(r),l=a(508),c=a.n(l),s=a(1048),u=(a(636),a(172)),d=c()({palette:{primary:u.a,secondary:u.a},typography:{fontFamily:'"Inter", "Roboto", sans-serif',button:{textTransform:"none"}}}),m=function(e){var t=e.children;return o.a.createElement(s.a,{theme:d},t)},p=a(11),f=a(10),g=a.n(f),b=a(17),h=a(7),v=a(1072),y=a(1051),x=a(1091),E=a(1090),O=a(595),w=a(1060),j=a(517),k=a.n(j),C=a(128),S=a.n(C),I=a(37),T=a(121),_=a(502),A=a(423),N=a(1059),D=a(501),L=a(14),P=a.n(L),U=a(513),R=a(1088),B=a(72),F=a(591),M=a(178),z=a(45),q=a(1087),H=a(38),W=[{id:"switch_to_label",description:"Go to Labels Tab",binding:"shift+3"},{id:"switch_to_setup",description:"Go to Setup Tab",binding:"shift+1"},{id:"switch_to_samples",description:"Go to Samples Tab",binding:"shift+2"},{id:"select_tool",description:"Switch to the Select Tool",binding:"escape"},{id:"zoom_tool",description:"Select the Zoom Tool",binding:"z"},{id:"create_point",description:"Create a point"},{id:"create_bounding_box",description:"Create a bounding box",binding:"b"},{id:"pan_tool",description:"Select the Pan Tool",binding:"p"},{id:"create_polygon",description:"Create a Polygon"},{id:"create_pixel",description:"Create a Pixel Mask"},{id:"save_and_previous_sample",description:"Save and go to previous sample",binding:"a"},{id:"save_and_next_sample",description:"Save and go to next sample",binding:"d"},{id:"save_and_exit_sample",description:"Save and exit current sample"},{id:"exit_sample",description:"Exit sample without saving"}],V=Object(n.createContext)({hotkeys:W,changeHotkey:function(e,t){return null}}),J=function(){return Object(n.useContext)(V)},G=function(e){var t=e.children,a=Z(),r=a.fromConfig,i=a.setInConfig,l=Object(n.useMemo)((function(){return W.map((function(e){return r("hotkeys.".concat(e.id))?Object(p.a)(Object(p.a)({},e),{},{binding:r("hotkeys.".concat(e.id))}):e}))}),[r]),c=Object(n.useMemo)((function(){var e,t={},a=Object(H.a)(l);try{for(a.s();!(e=a.n()).done;){var n=e.value,o=n.id,r=n.binding;r&&(t[o]=r)}}catch(i){a.e(i)}finally{a.f()}return t}),[l]),s=Object(n.useMemo)((function(){return{hotkeys:l,keyMap:c,clearHotkeys:function(){var e,t=Object(H.a)(l);try{for(t.s();!(e=t.n()).done;){var a=e.value.id;i("hotkeys.".concat(a),null)}}catch(n){t.e(n)}finally{t.f()}},changeHotkey:function(e,t){return i("hotkeys.".concat(e),t)}}}),[i,l,c]);return o.a.createElement(V.Provider,{value:s},t)},K=["auth.provider","auth.cognito.identity_pool_id","auth.cognito.region","auth.cognito.user_pool_id","auth.cognito.user_pool_web_client_id","auth.cognito.mandatory_sign_in","auth.cognito.authentication_flow_type","auth.cognito.storage.aws_s3.bucket","auth.cognito.storage.aws_s3.region","auth.s3iam.access_key_id","auth.s3iam.secret_access_key","auth.s3iam.region","auth.proxy.corsproxy","labelhelp.disabled","labelhelp.apikey"].concat(Object(z.a)(W.map((function(e){var t=e.id;return"hotkeys.".concat(t)})))),X={"auth.proxy.corsproxy":"https://corsproxy.seve.workers.dev/corsproxy/?apiurl={URL}"},Y=Object(n.createContext)({appConfig:Object(p.a)(Object(p.a)({},X),function(e){try{return JSON.parse(e)}catch(t){return{}}}(window.localStorage.app_config)),setAppConfig:function(e){},fromConfig:function(e){},setInConfig:function(e,t){}}),Z=function(){return Object(n.useContext)(Y)},Q=function(e){var t=e.children,a=Object(q.a)("app_config",{}),r=Object(h.a)(a,2),i=r[0],l=r[1],c=Object(n.useMemo)((function(){return{appConfig:i,setAppConfig:l,fromConfig:function(e){if(!K.includes(e))throw new Error('Unknown config key name "'.concat(e,'"'));return void 0===i[e]?X[e]:i[e]},setInConfig:function(e,t){if("string"!==typeof t&&"number"!==typeof t&&"boolean"!==typeof t&&void 0!==t&&null!==t)throw new Error('Config can only have boolean/strings/numbers/null/undefined, something tried to set appConfig["'.concat(e,'"] = ').concat(JSON.stringify(t)));if(!K.includes(e))throw new Error('Unknown config key name "'.concat(e,'"'));l(Object(p.a)(Object(p.a)({},i),{},Object(I.a)({},e,t)))}}}),[i,l]);return o.a.createElement(Y.Provider,{value:c},t)},$=a(87),ee=function e(t){var a=this;Object($.a)(this,e),this.authProvider="cognito",this.checkIfLoggedIn=Object(b.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B.default.configure(a.authConfig),e.next=3,F.a.currentAuthenticatedUser();case 3:(t=e.sent)&&(a.user=t,a.isLoggedIn=!0,a.hasChanged=!0);case 5:case"end":return e.stop()}}),e)}))),this.setUser=function(e){a.user=e,a.isLoggedIn=Boolean(e),a.hasChanged=!0},this.login=function(){var e=Object(b.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B.default.configure(a.authConfig),e.next=3,F.a.currentAuthenticatedUser();case 3:n=e.sent,a.user=n,a.hasChanged=!0;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.logout=function(){a.user=null,a.isLoggedIn=!1,a.hasChanged=!0,F.a.signOut()},this.getState=function(){return{user:a.user,isLoggedIn:a.isLoggedIn,authConfig:a.authConfig}},this.authConfig={Auth:{identityPoolId:t["auth.cognito.identity_pool_id"],region:t["auth.cognito.region"],userPoolId:t["auth.cognito.user_pool_id"],userPoolWebClientId:t["auth.cognito.user_pool_web_client_id"],mandatorySignIn:!0,authenticationFlowType:"USER_PASSWORD_AUTH"},Storage:{AWSS3:{bucket:t["auth.cognito.storage.aws_s3.bucket"],region:t["auth.cognito.storage.aws_s3.region"]}}},this.isLoggedIn=!1,this.checkIfLoggedIn()},te=Object(n.createContext)({authProvider:"none"}),ae=function(e){var t=e.children,a=Z(),r=a.appConfig,i=a.fromConfig,l=Object(n.useState)({authProvider:"none"}),c=Object(h.a)(l,2),s=c[0],u=c[1],d=i("auth.provider"),m=Object(n.useReducer)((function(e){return e+1}),0),f=Object(h.a)(m,2),g=f[0],b=f[1];Object(n.useEffect)((function(){s&&s.authProvider===d||"cognito"===d&&u(new ee(r))}),[d,r,s]),Object(n.useEffect)((function(){if(s){var e=setInterval((function(){s.hasChanged&&(b(),s.hasChanged=!1)}),1e3);return function(){clearInterval(e)}}}),[s,g]);var v=Object(n.useMemo)((function(){return Object(p.a)(Object(p.a)({authProvider:s.authProvider},s.getState?s.getState():{}),{},{setUser:s.setUser,logout:s.logout,login:s.login,handlerVersion:g})}),[s,g]);return o.a.createElement(te.Provider,{value:v},t)},ne=function(){return Object(n.useContext)(te)},oe=ne,re=Object(U.a)("div")({padding:16,color:M.a[500]}),ie=Object(y.a)((function(e){return{form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),le=function(e){var t=e.onUserChange,a=e.onRequireCompleteSignUp,r=e.onClose,i=ne(),l=i.authConfig,c=i.setUser,s=ie(),u=Object(n.useState)(),d=Object(h.a)(u,2),m=d[0],f=d[1],v=Object(R.a)().t,y=Object(n.useState)({username:"",password:"",notAuthorizedException:!1}),x=Object(h.a)(y,2),E=x[0],O=x[1],w=function(e){e.persist(),O((function(t){var a;return Object(p.a)(Object(p.a)({},t),{},(a={},Object(I.a)(a,e.target.name,e.target.value),Object(I.a)(a,"notAuthorizedException",!1),a))}))};function j(){return(j=Object(b.a)(g.a.mark((function e(n,o){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(null),e.prev=1,e.next=4,B.default.configure(l);case 4:return e.next=6,F.a.signIn(n,o).then((function(e){return c(e),"NEW_PASSWORD_REQUIRED"===e.challengeName?a(e):(t(e),r()),e})).catch((function(e){return"UserNotConfirmedException"===e.code?console.log("Must confirm the account"):"PasswordResetRequiredException"===e.code?console.log("Password has been reset"):"NotAuthorizedException"===e.code?(console.log("Bad password message"),O(Object(p.a)(Object(p.a)({},E),{},{notAuthorizedException:!0,password:""}))):"UserNotFoundException"===e.code?console.log("User not found message"):(console.log("Error that we do not handle for"),console.log(e.code)),f(e.toString()),e}));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),f(e.t0.toString());case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}return o.a.createElement(n.Fragment,null,o.a.createElement(T.a,{component:"h1",variant:"h5"},v("sign-in")),m&&o.a.createElement(re,null,m),o.a.createElement("form",{className:s.form,noValidate:!0},o.a.createElement(_.a,{error:E.notAuthorizedException,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",helperText:E.notAuthorizedException?"The username or password is incorrect.":"",autoFocus:!0,onChange:w}),o.a.createElement(_.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:E.password,onChange:w}),o.a.createElement(N.a,{control:o.a.createElement(D.a,{value:"remember",color:"primary"}),label:"Remember me"}),o.a.createElement(A.a,{onClick:function(){P()(E.username)||P()(E.password)?O((function(e){return Object(p.a)(Object(p.a)({},e),{},{notAuthorizedException:!0})})):function(e,t){j.apply(this,arguments)}(E.username,E.password)},fullWidth:!0,variant:"contained",color:"primary",className:s.submit},v("sign-in"))))},ce=Object(y.a)((function(e){return{form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),se=function(e){var t=e.requiredAttributes,a=e.onUserChange,r=e.onClose,i=ne().user,l={},c={};t.forEach((function(e){l[e]="",c[e]=!1}));var s=Object(n.useState)({newPassword:"",newPasswordNotValid:!1,newPasswordConfirmation:"",newPasswordNotEqualsConfirmation:!1,requiredAttributesDict:l,requiredAttributesErrorDict:c}),u=Object(h.a)(s,2),d=u[0],m=u[1],f=ce(),g=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},b=function(e){m(Object(p.a)(Object(p.a)({},d),{},{requiredAttributesDict:Object(p.a)(Object(p.a)({},d.requiredAttributesDict),{},Object(I.a)({},e.target.name,e.target.value))}))},v=function(e){m(Object(p.a)(Object(p.a)({},d),{},Object(I.a)({newPasswordError:null,newPasswordNotValid:!1,newPasswordNotEqualsConfirmation:!1},e.target.name,e.target.value)))},y=function(){return d.newPassword===d.newPasswordConfirmation?(m(Object(p.a)(Object(p.a)({},d),{},{newPasswordNotEqualsConfirmation:!1})),!0):(m(Object(p.a)(Object(p.a)({},d),{},{newPasswordNotEqualsConfirmation:!0})),!1)},x=function(e){var a=!0;return"checkAll"===e?t.forEach((function(e){""===d.requiredAttributesDict[e]&&(m(Object(p.a)(Object(p.a)({},d),{},{requiredAttributesErrorDict:Object(p.a)(Object(p.a)({},d.requiredAttributesErrorDict),{},Object(I.a)({},e,!0))})),a=!1)})):""===e.target.value?m(Object(p.a)(Object(p.a)({},d),{},{requiredAttributesErrorDict:Object(p.a)(Object(p.a)({},d.requiredAttributesErrorDict),{},Object(I.a)({},e.target.name,!0))})):m(Object(p.a)(Object(p.a)({},d),{},{requiredAttributesErrorDict:Object(p.a)(Object(p.a)({},d.requiredAttributesErrorDict),{},Object(I.a)({},e.target.name,!1))})),a};var E=Object(R.a)().t;return o.a.createElement(n.Fragment,null,o.a.createElement(T.a,{component:"h1",variant:"h5"},E("complete-your-sign-up")),o.a.createElement("form",{className:f.form,noValidate:!0},o.a.createElement(_.a,{error:d.newPasswordNotValid,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"newPassword",label:"New password",type:"password",id:"password",value:d.newPassword,onChange:v,helperText:d.newPasswordError||""}),o.a.createElement(_.a,{error:d.newPasswordNotEqualsConfirmation,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"newPasswordConfirmation",label:"Confirm new password",type:"password",id:"confirm-password",onChange:v,value:d.newPasswordConfirmation,onBlur:y,helperText:d.newPasswordNotEqualsConfirmation?"New password and confirmation password must be the same":""}),t.map((function(e){return o.a.createElement(_.a,{error:d.requiredAttributesErrorDict[e],variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:e.toString(),key:e.toString(),label:g(e.toString()),type:"text",id:e.toString(),onChange:b,value:d.requiredAttributesDict.requiredAttribute,onBlur:x,helperText:d.requiredAttributesErrorDict[e]?"".concat(g(e.toString())," can't be null"):""})})),o.a.createElement(A.a,{onClick:function(){y()&&x("checkAll")?F.a.completeNewPassword(i,d.newPassword,d.requiredAttributesDict).then((function(e){a(e),r()})).catch((function(e){m(Object(p.a)(Object(p.a)({},d),{},{newPasswordError:e.toString()}))})):console.log("Something missing")},fullWidth:!0,variant:"contained",color:"primary",className:f.submit},E("complete-sign-up"))))},ue=Object(y.a)((function(e){return{drawer:{width:500},root:{height:"100vh"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},close:{cursor:"pointer",color:e.palette.secondary.main},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main}}})),de=function(e){var t=e.loginDrawerOpen,a=e.onClose,r=ue(),i=Object(n.useState)({}),l=Object(h.a)(i,2),c=l[0],s=l[1],u=Object(n.useState)({signingIn:!0,completeSignUp:!1,user:""}),d=Object(h.a)(u,2),m=d[0],f=d[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(x.a,{anchor:"right",open:t,onClose:a},o.a.createElement("div",{className:r.drawer,role:"presentation"},o.a.createElement(w.a,{container:!0,component:"main",className:r.root},o.a.createElement(w.a,{item:!0,xs:12,sm:12,md:12,component:O.a,elevation:6,square:!0},o.a.createElement("div",{className:r.paper},o.a.createElement(w.a,{container:!0},o.a.createElement(w.a,{item:!0,xs:!0},o.a.createElement(S.a,{onClick:a,className:r.close}))),o.a.createElement(E.a,{className:r.avatar},o.a.createElement(k.a,null)),m.signingIn&&o.a.createElement(le,{onRequireCompleteSignUp:function(e){return function(e){f((function(t){return Object(p.a)(Object(p.a)({},t),{},{signingIn:!1,completeSignUp:!0,user:e,requiredAttributes:e.challengeParam.requiredAttributes})}))}(e)},onUserChange:function(e){s(e)},onClose:a}),m.completeSignUp&&o.a.createElement(se,{requiredAttributes:m.requiredAttributes,user:c,onClose:a,onUserChange:function(e){s(e)}})))))))},me=a(1067),pe=a(1068),fe=a(1085),ge=a(1069),be=a(1066),he=a(152),ve=a.n(he),ye=a(290),xe=a.n(ye),Ee=a(186),Oe=a.n(Ee),we=a(525),je=a.n(we),ke=a(596),Ce=a(518),Se=a.n(Ce),Ie=a(175),Te=a(1061),_e=a(519),Ae=a.n(_e),Ne=a(154),De=a.n(Ne),Le=a(425),Pe=a(203),Ue=a.n(Pe),Re=function(){return window.require?window.require("electron"):null},Be={opt_in_capturing:function(){return null},opt_out_capturing:function(){return null},init:function(){return null},reset:function(){return null},capture:function(){return null},capture_forms:function(){return null},capture_pageview:function(){return null},register:function(){return null},register_once:function(){return null},unregister:function(){return null},identify:function(){return"mock"},alias:function(){return null},set_config:function(){return null},get_config:function(){return null},get_property:function(){return null},get_distinct_id:function(){return null},has_opted_out_capturing:function(){return!0},has_opted_in_capturing:function(){return!1},disable_all_events:function(){return null},people:{set:function(){return null},set_once:function(){return null}}};window.posthogInitialized=!1;var Fe=function(){var e=Boolean(Re());if(window.Cypress&&(window.posthogInitialized=!0,window.posthog=Be),!window.posthogInitialized){Ue.a.init("dSrx1PbFd02XsxlLd7qNbeTxKZwwao2sclVmapyYlT4",{api_host:"https://posthog.universaldatatool.com",autocapture:!1}),window.posthog=Ue.a;var t=e?"desktop":window.location.origin;Ue.a.capture("domain",{domain:t}),Ue.a.capture("is_desktop",{isDesktop:e}),Ue.a.people.set({is_desktop:e,domain:t}),window.posthogInitialized=!0}return window.posthog},Me=Object(U.a)("div")({position:"relative",marginLeft:8}),ze=Ie.a[500],qe={bottom:"100%",left:"25%",border:"solid transparent",content:'" "',height:0,width:0,position:"absolute",pointerEvents:"none"},He=Object(U.a)("div")({position:"absolute",zIndex:10,top:45,padding:16,boxSizing:"border-box",borderRadius:4,left:-53,backgroundColor:"#fff",border:"1px solid ".concat(ze),width:300,minHeight:200,boxShadow:"0px 3px 12px rgba(0,0,0,0.3)","&:before":Object(p.a)(Object(p.a)({},qe),{},{borderColor:"rgba(0,0,0, 0)",borderBottomColor:ze,borderWidth:12,marginLeft:-12}),"&:after":Object(p.a)(Object(p.a)({},qe),{},{borderColor:"rgba(255,255,255, 0)",borderBottomColor:"#fff",borderWidth:10,marginLeft:-10}),"& h1":{fontSize:18,marginTop:0,color:u.a[800]},"& h2":{fontSize:14,color:Ie.a[800]},opacity:1,transition:"opacity 200ms linear, transform 200ms ease","&.hidden":{opacity:0,transform:"translate(0, 10px)",pointerEvents:"none"}}),We=Object(U.a)("div")({color:M.a[500],padding:8,fontSize:14}),Ve=Object(U.a)(A.a)({marginTop:16,justifyContent:"flex-start",color:u.a[500],"& .icon":{marginRight:8,opacity:.7}}),Je=Object(U.a)(A.a)({marginTop:16,justifyContent:"flex-start","& .icon":{marginRight:8,opacity:.7,color:M.a[500]}}),Ge=function(e){var t=e.fileOpen,a=void 0!==t&&t,r=e.inSession,i=void 0!==r&&r,l=e.error,c=e.onJoinSession,s=e.onCreateSession,d=e.onLeaveSession,m=e.sessionBoxOpen,p=e.changeSessionBoxOpen,f=Object(n.useState)(!1),g=Object(h.a)(f,2),b=g[0],v=g[1],y=Object(n.useState)(""),x=Object(h.a)(y,2),E=x[0],O=x[1],w=Object(q.a)("userName","anonymous"),j=Object(h.a)(w,2),k=j[0],C=j[1],I=Fe(),T=Object(R.a)().t;return Object(n.useEffect)((function(){b&&setTimeout((function(){v(!1)}),1e4)}),[b]),o.a.createElement(Me,{title:"collaborate-icon",onMouseEnter:function(){return p(!0)},onMouseLeave:function(){return p(!1)}},o.a.createElement(ke.a,{style:{color:i?u.a[500]:void 0}},o.a.createElement(Se.a,null)),o.a.createElement(He,{className:m?"":"hidden"},o.a.createElement("h1",null,T("collaborate")),i?o.a.createElement(o.a.Fragment,null,o.a.createElement(_.a,{style:{marginTop:12},variant:"outlined",label:"User Name",value:k,onChange:function(e){return C(e.target.value)}}),o.a.createElement(Je,{fullWidth:!0,onClick:d},o.a.createElement(De.a,{className:"icon"}),T("leave-session"))):o.a.createElement(o.a.Fragment,null,o.a.createElement("h2",null,T("join-a-session")),o.a.createElement(_.a,{variant:"outlined",label:"URL to Session",value:E,onChange:function(e){return O(e.target.value)},InputProps:{endAdornment:o.a.createElement(Te.a,{position:"end"},o.a.createElement(ke.a,{color:"primary",onClick:function(){I.capture("join_collaborative_session"),c(E)},disabled:!E},o.a.createElement(S.a,null)))}}),l&&o.a.createElement(We,null,l),o.a.createElement(Ve,{fullWidth:!0,disabled:!a||b||l,onClick:function(){I.capture("create_collaborative_session"),s(),v(!0)}},b?o.a.createElement(Le.a,{className:"icon",size:24}):o.a.createElement(Ae.a,{className:"icon"}),"Create New Session"))))},Ke=a(151),Xe=a.n(Ke),Ye=a(180),Ze=a(179),Qe=Ie.a[500],$e={bottom:"100%",left:"25%",border:"solid transparent",content:'" "',height:0,width:0,position:"absolute",pointerEvents:"none"},et=Object(U.a)("div")({position:"absolute",zIndex:10,top:45,padding:16,boxSizing:"border-box",borderRadius:4,left:-53,backgroundColor:"#fff",border:"1px solid ".concat(Qe),width:300,minHeight:200,boxShadow:"0px 3px 12px rgba(0,0,0,0.3)","&:before":Object(p.a)(Object(p.a)({},$e),{},{borderColor:"rgba(0,0,0, 0)",borderBottomColor:Qe,borderWidth:12,marginLeft:-12}),"&:after":Object(p.a)(Object(p.a)({},$e),{},{borderColor:"rgba(255,255,255, 0)",borderBottomColor:"#fff",borderWidth:10,marginLeft:-10}),"& h1":{fontSize:18,marginTop:0,color:u.a[800]},"& h2":{fontSize:14,color:Ie.a[800]},opacity:1,transition:"opacity 200ms linear, transform 200ms ease","&.hidden":{opacity:0,transform:"translate(0, 10px)",pointerEvents:"none"}}),tt=function(e){var t=e.open,a=e.children;return o.a.createElement(et,{className:t?"":"hidden"},a)},at=a(1065),nt=a(1064),ot=a(1063),rt=a(1062),it=a(521),lt=a.n(it),ct=a(184),st=a.n(ct),ut=a(520),dt=a.n(ut),mt=a(183),pt=a.n(mt),ft=Object(U.a)(rt.a)({backgroundColor:Ie.a[100],borderBottom:"1px solid ".concat(Ie.a[300]),paddingBottom:12,boxShadow:"0px 2px 3px rgba(0,0,0,0.05)"}),gt=Object(U.a)(ot.a)({paddingTop:16}),bt=Object(U.a)(nt.a)({backgroundColor:Ie.a[100],borderTop:"1px solid ".concat(Ie.a[300])}),ht=function(e){var t=e.open,a=void 0!==t&&t,r=e.title,i=e.children,l=e.markdownContent,c=e.onClose,s=e.red,d=e.noActionBar,m=void 0!==d&&d,p=e.actions,f=void 0===p?[]:p,g=Object(n.useState)(!1),b=Object(h.a)(g,2),v=b[0],y=b[1];return o.a.createElement(at.a,{open:a,onClose:c,fullScreen:v},o.a.createElement(ft,null,o.a.createElement(be.a,{display:"flex",alignItems:"center"},o.a.createElement("span",{style:{color:s?M.a[700]:void 0}},r),o.a.createElement("div",{style:{flexGrow:1}}),o.a.createElement(ke.a,{onClick:function(){return y(!v)}},v?o.a.createElement(dt.a,null):o.a.createElement(st.a,null)),o.a.createElement(ke.a,{onClick:c},o.a.createElement(lt.a,null)))),o.a.createElement(gt,null,o.a.createElement(be.a,{maxWidth:"90vw",minWidth:400,lineHeight:1.5},l?o.a.createElement(pt.a,{source:l}):i)),!m&&o.a.createElement(bt,null,o.a.createElement(A.a,{onClick:function(){return c()}},o.a.createElement("span",{style:{color:Ie.a[700],fontWeight:500}},"Close")),f.map((function(e,t){return o.a.createElement(A.a,{disabled:e.disabled,key:t,onClick:e.onClick},o.a.createElement("span",{style:{color:s?M.a[700]:e.disabled?Ie.a[400]:u.a[700],fontWeight:500}},e.text))}))))},vt=Object(U.a)("div")({position:"relative"}),yt=Object(U.a)(A.a)({justifyContent:"flex-start","& .fakeicon":{display:"inline",marginRight:8,padding:4,paddingTop:5,fontSize:11,fontWeight:"bold",color:"#fff",backgroundColor:Ie.a[700],borderRadius:4,width:36,"&.blue":{backgroundColor:u.a[700]},"&.green":{backgroundColor:Ye.a[700]},"&.orange":{backgroundColor:Ze.a[700]}}}),xt=function(e){var t=e.interfaceType,a=e.onDownload,r=Object(n.useState)(!1),i=Object(h.a)(r,2),l=i[0],c=i[1],s=Object(n.useState)(!1),d=Object(h.a)(s,2),m=d[0],p=d[1],f=Object(R.a)().t;return o.a.createElement(vt,{onMouseEnter:function(){return c(!0)},onMouseLeave:function(){return c(!1)}},o.a.createElement(ke.a,null,o.a.createElement(Xe.a,null)),o.a.createElement(tt,{open:l},o.a.createElement("h1",null,f("download")),o.a.createElement(yt,{fullWidth:!0,onClick:function(){return a("csv")}},o.a.createElement("div",{className:"fakeicon green"},"CSV"),f("download-csv")),o.a.createElement(yt,{fullWidth:!0,onClick:function(){return a("json")}},o.a.createElement("div",{className:"fakeicon blue"},"JSON"),f("download-json")),(t||"").includes("image")&&(t||"").includes("segmentation")&&o.a.createElement(yt,{fullWidth:!0,onClick:function(){return p(!0)}},o.a.createElement("div",{className:"fakeicon orange"},"IMG"),"Download Masks")),o.a.createElement(ht,{title:"How to Download Masks",open:m,onClose:function(){return p(!1)}},'We can\'t process the image masks online because of processing limitations, however, if you have "npm" installed you can run the line below to get all the masks in your file.',o.a.createElement("pre",null,"npx autoseg some_file.udt.json -o output_directory"),o.a.createElement("div",{style:{marginTop:16}},"Read more about"," ",o.a.createElement("a",{style:{color:u.a[500]},href:"https://github.com/UniversalDataTool/autoseg/blob/master/README.md"},"autoseg"),".")))},Et=a(284);var Ot=function(e){return o.a.createElement(Et.a,e,o.a.createElement("path",{d:"M12.007 0C6.12 0 1.1 4.27.157 10.08c-.944 5.813 2.468 11.45 8.054 13.312.19.064.397.033.555-.084.16-.117.25-.304.244-.5v-2.042c-3.33.735-4.037-1.56-4.037-1.56-.22-.726-.694-1.35-1.334-1.756-1.096-.75.074-.735.074-.735.773.103 1.454.557 1.846 1.23.694 1.21 2.23 1.638 3.45.96.056-.61.327-1.178.766-1.605-2.67-.3-5.462-1.335-5.462-6.002-.02-1.193.42-2.35 1.23-3.226-.327-1.015-.27-2.116.166-3.09 0 0 1.006-.33 3.3 1.23 1.966-.538 4.04-.538 6.003 0 2.295-1.5 3.3-1.23 3.3-1.23.445 1.006.49 2.144.12 3.18.81.877 1.25 2.033 1.23 3.226 0 4.607-2.805 5.627-5.476 5.927.578.583.88 1.386.825 2.206v3.29c-.005.2.092.393.26.507.164.115.377.14.565.063 5.568-1.88 8.956-7.514 8.007-13.313C22.892 4.267 17.884.007 12.008 0z"}))},wt=a(287),jt=a(523),kt=a.n(jt),Ct=a(433),St=a(434),It=a(177),Tt=a(435),_t=a(176),At=a(20),Nt=a(362),Dt=a.n(Nt),Lt=a(522),Pt=a.n(Lt),Ut=a(25),Rt=function(e,t){for(var a={},n=100;n<1e3;n++)a[n]=n-t<=0?"#fff":e[n-t];return a},Bt=Object(p.a)(Object(p.a)({},Ie.a),{},{isFaded:!0}),Ft=[u.a,Ct.a,Ye.a,St.a,It.a,Tt.a,Ze.a,_t.a],Mt=Object(p.a)(Object(p.a)({},Ut),{},{complete:u.a,incomplete:Bt,faded:Bt,review:Ct.a,ellipsis1:Rt(Ie.a,100),ellipsis2:Rt(Ie.a,200),ellipsis3:Rt(Ie.a,300)}),zt=function(e){return Mt[e]||Ft[Pt()(e)*Ft.length]},qt=Object(U.a)("div")({position:"relative"}),Ht=Object(U.a)("div")((function(e){return{display:"inline",marginRight:8,backgroundColor:e.color[700],width:24,height:24,borderRadius:20}})),Wt=Object(U.a)("div")({paddingTop:10,padding:4,display:"flex",flexWrap:"wrap"}),Vt=Object(U.a)(ke.a)((function(e){var t=e.iconcolor,a=e.selected;return{display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:t[700],border:a?"4px solid ".concat(t.A200):"4px solid #fff",boxSizing:"content-box",margin:4,transition:"transform 200ms linear","&:hover":{backgroundColor:t[800],transform:"scale(1.2,1.2)"},"&:active":{transition:"transform 100ms linear",transform:"scale(1.4,1.4)"}}})),Jt=Object(U.a)(A.a)((function(e){var t=e.selected,a=e.iconcolor;return{justifyContent:"flex-start",marginTop:4,marginBottom:4,paddingTop:8,paddingBottom:8,backgroundColor:t?a[50]:"#fff",border:t?"2px solid ".concat(a[200]):"2px solid #fff","&:hover":{backgroundColor:t?a[100]:"none"}}})),Gt=function(e){var t=e.selectedBrush,a=e.onChangeSelectedBrush,r=Object(n.useState)(!1),i=Object(h.a)(r,2),l=i[0],c=i[1],s=Object(At.a)((function(e){return Dt()((function(){return a(e)}))})),d=Object(R.a)().t;return o.a.createElement(qt,{onMouseEnter:function(){return c(!0)},onMouseLeave:function(){return c(!1)}},o.a.createElement(ke.a,null,o.a.createElement(kt.a,{style:{color:zt(t)[800]}})),o.a.createElement(tt,{open:l},o.a.createElement("h1",null,d("sample-brushes")),o.a.createElement(Jt,{selected:"complete"===t||"blue"===t,iconcolor:u.a,fullWidth:!0,onClick:s("complete")},o.a.createElement(Ht,{color:u.a}),d("complete")),o.a.createElement(Jt,{selected:"review"===t||"deepOrange"===t,iconcolor:Ct.a,fullWidth:!0,onClick:s("review")},o.a.createElement(Ht,{color:Ct.a}),d("review")),o.a.createElement(Wt,null,o.a.createElement(Vt,{onClick:s("green"),selected:"green"===t,iconcolor:Ye.a}),o.a.createElement(Vt,{onClick:s("purple"),selected:"purple"===t,iconcolor:St.a}),o.a.createElement(Vt,{onClick:s("pink"),selected:"pink"===t,iconcolor:It.a}),o.a.createElement(Vt,{onClick:s("cyan"),selected:"cyan"===t,iconcolor:Tt.a}),o.a.createElement(Vt,{onClick:s("orange"),selected:"orange"===t,iconcolor:Ze.a}),o.a.createElement(Vt,{onClick:s("indigo"),selected:"indigo"===t,iconcolor:_t.a}))))},Kt=function(e){return o.a.createElement(Et.a,null,o.a.createElement("svg",{style:{width:32,height:32},viewBox:"50 60 160 160"},o.a.createElement("g",null,o.a.createElement("g",null,o.a.createElement("path",{d:"M99.4,151.2c0,7.1-5.8,12.9-12.9,12.9s-12.9-5.8-12.9-12.9c0-7.1,5.8-12.9,12.9-12.9h12.9V151.2z"}),o.a.createElement("path",{d:"M105.9,151.2c0-7.1,5.8-12.9,12.9-12.9s12.9,5.8,12.9,12.9v32.3c0,7.1-5.8,12.9-12.9,12.9 s-12.9-5.8-12.9-12.9C105.9,183.5,105.9,151.2,105.9,151.2z"})),o.a.createElement("g",null,o.a.createElement("path",{d:"M118.8,99.4c-7.1,0-12.9-5.8-12.9-12.9s5.8-12.9,12.9-12.9s12.9,5.8,12.9,12.9v12.9H118.8z"}),o.a.createElement("path",{d:"M118.8,105.9c7.1,0,12.9,5.8,12.9,12.9s-5.8,12.9-12.9,12.9H86.5c-7.1,0-12.9-5.8-12.9-12.9 s5.8-12.9,12.9-12.9C86.5,105.9,118.8,105.9,118.8,105.9z"})),o.a.createElement("g",null,o.a.createElement("path",{d:"M170.6,118.8c0-7.1,5.8-12.9,12.9-12.9c7.1,0,12.9,5.8,12.9,12.9s-5.8,12.9-12.9,12.9h-12.9V118.8z"}),o.a.createElement("path",{d:"M164.1,118.8c0,7.1-5.8,12.9-12.9,12.9c-7.1,0-12.9-5.8-12.9-12.9V86.5c0-7.1,5.8-12.9,12.9-12.9 c7.1,0,12.9,5.8,12.9,12.9V118.8z"})),o.a.createElement("g",null,o.a.createElement("path",{d:"M151.2,170.6c7.1,0,12.9,5.8,12.9,12.9c0,7.1-5.8,12.9-12.9,12.9c-7.1,0-12.9-5.8-12.9-12.9v-12.9H151.2z"}),o.a.createElement("path",{d:"M151.2,164.1c-7.1,0-12.9-5.8-12.9-12.9c0-7.1,5.8-12.9,12.9-12.9h32.3c7.1,0,12.9,5.8,12.9,12.9 c0,7.1-5.8,12.9-12.9,12.9H151.2z"})))))},Xt=a(524),Yt=Object(y.a)((function(e){return{headerButton:{marginLeft:16},grow:{flexGrow:1},list:{width:300},tab:{color:"#000","& .icon":{}},fullHeightTab:Object(p.a)(Object(p.a)({},e.mixins.toolbar),{},Object(I.a)({},e.breakpoints.down("sm"),{minWidth:20})),tabWrapper:{display:"flex",flexDirection:"row",alignItems:"center",textTransform:"none",color:"#000","&&& svg":{marginBottom:0,marginRight:8,width:18,height:18}}}})),Zt=function(e){switch(e){case"Setup":return o.a.createElement(ve.a,{className:"icon"});case"Label":return o.a.createElement(Oe.a,{className:"icon"});case"Samples":return o.a.createElement(xe.a,{className:"icon"});default:return o.a.createElement("div",null)}},Qt=Object(n.memo)((function(e){var t,a=e.tabs,n=e.currentTab,r=e.onChangeTab,i=e.additionalButtons,l=e.onOpenDrawer,c=e.title,s=void 0===c?"Universal Data Tool":c,u=e.interfaceType,d=e.isDesktop,m=e.fileOpen,p=e.sessionBoxOpen,f=e.changeSessionBoxOpen,g=e.inSession,b=e.onCreateSession,h=e.onLeaveSession,v=e.onJoinSession,y=e.onDownload,x=e.selectedBrush,E=e.onChangeSelectedBrush,O=e.isSmall,w=(e.authConfig,e.changeLoginDrawerOpen),j=e.collaborateError,k=e.isWelcomePage,C=Yt(),S=oe(),I=S.authProvider,T=S.isLoggedIn,_=S.logout;return o.a.createElement(me.a,{color:"default",position:"static"},o.a.createElement(pe.a,{variant:"dense"},!d&&o.a.createElement(ke.a,{onClick:l,className:C.headerButton},o.a.createElement(je.a,null)),m?s:"Universal Data Tool v"+wt.version,o.a.createElement(Ge,{sessionBoxOpen:p,changeSessionBoxOpen:f,fileOpen:m,inSession:g,onCreateSession:b,onLeaveSession:h,onJoinSession:v,error:j}),m&&o.a.createElement(Gt,{selectedBrush:x,onChangeSelectedBrush:E}),!d&&m&&o.a.createElement(xt,{interfaceType:u,onDownload:y}),o.a.createElement("div",{className:C.grow}),i,a.length>0&&o.a.createElement(fe.a,{onChange:function(e,t){return r(t.toLowerCase())},value:n},a.map((function(e){return o.a.createElement(ge.a,{key:e,classes:{root:C.fullHeightTab,wrapper:C.tabWrapper},className:C.tab,icon:Zt(e),label:O?"":e,value:e.toLowerCase()})}))),"none"!==I&&k&&!T&&o.a.createElement(A.a,{onClick:function(){w(!0)},className:C.headerButton},"Login with ",(t=I).charAt(0).toUpperCase()+t.slice(1)),T&&o.a.createElement(A.a,{onClick:_,className:C.headerButton},"Logout"),!O&&!k&&o.a.createElement(ke.a,{href:"https://github.com/UniversalDataTool/universal-data-tool",className:C.headerButton},o.a.createElement(Ot,null)),!O&&k&&o.a.createElement(be.a,{paddingTop:"4px",paddingLeft:"8px"},o.a.createElement(Xt.a,{href:"https://github.com/UniversalDataTool/universal-data-tool","data-icon":"octicon-star","data-size":"large","data-show-count":"true","aria-label":"Star UniversalDataTool/universal-data-tool on GitHub"},"Star")),!O&&k&&o.a.createElement(ke.a,{href:"https://join.slack.com/t/universaldatatool/shared_invite/zt-d8teykwi-iOSOUfxugKR~M4AJN6VL3g",className:C.headerButton},o.a.createElement(Kt,null))))})),$t=a(136),ea=a(1058),ta=a(990),aa=a(443),na=a(1070),oa=a(1071),ra=a(531),ia=a(529),la=a.n(ia),ca=a(234),sa=a(375),ua=a.n(sa),da=a(291),ma=a.n(da),pa=a(527),fa=a.n(pa),ga=a(187),ba=a.n(ga),ha=a(119),va=a.n(ha),ya=a(293),xa=a.n(ya),Ea=a(294),Oa=a.n(Ea),wa=a(295),ja=a.n(wa),ka=a(233),Ca=a.n(ka),Sa=a(528),Ia=a.n(Sa),Ta=a(292),_a=a.n(Ta),Aa=[{name:"Empty",Icon:fa.a,dataset:{interface:{},samples:[]}},{name:"Image Segmentation",Icon:ua.a,dataset:{interface:{type:"image_segmentation",labels:["valid","invalid"],regionTypesAllowed:["bounding-box","polygon","point"]},samples:[{imageUrl:"https://s3.amazonaws.com/asset.workaround.online/example-jobs/sticky-notes/image1.jpg"},{imageUrl:"https://s3.amazonaws.com/asset.workaround.online/example-jobs/sticky-notes/image2.jpg"}]}},{name:"Image Classification",Icon:ma.a,dataset:{interface:{type:"image_classification",labels:["valid","invalid"]},samples:[{imageUrl:"https://s3.amazonaws.com/asset.workaround.online/example-jobs/sticky-notes/image1.jpg"},{imageUrl:"https://s3.amazonaws.com/asset.workaround.online/example-jobs/sticky-notes/image2.jpg"}]}},{name:"Video Segmentation",Icon:Ca.a,dataset:{interface:{type:"video_segmentation",labels:["valid","invalid"],regionTypesAllowed:["bounding-box","polygon","point"]},samples:[{videoUrl:"https://s3.amazonaws.com/asset.workaround.online/SampleVideo_1280x720_1mb.mp4"}]}},{name:"Data Entry",Icon:va.a,dataset:{interface:{type:"data_entry",description:"# Markdown description here",surveyjs:{questions:[{type:"text",name:"document_title",title:"Title of Document"}]}},samples:[{pdfUrl:"https://arxiv.org/pdf/1906.01969.pdf"},{pdfUrl:"https://arxiv.org/pdf/1908.07069.pdf"}]}},{name:"Named Entity Recognition",Icon:ba.a,dataset:{interface:{type:"text_entity_recognition",overlapAllowed:!1,labels:[{id:"food",displayName:"Food",description:"Edible item."},{id:"hat",displayName:"Hat",description:"Something worn on the head."}]},samples:[{document:"This strainer makes a great hat, I'll wear it while I serve spaghetti!"},{document:"Why are all these dumpings covered in butter?!"}]}},{name:"Text Entity Relations",Icon:function(e){var t=Object.assign({},e);return o.a.createElement(_a.a,Object.assign({},t,{style:Object(p.a)(Object(p.a)({},t.style),{},{transform:"rotate(90deg)"})}))},dataset:{interface:{type:"text_entity_relations",entityLabels:[{id:"food",displayName:"Food",description:"Edible item."},{id:"hat",displayName:"Hat",description:"Something worn on the head."}],relationLabels:[{id:"subject",displayName:"Subject"}]},samples:[{document:"This strainer makes a great hat, I'll wear it while I serve spaghetti!"},{document:"Why are all these dumpings covered in butter?!"}]}},{name:"Text Classification",Icon:Ia.a,dataset:{interface:{type:"text_classification",labels:["positive_sentiment","negative_sentiment"]},samples:[{document:"Wow this is terrible. I hated it."},{document:"This has made me so happy. I love this."},{document:"At first I wasn't sure. Then I thought, oh it's not very good."}]}},{name:"Audio Transcription",Icon:xa.a,dataset:{interface:{type:"audio_transcription",description:"# Markdown description here"},samples:[{audioUrl:"https://html5tutorial.info/media/vincent.mp3"}]}},{name:"Composite",Icon:Oa.a,dataset:{description:"# Markdown description here",interface:{type:"composite",fields:[{fieldName:"textInfo",interface:{type:"data_entry",surveyjs:{questions:[{type:"text",name:"group_letter",title:"Letter of Group"}]}}},{fieldName:"segmentation",interface:{type:"image_segmentation",labels:["group text"],regionTypesAllowed:["bounding-box"]}}]},samples:[{imageUrl:"https://s3.amazonaws.com/asset.workaround.online/example-jobs/sticky-notes/image1.jpg"},{imageUrl:"https://s3.amazonaws.com/asset.workaround.online/example-jobs/sticky-notes/image2.jpg"}]}},{name:"Pixel Segmentation",Icon:ua.a,dataset:{interface:{type:"image_pixel_segmentation",labels:["hair","mouth","nose","eyes"],description:"These are AI-generated faces, not real people."},samples:[{imageUrl:"https://s3.amazonaws.com/datasets.workaround.online/faces/010041.jpg"},{imageUrl:"https://s3.amazonaws.com/datasets.workaround.online/faces/010026.jpg"},{imageUrl:"https://s3.amazonaws.com/datasets.workaround.online/faces/010025.jpg"}]}},{name:"3D Bounding Box",Icon:ja.a,dataset:{interface:{type:"3d_bounding_box",description:"3D Bounding Box"},samples:[{}]}}],Na=Aa.reduce((function(e,t){return e[t.name]=t,e[t.dataset.interface.type]=t,e}),{}),Da=Aa,La=a(296),Pa=a.n(La),Ua=a(530),Ra=a.n(Ua),Ba=Object(y.a)({}),Fa=function(e){var t=e.recentItems,a=e.changeRecentItems,r=e.onClickHome,i=e.onCloseDrawer,l=e.drawerOpen,c=e.onOpenFile,s=e.onOpenRecentItem,u=e.onClickTemplate,d=Ba(),m=Object(R.a)().t,p=Object(n.useCallback)((function(e){c(e[0])}),[c]);var f=Object($t.a)({onDrop:p}),g=f.getRootProps,b=f.getInputProps;return o.a.createElement(x.a,{open:l,onClose:i},o.a.createElement(ea.a,{className:d.list},o.a.createElement(ta.a,{onClick:r,button:!0},o.a.createElement(na.a,null,o.a.createElement(la.a,null)),o.a.createElement(aa.a,null,"Home")),o.a.createElement(ta.a,Object.assign({},g(),{button:!0}),o.a.createElement(na.a,null,o.a.createElement(Ra.a,null)),o.a.createElement(aa.a,null,"Open File"),o.a.createElement("input",b())),o.a.createElement(oa.a,null,"Recent Files"),0===t.length?o.a.createElement(ta.a,null,o.a.createElement(aa.a,{style:{textAlign:"center",color:Ie.a[500]}},m("no-recent-items"))):t.map((function(e,n){return o.a.createElement(ta.a,{key:e.fileName,button:!0},o.a.createElement(na.a,{onClick:function(){s(e)}},o.a.createElement(Pa.a,null)),o.a.createElement(aa.a,{onClick:function(){s(e)}},e.fileName),o.a.createElement(na.a,{onClick:function(){var n;n=e.id,a(t.filter((function(e){return e.id!==n})))}},o.a.createElement(ca.b,null)))})),o.a.createElement(oa.a,null,"Create From Template"),Da.map((function(e){return o.a.createElement(ta.a,{button:!0,key:e.name,onClick:function(){return u(e)}},o.a.createElement(na.a,null,o.a.createElement(e.Icon,null)),o.a.createElement(aa.a,null,e.name))})),o.a.createElement(oa.a,null,m("explore-more")),o.a.createElement(ta.a,{button:!0,onClick:function(){window.location.href="https://github.com/OpenHumanAnnotation/universal-data-tool/releases"}},o.a.createElement(na.a,null,o.a.createElement(ra.a,null)),o.a.createElement(aa.a,null,"Github"))))},Ma=Object(n.createContext)({recentItems:[],changeRecentItems:function(){return null},onClickTemplate:function(){return null},onClickHome:function(){return null},onOpenFile:function(){return null},onOpenRecentItem:function(){return null},isDesktop:!1,inSession:!1,onJoinSession:function(){return null},onCreateSession:function(){return null},onLeaveSession:function(){return null},sessionBoxOpen:!1,changeSessionBoxOpen:function(){return null},fileOpen:!1,onDownload:function(){return null},authConfig:null,onUserChange:function(){return null},user:null,logoutUser:function(){return null}}),za=[],qa=function(e){var t=e.additionalButtons,a=void 0===t?za:t,r=e.title,i=e.currentTab,l=e.onChangeTab,c=e.tabs,s=void 0===c?za:c,u=Object(n.useState)(!1),d=Object(h.a)(u,2),m=d[0],p=d[1],f=Object(n.useState)(!1),g=Object(h.a)(f,2),b=g[0],y=g[1],x=Object(n.useContext)(Ma);x.recentItems||(x.recentItems=[]);var E=Object(v.a)("(max-width: 800px)"),O=Object(n.useCallback)((function(){return p(!0)}),[]),w=Object(n.useCallback)((function(){return p(!1)}),[]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(Qt,Object.assign({tabs:s,currentTab:i,onChangeTab:l,additionalButtons:a,onOpenDrawer:O,isSmall:E},x,{changeLoginDrawerOpen:y,title:r})),o.a.createElement(Fa,{drawerOpen:m,onCloseDrawer:w,onClickHome:x.onClickHome,recentItems:x.recentItems,changeRecentItems:x.changeRecentItems,onOpenFile:x.onOpenFile,onClickTemplate:x.onClickTemplate,onOpenRecentItem:x.onOpenRecentItem}),o.a.createElement(de,{authConfig:x.authConfig,loginDrawerOpen:b,onClose:function(){return y(!1)},onUserChange:x.onUserChange,logoutUser:x.logoutUser}))},Ha=Object(y.a)({bigButton:{padding:10,width:150,height:120,border:"1px solid #ccc",margin:10},bigIcon:{width:48,height:48}}),Wa=function(e){var t=e.open,a=e.onClose,n=e.onSelect,r=Ha();return o.a.createElement(ht,{title:"Create from Template",open:t,onClose:a},Da.map((function(e){return o.a.createElement(A.a,{key:e.name,onClick:function(){return n(e)},className:r.bigButton},o.a.createElement("div",null,o.a.createElement("div",null,e.name),o.a.createElement("div",null,o.a.createElement(e.Icon,{className:r.bigIcon}))))})))},Va=function(e){return o.a.createElement(Et.a,Object.assign({},e,{viewBox:"0 0 75 75"}),o.a.createElement("g",{id:"Reference"},o.a.createElement("rect",{id:"Red_Light_BG","data-name":"Red Light BG",style:{fill:"#d6242d"},width:"75",height:"75"}),o.a.createElement("g",{id:"Product_Icon","data-name":"Product Icon"},o.a.createElement("path",{style:{fill:"#fff"},d:"M55,15H16.46a3.92,3.92,0,0,0-3.71,4.1v24.8A3.92,3.92,0,0,0,16.46,48H37.75V46H16.46a2,2,0,0,1-1.71-2.1V27h18V42a1,1,0,0,0,1,1h8V41H35.2V40.7a7.74,7.74,0,0,1,5.53-7.43,5.91,5.91,0,0,0,4.92,0,7.82,7.82,0,0,1,4.42,3.42l1.7-1v0a9.8,9.8,0,0,0-4.34-3.82,5.4,5.4,0,0,0,1.27-3.48,5.5,5.5,0,0,0-11,0A5.42,5.42,0,0,0,39,31.8a9.67,9.67,0,0,0-4.22,3.62V22h17v13.7h0V36h2V27h3V37h2l0-17.9A3.92,3.92,0,0,0,55,15ZM43.2,24.87a3.48,3.48,0,0,1,3.5,3.46,3.43,3.43,0,0,1-1.81,3,3.57,3.57,0,0,1-3.39,0,3.44,3.44,0,0,1-1.8-3A3.48,3.48,0,0,1,43.2,24.87ZM53.75,25V21a1,1,0,0,0-1-1h-19a1,1,0,0,0-1,1v4h-18v-5.9A2,2,0,0,1,16.46,17H55a2,2,0,0,1,1.73,2.1V25Z"}),o.a.createElement("rect",{style:{fill:"#fff"},x:"16.77",y:"31.95",width:"10.98",height:"2"}),o.a.createElement("rect",{style:{fill:"#fff"},x:"16.77",y:"36.95",width:"6.98",height:"2"}),o.a.createElement("rect",{style:{fill:"#fff"},x:"25.77",y:"36.95",width:"2.98",height:"2"}),o.a.createElement("path",{style:{fill:"#fff"},d:"M51.78,35.65h0v0Z"}),o.a.createElement("path",{style:{fill:"#fff"},d:"M52.14,60.05a10.11,10.11,0,1,1,1.22-20.14h0a10.12,10.12,0,0,1,6.46,16.61,10.47,10.47,0,0,1-3.37,2.57A10.19,10.19,0,0,1,52.14,60.05Zm0-18.22a8,8,0,0,0-3.69.9,8.11,8.11,0,0,0,7.16,14.55,8.2,8.2,0,0,0,2.71-2.07,8.11,8.11,0,0,0-5.19-13.32h0A8.22,8.22,0,0,0,52.12,41.83Z"}),o.a.createElement("path",{style:{fill:"#fff"},d:"M50.55,54.2h0a1,1,0,0,1-.71-.29l-3.23-3.23L48,49.27l2.52,2.52,5.7-5.71,1.42,1.42-6.42,6.41A1,1,0,0,1,50.55,54.2Z"}),o.a.createElement("path",{style:{fill:"#fff"},d:"M51.78,35.65h0v0Z"}))))},Ja=a(532),Ga=a.n(Ja),Ka=a(533),Xa=a.n(Ka),Ya=[{name:"AWS - Cognito",provider:"cognito",Icon:Va},{name:"AWS - S3 (IAM)",provider:"s3iam",Icon:Ga.a},{name:"Proxy",provider:"proxy",Icon:Xa.a}],Za=a(44),Qa=a.n(Za),$a=a(1073),en=a(597),tn=Object(y.a)({root:{position:"fixed",display:"flex",flexDirection:"column",bottom:0,left:0,right:0,alignItems:"center",pointerEvents:"none"},errorBox:{display:"flex",backgroundColor:M.a[700],color:"#fff",padding:4,marginBottom:4}}),an=function(e){var t=e.errors,a=tn();return o.a.createElement("div",{className:a.root},t.map((function(e){return o.a.createElement($a.a,{key:e.id,in:e.life<5e3},o.a.createElement(en.a,{in:e.life>500},o.a.createElement("div",{className:a.errorBox},e.message)))})))},nn=function(){var e=Object(n.useState)([]),t=Object(h.a)(e,2),a=t[0],o=t[1];return Object(n.useEffect)((function(){if(0===a.length)return function(){};var e=setInterval((function(){o(a.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{life:e.life-100})})).filter((function(e){return e.life>0})))}),100);return function(){return clearInterval(e)}}),[a]),[a,function(e){o(a.concat([{id:Math.random().toString().split(".")[1],message:e,life:5e3}]))}]},on=Object(y.a)({bigButton:{padding:10,width:150,height:120,border:"1px solid #ccc",margin:10},bigIcon:{width:48,height:48},cognitoIcon:{width:48,height:48},howToSetupText:{padding:16,color:Ie.a[600],"& a":{color:u.a[500],textDecoration:"none"}}}),rn={cognito:{questions:[{name:"auth.cognito.identity_pool_id",title:"Amazon Cognito Identity Pool ID",placeholder:"XX-XXXX-X:XXXXXXXX-XXXX-1234-abcd-1234567890ab",type:"text",isRequired:!0},{name:"auth.cognito.region",title:"AWS Region",placeholder:"XX-XXXX-X",type:"text",isRequired:!0},{name:"auth.cognito.user_pool_id",title:"Amazon Cognito User Pool ID",placeholder:"XX-XXXX-X_12ab34cd9",type:"text",isRequired:!0},{name:"auth.cognito.user_pool_web_client_id",title:"Amazon Cognito Web Client ID",placeholder:"26-char alphanumeric string",type:"text",isRequired:!0},{name:"auth.cognito.storage.aws_s3.bucket",title:"Bucket AWS",placeholder:"Name of the bucket",type:"text",isRequired:!0},{name:"auth.cognito.storage.aws_s3.region",title:"Region of the bucket",placeholder:"XX-XXXX-X",type:"text",isRequired:!0}]},s3iam:{questions:[{name:"auth.s3iam.access_key_id",title:"Access Key ID",placeholder:"",type:"text",isRequired:!0},{name:"auth.s3iam.secret_access_key",title:"Secret Access Key",placeholder:"",type:"text",isRequired:!0},{name:"auth.s3iam.region",title:"Region",placeholder:"us-east-1",type:"text",isRequired:!0}]},proxy:{questions:[{name:"auth.proxy.corsproxy",type:"text",title:"CORS Proxy",description:"Some requests for images or APIs (like AWS S3) are blocked by browsers for security reasons, this CORs proxy will be used to enable blocked functionality when not using the desktop application."}]}},ln=function(e){var t=e.open,a=e.onClose,r=(e.onSelect,e.onFinish),i=(e.onAuthConfigured,on()),l=Object(n.useState)(null),c=Object(h.a)(l,2),s=c[0],u=c[1],d=Object(n.useState)("Add Authentication"),m=Object(h.a)(d,2),f=m[0],v=m[1],y=nn(),x=Object(h.a)(y,2),E=x[0],O=x[1],w=Z(),j=w.appConfig,k=w.setAppConfig,C=w.fromConfig,S=w.setInConfig,I=function(){var e=Object(b.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("cognito"===t.provider){n={Auth:{identityPoolId:t["auth.cognito.identity_pool_id"],region:t["auth.cognito.region"],userPoolId:t["auth.cognito.user_pool_id"],userPoolWebClientId:t["auth.cognito.user_pool_web_client_id"],mandatorySignIn:!0,authenticationFlowType:"USER_PASSWORD_AUTH"},Storage:{AWSS3:{bucket:t["auth.cognito.storage.aws_s3.bucket"],region:t["auth.cognito.storage.aws_s3.region"]}}};try{B.default.configure(n)}catch(o){O("Invalid Cognito config: "+o.toString())}}k(Object(p.a)(Object(p.a)(Object(p.a)({},j),t),{},{"auth.provider":t.provider})),a(),u(null);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return o.a.createElement(o.a.Fragment,null,o.a.createElement(ht,{title:f,open:t,onClose:function(){a()},onFinish:r},P()(s)&&Ya.map((function(e,t){return o.a.createElement(A.a,{key:e.name,onClick:function(){u(e.provider),v("Add Authentication for ".concat(e.name))},className:i.bigButton},o.a.createElement("div",null,o.a.createElement("div",null,e.name),o.a.createElement("div",null,o.a.createElement(e.Icon,{className:i.cognitoIcon}))))})),"cognito"===s&&o.a.createElement("div",{className:i.howToSetupText},"Check this wiki"," ",o.a.createElement("a",{href:"https://github.com/UniversalDataTool/universal-data-tool/wiki/Cognito---Amplify-Authentication-Setup-Instructions"},"guide for setting up AWS Cognito with the Universal Data Tool"),"."),!P()(s)&&rn[s]&&o.a.createElement(Qa.a,{variant:"flat",form:rn[s],onQuestionChange:function(e,t){S(e,t)},onFinish:function(e){e.provider=s,I(e)},defaultAnswers:Object(p.a)(Object(p.a)({},function(e){var t,a=e.questions.map((function(e){return e.name})),n={},o=Object(H.a)(a);try{for(o.s();!(t=o.n()).done;){var r=t.value,i=C(r);void 0!==i&&(n[r]=i)}}catch(l){o.e(l)}finally{o.f()}return n}(rn[s])),{},{"auth.provider":C("auth.provider")})}),o.a.createElement(an,{errors:E})))},cn=a(90),sn=function(e){var t=e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/),a=t&&11===t[2].length?t[2]:null;return a?"https://youtube.com/embed/".concat(a):null},un=Object(y.a)((function(e){return{container:{display:"flex",flexDirection:"column",backgroundColor:Ie.a[900],height:"100vh"},headerButton:{fontSize:12,backgroundColor:"#fff"},downloadIcon:{marginTop:2,width:18,height:18,marginRight:4,marginLeft:-6,color:Ie.a[700]},languageSelectionWrapper:{display:"flex",flexDirection:"column",textAlign:"center"},languageSelectionBox:Object(I.a)({display:"flex",paddingTop:24},e.breakpoints.up("sm"),{justifyContent:"flex-end"})}})),dn=Object(U.a)("div")((function(e){var t=e.theme;return Object(I.a)({display:"flex",justifyContent:"center",flexGrow:1,color:"#fff",overflowY:"scroll",padding:100},t.breakpoints.down("sm"),{padding:50})})),mn=Object(U.a)("div")((function(e){e.theme;return{display:"flex",flexDirection:"column",width:"calc(100% - 32px)",marginLeft:16,maxWidth:1e3}})),pn=Object(U.a)("div")({marginTop:20,fontSize:36,fontWeight:600,color:Ie.a[300]}),fn={control:function(e,t){return Object(p.a)(Object(p.a)({},e),{},{border:"1px solid #9e9e9e",background:"transparent",color:"#e0e0e0"})},menuList:function(e){return Object(p.a)(Object(p.a)({},e),{},{padding:0,margin:0,color:"black"})},singleValue:function(e){return Object(p.a)(Object(p.a)({},e),{},{color:"white"})}},gn=Object(U.a)("div")({fontSize:18,marginTop:8,color:Ie.a[500]}),bn=Object(U.a)("div")({marginTop:48}),hn=Object(U.a)("a")({display:"block",color:u.a[500],marginTop:4,cursor:"pointer",textDecoration:"none"}),vn=Object(U.a)("div")({fontSize:24,marginBottom:8,color:Ie.a[500]}),yn=Object(U.a)("div")({color:Ie.a[300],"& a":{cursor:"pointer",color:u.a[500],textDecoration:"none"}}),xn=Object(U.a)("div")({color:Ie.a[600],paddingTop:16}),En=Object(U.a)("div")({height:100}),On=[{label:"English",value:"en"},{label:"French",value:"fr"},{label:"Chinese",value:"cn"},{label:"Portuguese",value:"pt"}],wn=function(e){var t=e.onFileDrop,a=e.onOpenTemplate,r=e.showDownloadLink,i=void 0===r||r,l=e.recentItems,c=void 0===l?[]:l,s=e.onOpenRecentItem,u=e.onClickOpenSession,d=un(),m=Fe(),p=Object(R.a)(),f=p.t,v=p.i18n,y=Object(n.useState)(!1),x=Object(h.a)(y,2),E=x[0],O=x[1];Object(n.useEffect)((function(){function e(){return(e=Object(b.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://raw.githubusercontent.com/UniversalDataTool/universal-data-tool/master/package.json").then((function(e){return e.json()}));case 2:(t=e.sent).version!==wt.version&&O(t.version);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var j=Object(n.useState)(null),k=Object(h.a)(j,2),C=k[0],S=k[1];Object(n.useEffect)((function(){function e(){return(e=Object(b.a)(g.a.mark((function e(){var t,a,n,o,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://raw.githubusercontent.com/UniversalDataTool/universal-data-tool/master/README.md").then((function(e){return e.text()}));case 2:t=e.sent,a=t.search("COMMUNITY-UPDATE:START"),n=t.search("COMMUNITY-UPDATE:END"),o=t.slice(a,n).split("\n").slice(1,-1),r=o[0].match(/\((.*)\)/)[1],S({name:o[0].match(/\[(.*)\]/)[1],ytLink:r,embedYTLink:sn(r)});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var I=Object(n.useState)(!1),T=Object(h.a)(I,2),_=T[0],N=T[1],D=Object(n.useState)(!1),L=Object(h.a)(D,2),P=L[0],U=L[1],B=Object(At.a)((function(e){t(e[0])})),F=Object($t.a)({onDrop:B}),M=F.getRootProps,z=F.getInputProps;return o.a.createElement("div",{className:d.container},o.a.createElement(Wa,{open:_,onSelect:function(e){m.capture("template_clicked",{clicked_template:e.name}),a(e)},onClose:function(){return N(!1)}}),o.a.createElement(ln,{open:P,onSelect:function(e){return a(e)},onClose:function(){return U(!1)}}),o.a.createElement(qa,{additionalButtons:[E&&o.a.createElement(A.a,{variant:"outlined",key:"download-latest",className:d.headerButton,href:"https://github.com/OpenHumanAnnotation/universal-data-tool/releases"},o.a.createElement(Xe.a,{className:d.downloadIcon}),f("Download Version")," v",E),!E&&i&&o.a.createElement(A.a,{variant:"outlined",key:"download",href:"https://github.com/OpenHumanAnnotation/universal-data-tool/releases",className:d.headerButton},o.a.createElement(Xe.a,{className:d.downloadIcon}),f("download"))].filter(Boolean)}),o.a.createElement(dn,null,o.a.createElement(mn,null,o.a.createElement(w.a,{container:!0},o.a.createElement(w.a,{xs:12,sm:6,item:!0},o.a.createElement(pn,null,"Universal Data Tool"),o.a.createElement(gn,null,f("universaldatatool-description"))),o.a.createElement(w.a,{xs:12,sm:6,item:!0},o.a.createElement(be.a,{className:d.languageSelectionBox},o.a.createElement(be.a,{width:"100%",maxWidth:200,className:d.languageSelectionWrapper},o.a.createElement(cn.default,{styles:fn,defaultValue:On[0],options:On,onChange:function(e){var t,a=e.value;return t=a,void v.changeLanguage(t)}})))),o.a.createElement(w.a,{xs:12,sm:6,item:!0},o.a.createElement(bn,null,o.a.createElement(vn,null,"Start"),o.a.createElement(hn,{onClick:function(){m.capture("template_clicked",{clicked_template:"empty"}),a(Da.find((function(e){return"Empty"===e.name})))}},f("new-file")),o.a.createElement(hn,{onClick:function(){return N(!0)}},f("start-from-template")),o.a.createElement(hn,M(),o.a.createElement("input",z()),f("open-file")),u&&o.a.createElement(hn,{onClick:u},f("open-collaborative-session")),o.a.createElement(hn,{onClick:function(){return U(!0)}},f("add-authentication")),o.a.createElement(hn,{onClick:function(){window.location.href="https://universaldatatool.com/courses"}},"Create a Training Course")),o.a.createElement(bn,null,o.a.createElement(vn,null,"Recent"),0===c.length?o.a.createElement(xn,null,f("no-recent-files")):c.map((function(e,t){return o.a.createElement(hn,{key:t,onClick:function(){return s(e)}},e.fileName)}))),o.a.createElement(bn,null,o.a.createElement(vn,null,"Help"),o.a.createElement(hn,{href:"https://github.com/UniversalDataTool/universal-data-tool/releases"},f("downloading-and-installing-udt")),o.a.createElement(hn,{href:"https://dev.to/seveibar/make-bounding-boxes-for-artificial-intelligence-with-udt-1kai"},f("labeling-images")),o.a.createElement(hn,{href:"https://github.com/UniversalDataTool/universal-data-tool"},"Github Repository"),o.a.createElement(hn,{href:"https://www.youtube.com/channel/UCgFkrRN7CLt7_iTa2WDjf2g"},"Youtube Channel"))),o.a.createElement(w.a,{xs:12,sm:6,item:!0},o.a.createElement(bn,null,o.a.createElement(vn,null,"About"),o.a.createElement(yn,null,f("start-page-about-first-paragraph"),o.a.createElement("br",null),o.a.createElement("br",null),f("start-page-about-second-paragraph"),o.a.createElement("br",null),o.a.createElement("br",null),f("the-udt-uses-an")," ",o.a.createElement("a",{href:"https://github.com/UniversalDataTool/udt-format"},"open-source data format (.udt.json / .udt.csv)")," ",f("start-page-about-third-paragraph"),o.a.createElement("br",null),o.a.createElement("br",null))),o.a.createElement(bn,null,C&&o.a.createElement(o.a.Fragment,null,o.a.createElement(vn,null,C.name),o.a.createElement("iframe",{title:C.name,width:"320",height:"178",src:C.embedYTLink,frameBorder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})))),o.a.createElement(w.a,{xs:12,sm:6,item:!0},o.a.createElement(En,null))))))},jn=Object(y.a)({textField:{marginLeft:8}}),kn=function(e){var t=e.value,a=e.onChange,r=jn(),i=Object(n.useState)({editing:!1,newValue:t||""}),l=Object(h.a)(i,2),c=l[0],s=c.editing,u=c.newValue,d=l[1];return Object(n.useEffect)((function(){P()(u)||"unnamed"===u?d({editing:s,newValue:t}):d({editing:s,newValue:u})}),[u,s,t]),Object(n.useEffect)((function(){if(s){var e=function(e){"Enter"===e.key&&(a(u),d({editing:!1}))};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}}),[s,u,a]),Object(n.useEffect)((function(){if(u){if(s){var e=setTimeout((function(){a(u),d({editing:!1})}),t===u?1e4:2e3);return function(){return clearTimeout(e)}}return function(){}}}),[s,u,t,a]),o.a.createElement(_.a,{className:r.textField,label:"File Name",variant:"outlined",size:"small",InputProps:{inputProps:{style:{color:"#000"}}},onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),e.target.blur())},onKeyPress:function(e){e.stopPropagation()},onChange:function(e){d({editing:!0,newValue:e.target.value})},value:u||""})},Cn=a(318),Sn=a(198),In=a.n(Sn),Tn=a(105),_n=a.n(Tn),An=a(80),Nn=a.n(An),Dn=a(35),Ln=a.n(Dn),Pn=a(1093),Un=Object(U.a)("div")({flexWrap:"wrap",height:"100%",boxSizing:"border-box",display:"flex",flexDirection:"column"}),Rn=Object(U.a)("div")({fontSize:24,color:Ie.a[500],padding:30,textAlign:"center"}),Bn=Object(U.a)("div")((function(e){var t=e.color;return{color:"#fff",fontVariantNumeric:"tabular-nums",margin:4,padding:4,backgroundColor:t[500],display:"inline-flex",fontSize:14,fontWeight:500,textAlign:"center",justifyContent:"center",minWidth:"3em",borderRadius:3,cursor:"pointer",userSelect:"none",transition:"box-shadow 200ms ease, transform 200ms ease, background-color 200ms ease","&:hover":{backgroundColor:t[700]},"&.selected":{backgroundColor:t[700],boxShadow:"0px 0px 2px 1px ".concat(t.A200),transform:"scale(1.05,1.05)"}}})),Fn=Object(n.memo)((function(e){var t=e.index,a=e.onClick,n=e.completed,r=e.selected,i=e.onMouseDown,l=e.onMouseUp,c=e.onMouseEnter,s=e.brush;return o.a.createElement(Bn,{className:Ln()({completed:n,selected:r}),onClick:function(){return a(t)},onMouseDown:function(){return i(t)},onMouseUp:function(){return l(t)},onMouseEnter:function(){return c(t)},color:zt(s)},t)}),(function(e,t){return e.index===t.index&&e.completed===t.completed&&e.selected===t.selected&&e.brush===t.brush})),Mn=function(e){var t=e.count,a=e.completed,r=void 0===a?[]:a,i=e.samples,l=e.onClick,c=e.tablePaginationPadding,s=void 0===c?0:c,u=Object(q.a)("samplesPerPage",100),d=Object(h.a)(u,2),m=d[0],p=d[1],f=Object(q.a)("sampleOffset",0),g=Object(h.a)(f,2),b=g[0],v=g[1];Object(n.useEffect)((function(){b>t&&v(0)}),[v,b,t]);var y=Object(n.useReducer)((function(e,t){return null===t?null:"number"===typeof t?e?[Math.min(t,e[0]),Math.max(t+1,e[1])]:null:t}),null),x=Object(h.a)(y,2),E=x[0],O=x[1],w=Object(n.useCallback)((function(e){return O([e,e+1])}),[O]),j=Object(n.useCallback)((function(e){return O(e)}),[O]),k=Object(n.useCallback)((function(){}),[]),C=Object(n.useCallback)((function(e){1!==e.buttons&&O(null)}),[O]),S=Object(At.a)(l);return o.a.createElement(Un,{onMouseUp:C,onMouseEnter:C},0===t&&o.a.createElement(Rn,null,'No samples, try using "Import Toy Dataset" in Samples > Import'),o.a.createElement(be.a,{flexGrow:1},Nn()(b,Math.min(t,b+m)).map((function(e){return o.a.createElement(Fn,{onClick:S,key:e,index:e,completed:r[e],brush:r[e]?i[e].brush||"complete":"incomplete",selected:E&&e>=E[0]&&e<E[1],onMouseDown:w,onMouseEnter:j,onMouseUp:k})})),b+m<t&&o.a.createElement(o.a.Fragment,null,Nn()(3).map((function(e){return o.a.createElement(Fn,{onClick:function(){v(b+m)},key:b+m+e,selected:!1,brush:"ellipsis".concat(e+1),index:b+m+e,completed:!1,onMouseEnter:function(){},onMouseDown:function(){},onMouseUp:function(){}})})),o.a.createElement(be.a,{textAlign:"center",marginTop:"16px",color:Ie.a[700]},"More Samples on Next Page"))),o.a.createElement(be.a,{paddingRight:s},o.a.createElement(Pn.a,{rowsPerPageOptions:[100,250,500,1e3,2e3,1e4],component:"div",count:t,rowsPerPage:m,page:Math.floor(b/m),labelRowsPerPage:"Samples per Page:",onChangePage:function(e,t){return v(t*m)},onChangeRowsPerPage:function(e){v(0),p(+e.target.value)}})))},zn=a(551),qn=a.n(zn),Hn=a(550),Wn=a.n(Hn),Vn=a(552),Jn=a.n(Vn),Gn=a(549),Kn=a.n(Gn),Xn=a(542),Yn=a.n(Xn),Zn=a(543),Qn=a.n(Zn),$n=a(544),eo=a.n($n),to=a(307),ao=a.n(to),no=a(545),oo=a.n(no),ro=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};console.log(e);var a=e.replace(/\?.*/g,"").split(".").slice(-1)[0];switch(e.includes("gstatic.com/images")&&(a="jpg"),a.toLowerCase()){case"png":case"jpg":case"gif":case"jpeg":case"bmp":return{imageUrl:e};case"pdf":return{pdfUrl:e};case"mp3":case"wav":return{audioUrl:e};default:if(t.returnNulls)return null;throw new Error('extension not recognized: "'.concat(a,'" in "').concat(e,'"'))}},io=Object(U.a)("div")({marginTop:8,marginBottom:16}),lo=Object(U.a)("textarea")({width:"100%",minHeight:300}),co=Object(U.a)("div")({color:M.a[600],padding:16}),so=[{label:"Auto Detect File Type",value:"auto_detect"},{label:"Image URLs",value:"images"}],uo=function(e){var t=e.open,a=e.onClose,r=e.onAddSamples,i=Object(n.useState)(""),l=Object(h.a)(i,2),c=l[0],s=l[1],u=Object(n.useState)("auto_detect"),d=Object(h.a)(u,2),m=d[0],p=d[1],f=Object(n.useState)(""),g=Object(h.a)(f,2),b=g[0],v=g[1];return o.a.createElement(ht,{title:"Paste Urls",open:t,onClose:a,actions:[{text:"Add Samples",onClick:function(){try{r(c.split("\n").map((function(e){return e.trim()})).filter(Boolean).map((function(e){return"images"===m?{imageUrl:e}:ro(e,{returnNulls:!0})})).filter(Boolean))}catch(e){v(e.toString())}}}]},o.a.createElement(io,null,o.a.createElement(cn.default,{options:so,defaultValue:so[0],onChange:function(e){p(e.value)}})),b&&o.a.createElement(co,null,b),o.a.createElement(lo,{onChange:function(e,t){return s(e.target.value)},placeholder:"Paste URLs here\nOne URL per line"}))},mo=a(500),po=a(1054),fo=a(1055),go=a(1094),bo=a(461),ho=function(e){var t;return P()(e)||(P()(e.imageUrl)||(t=decodeURI(e.imageUrl).match(".*\\/(([^\\/\\\\&\\?]*)\\.([a-zA-Z0-9]*))(\\?|$)")),P()(e.videoUrl)||(t=decodeURI(e.videoUrl).match(".*\\/(([^\\/\\\\&\\?]*)\\.([a-zA-Z0-9]*))(\\?|$)")),P()(e.audioUrl)||(t=decodeURI(e.audioUrl).match(".*\\/(([^\\/\\\\&\\?]*)\\.([a-zA-Z0-9]*))(\\?|$)")),P()(e.pdfUrl)||(t=decodeURI(e.pdfUrl).match(".*\\/(([^\\/\\\\&\\?]*)\\.([a-zA-Z0-9]*))(\\?|$)"))),t},vo=function(e){var t="File",a=e.match("\\/?([^\\/\\\\&\\?]*\\.([a-zA-Z0-9]*))(\\?|$)");return P()(a)||(a=a[2].toLowerCase()),"jpg"!==a&&"jpeg"!==a&&"png"!==a&&"ico"!==a&&"jpe"!==a&&"gif"!==a||(t="Image"),"mp4"!==a&&"mkv"!==a||(t="Video"),"mp3"===a&&(t="Audio"),"pdf"===a&&(t="PDF"),"txt"===a&&(t="Texte"),t},yo=a(9),xo=a.n(yo),Eo=function(e,t){var a={fileName:!1,content:{interface:{type:!1,labels:!1,regionTypesAllowed:!1},samples:!1},id:!1,mode:!1,any:!1};return P()(t)?a:P()(e)?(a.fileName=!0,a.content.interface.type=!0,a.content.interface.labels=!0,a.content.interface.regionTypesAllowed=!0,a.content.samples=!0,a.id=!0,a.mode=!0,a.any=!0,a):(e===t||(a.any=!0,P()(t.id)||(P()(e.id)||t.id!==e.id)&&(a.id=!0),P()(t.content)||(P()(e.content)?(a.content.interface.type=!0,a.content.interface.labels=!0,a.content.interface.regionTypesAllowed=!0,a.content.samples=!0):t.content!==e.content&&(P()(t.content.interface)||(P()(e.content.interface)?(a.content.interface.type=!0,a.content.interface.labels=!0,a.content.interface.regionTypesAllowed=!0):t.content.interface!==e.content.interface&&(P()(t.content.interface.type)||(P()(e.content.interface.type)||t.content.interface.type!==e.content.interface.type)&&(a.content.interface.type=!0),P()(t.content.interface.labels)||(P()(e.content.interface.labels)||t.content.interface.labels!==e.content.interface.labels)&&(a.content.interface.labels=!0),P()(t.content.interface.regionTypesAllowed)||(P()(e.content.interface.regionTypesAllowed)||t.content.interface.regionTypesAllowed!==e.content.interface.regionTypesAllowed)&&(a.content.interface.regionTypesAllowed=!0))),P()(t.content.samples)||(P()(e.content.samples)||t.content.samples!==e.content.samples)&&(a.content.samples=!0))),P()(t.mode)||(P()(e.mode)||t.mode!==e.mode)&&(a.mode=!0),P()(t.fileName)||(P()(e.fileName)||t.fileName!==e.fileName)&&(a.fileName=!0),console.log({resultSet:a})),a)},Oo=function(e){return P()(e.sampleName)?ho(e)[1]:e.sampleName},wo=function(e){return e.imageUrl||e.videoUrl||e.audioUrl||e.pdfUrl||void 0},jo=function(e,t,a){var n=vo(t);return"Image"===n?{annotation:a,imageUrl:t,sampleName:e}:"Video"===n?{annotation:a,videoUrl:t,sampleName:e}:"Audio"===n?{annotation:a,audioUrl:t,sampleName:e}:"PDF"===n?{annotation:a,pdfUrl:t,sampleName:e}:void 0},ko=function(e,t){if(!e||!e.samples||!t)return null;for(var a=e.samples,n=0;n<a.length;n++)if(!P()(a[n])){var o=ho(a[n]);if("undefined"!==typeof a[n].sampleName&&(o[1]=a[n].sampleName),o[1]===t)return a[n]}return null},Co=function(e){if(e&&e.samples){for(var t=0;t<e.samples.length;t++)if(!P()(e.samples[t])){var a,n=e.samples[t];P()(n.document)?(a=ho(n),a=So(e.samples,n,a)):a=[n.document,"sample"+t.toString()+".txt","sample","txt"],n=Object(yo.setIn)(n,["sampleName"],a[1]),e=Object(yo.setIn)(e,["samples",t],n)}return e}},So=function(e,t,a){for(var n=!0,o=1;n;){var r=ko(a[1],e);null!==r&&wo(r)!==wo(t)?(P()(a[2].match("(.*)\\([0-9]*\\)$"))?a[1]=a[2]+"("+o.toString()+")."+a[3]:a[1]=a[2].match("(.*)\\([0-9]*\\)$")[1]+"("+o.toString()+")NaN"+a[3],o++):n=!1}return a},Io=function(e){for(var t=[],a=0;a<e.length;a++){var n=e[a];P()(n.annotation)||(n=Object(yo.setIn)(n,["annotation"],null)),t.push(n)}return t},To=function(e,t){var a={fileName:!1,content:{interface:{type:!1,labels:!1,regionTypesAllowed:!1},samples:!1},id:!1,mode:!1,any:!1};return P()(t)?a:P()(e)?(a.fileName=!0,a.content.interface.type=!0,a.content.interface.labels=!0,a.content.interface.regionTypesAllowed=!0,a.content.samples=!0,a.id=!0,a.mode=!0,a.any=!0,a):(e===t||(a.any=!0,P()(t.id)||(P()(e.id)||t.id!==e.id)&&(a.id=!0),P()(t.content)||(P()(e.content)?(a.content.interface.type=!0,a.content.interface.labels=!0,a.content.interface.regionTypesAllowed=!0,a.content.samples=!0):t.content!==e.content&&(P()(t.content.interface)||(P()(e.content.interface)?(a.content.interface.type=!0,a.content.interface.labels=!0,a.content.interface.regionTypesAllowed=!0):t.content.interface!==e.content.interface&&(P()(t.content.interface.type)||(P()(e.content.interface.type)||t.content.interface.type!==e.content.interface.type)&&(a.content.interface.type=!0),P()(t.content.interface.labels)||(P()(e.content.interface.labels)||t.content.interface.labels!==e.content.interface.labels)&&(a.content.interface.labels=!0),P()(t.content.interface.regionTypesAllowed)||(P()(e.content.interface.regionTypesAllowed)||t.content.interface.regionTypesAllowed!==e.content.interface.regionTypesAllowed)&&(a.content.interface.regionTypesAllowed=!0))),P()(t.content.samples)||(P()(e.content.samples)||t.content.samples!==e.content.samples)&&(a.content.samples=!0))),P()(t.mode)||(P()(e.mode)||t.mode!==e.mode)&&(a.mode=!0),P()(t.fileName)||(P()(e.fileName)||t.fileName!==e.fileName)&&(a.fileName=!0)),a)};function _o(e,t){return e.find((function(e){return e.key==="".concat(t,"/annotations/annotations.json")}))}function Ao(e,t){if(!P()(e.content.samples)){for(var a=[],n=0;n<e.content.samples.length;n++){var o,r=Oo(e.content.samples[n]),i=e.content.samples[n].annotation,l=ko(r,t);o=wo(null===l?t:l),a.push(jo(r,o,i))}e.content.samples=a}}var No=function(){var e=Object(b.a)(g.a.mark((function e(t,a,n,o){var r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(B.default.configure(o),r=null,!_o(t,n)){e.next=5;break}return e.next=5,bo.a.get("".concat(n,"/annotations/annotations.json"),{expires:1728e5,level:"private"}).then(function(){var e=Object(b.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).then(function(){var e=Object(b.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json().then(function(){var e=Object(b.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof t.content){e.next=2;break}return e.abrupt("return");case 2:Ao(r=t,a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log("error getting link for s3 image",e),null}));case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t,a,n,o){return e.apply(this,arguments)}}();function Do(e,t){return Lo.apply(this,arguments)}function Lo(){return(Lo=Object(b.a)(g.a.mark((function e(t,a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.loadProjectIsSelected){e.next=17;break}if("Image"!==vo(t)){e.next=5;break}return e.abrupt("return",{imageUrl:"".concat(t)});case 5:if("Video"!==vo(t)){e.next=9;break}return e.abrupt("return",{videoUrl:"".concat(t)});case 9:if("Audio"!==vo(t)){e.next=13;break}return e.abrupt("return",{audioUrl:"".concat(t)});case 13:if("PDF"!==vo(t)){e.next=15;break}return e.abrupt("return",{pdfUrl:"".concat(t)});case 15:e.next=38;break;case 17:if(vo(t)!==a.typeOfFileToLoad||"Image"!==a.typeOfFileToLoad){e.next=21;break}return e.abrupt("return",{imageUrl:"".concat(t)});case 21:if(vo(t)!==a.typeOfFileToLoad||"Video"!==a.typeOfFileToLoad){e.next=25;break}return e.abrupt("return",{videoUrl:"".concat(t)});case 25:if(vo(t)!==a.typeOfFileToLoad||"Audio"!==a.typeOfFileToLoad){e.next=29;break}return e.abrupt("return",{audioUrl:"".concat(t)});case 29:if(vo(t)!==a.typeOfFileToLoad||"PDF"!==a.typeOfFileToLoad){e.next=33;break}return e.abrupt("return",{pdfUrl:"".concat(t)});case 33:if(vo(t)!==a.typeOfFileToLoad||"Texte"!==a.typeOfFileToLoad){e.next=38;break}return e.next=36,Po(t);case 36:return n=e.sent,e.abrupt("return",{document:"".concat(n)});case 38:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Po(e){return Uo.apply(this,arguments)}function Uo(){return(Uo=Object(b.a)(g.a.mark((function e(t){var a,n,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://cors-anywhere.herokuapp.com/",n="https://cors-anywhere.herokuapp.com/"+t,e.next=4,fetch(n,{method:"GET"}).catch((function(e){console.log("Looks like there was a problem: \n",e)}));case 4:return a=e.sent,e.next=7,a.text();case 7:return o=e.sent,e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ro=function(){var e=Object(b.a)(g.a.mark((function e(t,a,n,o){var r,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:B.default.configure(o),r=[],i=0;case 3:if(!(i<t.length)){e.next=10;break}if(!t[i].key.match("(".concat(a,"/data).*(\\.).*"))){e.next=7;break}return e.next=7,bo.a.get(t[i].key,{expires:86400,level:"private"}).then(function(){var e=Object(b.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.next=3,Do(t,n);case 3:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log("error getting link for s3 image",e),null}));case 7:i++,e.next=3;break;case 10:return e.abrupt("return",r);case 11:case"end":return e.stop()}}),e)})));return function(t,a,n,o){return e.apply(this,arguments)}}(),Bo=function(e,t){var a,n,o=[null,null];return!P()(t)&&(o[0]="image_classification"===(a=t.content.interface.type)||"image_segmentation"===a||"composite"===a?"Image":"video_segmentation"===a?"Video":"audio_transcription"===a?"Audio":"data_entry"===a?"PDF":"text_entity_recognition"===a||"text_classification"===a?"Texte":P()(a)?"Empty":"File",o[1]=(n=t.content.samples,P()(n)||P()(n[0])?"Empty":P()(n[0].imageUrl)?P()(n[0].videoUrl)?P()(n[0].audioUrl)?P()(n[0].pdfUrl)?P()(n[0].document)?"File":"Texte":"PDF":"Audio":"Video":"Image"),!(!e.includes(o[0])||!e.includes(o[1])))},Fo=function(e,t,a){var n=e.content;return n=Object(yo.setIn)(n,["samples"],function(e,t,a){var n=e;"incoming"===a&&(n=Io(e));var o=t;return"current"===a&&(o=Io(t)),n.concat(o)}(e.content.samples,t.content.samples,a.annotationToKeep)),n=Object(yo.setIn)(n,["interface"],t.content.interface),e=Object(yo.setIn)(e,["content"],n),(P()(e.fileName)||"unnamed"===e.fileName)&&(e=Object(yo.setIn)(e,["fileName"],t.fileName)),e},Mo={color:"DodgerBlue"},zo={marginLeft:"auto",marginRight:"auto",width:"100%"},qo=[{name:"Data",selector:"data",sortable:!0},{name:"Last Modified",selector:"lastModified",sortable:!0}],Ho=[{name:"Annotations",selector:"annotation"},{name:"Last Modified",selector:"lastModified",sortable:!0}],Wo=[{name:"Projects",selector:"folder",sortable:!0}],Vo={headCells:{style:{paddingLeft:"10px","font-weight":"bold"}},cells:{style:{paddingLeft:"25px"}}},Jo=function(e){var t=e.data,a=t.rowData,n=t.rowAnnotations;return o.a.createElement(o.a.Fragment,null,o.a.createElement(In.a,{style:{boxSizing:"border-box",paddingLeft:"50px",paddingRight:"10px"},dense:!0,striped:!0,noHeader:!0,columns:Ho,data:n,noDataComponent:'Make sure the project has "annotations" folder',pagination:a.length>10,paginationPerPage:10,paginationRowsPerPageOptions:[10,20,25,50,100,200],customStyles:Vo}),o.a.createElement(In.a,{style:{boxSizing:"border-box",paddingLeft:"50px",paddingRight:"10px"},dense:!0,striped:!0,noHeader:!0,columns:qo,data:a,noDataComponent:'Make sure the project has "data" folder',pagination:a.length>10,paginationPerPage:10,paginationRowsPerPageOptions:[10,20,25,50,100,200],customStyles:Vo}))},Go=function(e){var t=e.file,a=e.open,r=e.onClose,i=e.onAddSamples,l=e.onChangeFile,c=oe(),s=c.authProvider,u=c.user,d=c.authConfig,m=Object(n.useState)("Add Samples"),f=Object(h.a)(m,2),v=f[0],y=f[1],x=Object(n.useState)(null),E=Object(h.a)(x,2),O=E[0],w=E[1],j=Object(n.useState)(null),k=Object(h.a)(j,2),C=k[0],S=k[1],I=Object(n.useState)(""),T=Object(h.a)(I,2),_=T[0],D=T[1],L=Object(q.a)("configImport",function(e){return{annotationToKeep:"both",typeOfFileToLoad:Bo(["Image","Empty"],e)?"Image":Bo(["Video","Empty"],e)?"Video":Bo(["Audio","Empty"],e)?"Audio":Bo(["PDF","Empty"],e)?"PDF":Bo(["Texte","Empty"],e)?"Texte":"None",typeOfFileToDisable:{Image:!Bo(["Image","Empty"],e),Video:!Bo(["Video","Empty"],e),Audio:!Bo(["Audio","Empty"],e),PDF:!Bo(["PDF","Empty"],e),Texte:!Bo(["Texte","Empty"],e)},loadProjectIsSelected:!0,contentDialogBoxIsSetting:!1,projectStarted:!1}}(t)),U=Object(h.a)(L,2),R=U[0],B=U[1],F=Object(n.useRef)({}),M=Object(n.useCallback)((function(){if("cognito"===s)return!(P()(t)||P()(t.content)||P()(t.content.interface)&&P()(t.content.samples))}),[t,s]);Object(n.useEffect)((function(){if("cognito"===s&&t!==F.current){var e=R,a=To(F.current,t);(a.content.interface.type||a.content.samples)&&F.current!=={}&&(e=function(e,t){return Object(p.a)(Object(p.a)({},e),{},{typeOfFileToLoad:P()(e)||P()(e.typeOfFileToLoad)||!Bo([e.typeOfFileToLoad,"Empty"],t)?Bo(["Image","Empty"],t)?"Image":Bo(["Video","Empty"],t)?"Video":Bo(["Audio","Empty"],t)?"Audio":Bo(["PDF","Empty"],t)?"PDF":Bo(["Texte","Empty"],t)?"Texte":"None":e.typeOfFileToLoad,typeOfFileToDisable:{Image:!Bo(["Image","Empty"],t),Video:!Bo(["Video","Empty"],t),Audio:!Bo(["Audio","Empty"],t),PDF:!Bo(["PDF","Empty"],t),Texte:!Bo(["Texte","Empty"],t)}})}(e,t)),B(Object(p.a)(Object(p.a)({},e),{},{projectStarted:M(),loadProjectIsSelected:!M()&&B.loadProjectIsSelected})),F.current=t}}),[t,R,B,M,s]);var z=function(){var e=Object(b.a)(g.a.mark((function e(){var a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ro(O,_,R,d);case 2:if(a=e.sent,n=null,!R.loadProjectIsSelected){e.next=8;break}return e.next=7,No(O,a,_,d);case 7:n=e.sent;case 8:P()(n)||P()(n.content)||P()(n.content.samples)||P()(n.fileName)?i(a):(t=Fo(t,n,R),l(t,!0),i([]));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function H(){B(Object(p.a)(Object(p.a)({},R),{},{loadProjectIsSelected:!R.loadProjectIsSelected}))}return Object(n.useEffect)((function(){var e=function(e,t,a){var n,o=0,r="";if(!P()(a)){for(var i=0;i<a.length;i++)if(a[i].isSelected&&(n=a[i].folder,!P()(a[i].rowData)))for(var l=0;l<a[i].rowData.length;l++)vo(a[i].rowData[l].data)===t&&o++;r=e?"Load "+n:"Add "+o+" "+t}return r}(R.loadProjectIsSelected,R.typeOfFileToLoad,C);y(e)}),[R.loadProjectIsSelected,R.typeOfFileToLoad,C]),Object(n.useEffect)((function(){P()(u)?w(null):P()(d)||bo.a.list("",{level:"private"}).then((function(e){w(e);var t=e.filter((function(e){return e.key.endsWith("/")&2===e.key.split("/").length})).map((function(t,a){var n=t.key.split("/")[0],o=e.filter((function(e){return e.key.startsWith("".concat(n,"/data/"))&!e.key.endsWith("/")})).map((function(e){return{data:e.key.split("/data/")[1],lastModified:e.lastModified.toDateString()}})),r=e.filter((function(e){return e.key.startsWith("".concat(n,"/annotations/"))&!e.key.endsWith("/")})).map((function(e){return{annotation:e.key.split("/annotations/")[1],lastModified:e.lastModified.toDateString()}}));return{id:"".concat(a),folder:n,rowData:o,rowAnnotations:r,isSelected:!0}}));S(t)})).catch((function(e){return console.log(e)}))}),[u,d]),o.a.createElement(ht,{title:"Select Project",open:a,onClose:r,actions:[{text:v,onClick:function(){z()},disabled:R.contentDialogBoxIsSetting}]},o.a.createElement("table",{style:zo},o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("th",null,R.loadProjectIsSelected?o.a.createElement(A.a,{style:Mo,onClick:H,disabled:!0},"Load Project"):o.a.createElement(A.a,{onClick:H,disabled:R.projectStarted},"Load Project"),R.loadProjectIsSelected?o.a.createElement(A.a,{onClick:H},"Load Samples"):o.a.createElement(A.a,{style:Mo,onClick:H,disabled:!0},"Load Samples"),o.a.createElement(ke.a,{onClick:function(){B(Object(p.a)(Object(p.a)({},R),{},{contentDialogBoxIsSetting:!R.contentDialogBoxIsSetting}))}},R.contentDialogBoxIsSetting?o.a.createElement(xe.a,null):o.a.createElement(ve.a,null)))),R.contentDialogBoxIsSetting?o.a.createElement("tr",null,o.a.createElement("th",null,R.loadProjectIsSelected?o.a.createElement(po.a,{component:"fieldset"},o.a.createElement(fo.a,{component:"legend"},"Annotation processing"),o.a.createElement(go.a,{"aria-label":"option1",onChange:function(e){B(Object(p.a)(Object(p.a)({},R),{},{annotationToKeep:e.target.value}))}},o.a.createElement(N.a,{value:"both",control:o.a.createElement(mo.a,null),label:"Keep both annotations",checked:"both"===R.annotationToKeep}),o.a.createElement(N.a,{value:"incoming",control:o.a.createElement(mo.a,null),label:"Keep incoming annotations",checked:"incoming"===R.annotationToKeep}),o.a.createElement(N.a,{value:"current",control:o.a.createElement(mo.a,null),label:"Keep current annotations",checked:"current"===R.annotationToKeep}))):o.a.createElement(po.a,{component:"fieldset"},o.a.createElement(fo.a,{component:"legend"},"Choose file type"),o.a.createElement(go.a,{"aria-label":"option2",onChange:function(e){B(Object(p.a)(Object(p.a)({},R),{},{typeOfFileToLoad:e.target.value}))}},o.a.createElement(N.a,{value:"Image",control:o.a.createElement(mo.a,null),label:"Load image file",disabled:R.typeOfFileToDisable.Image,checked:"Image"===R.typeOfFileToLoad}),o.a.createElement(N.a,{value:"Video",control:o.a.createElement(mo.a,null),label:"Load video file",disabled:R.typeOfFileToDisable.Video,checked:"Video"===R.typeOfFileToLoad}),o.a.createElement(N.a,{value:"Audio",control:o.a.createElement(mo.a,null),label:"Load audio file",disabled:R.typeOfFileToDisable.Audio,checked:"Audio"===R.typeOfFileToLoad}),o.a.createElement(N.a,{value:"PDF",control:o.a.createElement(mo.a,null),label:"Load PDF file",disabled:R.typeOfFileToDisable.PDF,checked:"PDF"===R.typeOfFileToLoad}),o.a.createElement(N.a,{value:"Texte",control:o.a.createElement(mo.a,null),label:"Load texte file",disabled:R.typeOfFileToDisable.Texte,checked:"Texte"===R.typeOfFileToLoad}))))):!P()(C)&&o.a.createElement("tr",null,o.a.createElement("th",null,o.a.createElement(In.a,{expandableRows:!0,expandableRowsComponent:o.a.createElement(Jo,null),selectableRows:!0,selectableRowsHighlight:!0,selectableRowsNoSelectAll:!0,selectableRowsComponent:mo.a,dense:!0,noHeader:!0,noTableHead:!0,columns:Wo,onSelectedRowsChange:function(e){P()(e.selectedRows[0])?(D(null),S((function(e){return e.map((function(e){return e.isSelected=!1,e}))}))):(D(e.selectedRows[0].folder),S((function(t){return t.map((function(t){return e.selectedRows[0].id===t.id?t.isSelected=!0:t.isSelected=!1,t}))})))},selectableRowSelected:function(e){return e.isSelected},data:C,pagination:C.length>10,paginationPerPage:10,paginationRowsPerPageOptions:[10,20,25,50,100,200]}))))))},Ko=function(e){return o.a.createElement(Et.a,Object.assign({},e,{viewBox:"0 0 50 50"}),o.a.createElement("g",{id:"Working"},o.a.createElement("path",{style:e.color,d:"M21.17,42.88H13.76a1,1,0,0,1-1-1v-7.5a1,1,0,0,1,1-1h7.41a1,1,0,0,1,1,1v7.5A1,1,0,0,1,21.17,42.88Zm-6.41-2h5.41v-5.5H14.76Z"}),o.a.createElement("path",{style:e.color,d:"M31,39.17a5.24,5.24,0,1,1,5.22-5.24A5.23,5.23,0,0,1,31,39.17Zm0-8.48a3.24,3.24,0,1,0,3.22,3.24A3.23,3.23,0,0,0,31,30.69Z"}),o.a.createElement("path",{style:e.color,d:"M20.22,29.75H10.85a1,1,0,0,1-.87-.51,1,1,0,0,1,0-1l4.69-7.82a1,1,0,0,1,1.71,0l4.69,7.82a1,1,0,0,1,0,1A1,1,0,0,1,20.22,29.75Zm-7.61-2h5.85l-2.92-4.87Z"}),o.a.createElement("path",{style:e.color,d:"M23.67,48.5c-6.39,0-16.5-1.45-16.63-5.34L2.51,9.55a1,1,0,0,1,2-.39c.5,1.93,8.05,4.63,19.2,4.63s18.69-2.7,19.19-4.63a1,1,0,0,1,2,.39L40.29,43.16c0,1.32-1.22,2.45-3.51,3.36a22.87,22.87,0,0,1-3.12.94A46,46,0,0,1,23.67,48.5ZM4.9,12.27,9,43s0,.09,0,.13c0,1.18,5.69,3.42,14.63,3.42a43.75,43.75,0,0,0,9.54-1A21,21,0,0,0,36,44.66c1.85-.73,2.26-1.39,2.26-1.58V43l4.14-30.68c-3.86,2.3-11.64,3.52-18.77,3.52S8.75,14.57,4.9,12.27Z"}),o.a.createElement("path",{style:e.color,d:"M23.67,15.79c-9.47,0-20.1-2.15-21.14-6.12,0-.05,0-.09,0-.13l0-.41a.62.62,0,0,1,0-.13c0-4.42,11.18-7.5,21.22-7.5S44.88,4.58,44.88,9v.13l-.06.41a.69.69,0,0,1,0,.13C43.76,13.64,33.13,15.79,23.67,15.79ZM4.48,9.21c.62,1.93,8.14,4.58,19.19,4.58s18.56-2.65,19.18-4.58l0-.27C42.75,7,34.86,3.5,23.67,3.5S4.59,7,4.45,8.94Z"}),o.a.createElement("path",{style:e.color,d:"M44.93,29.62c-4.76,0-15.18-4.71-21.7-7.91l.88-1.8c9,4.42,19.6,8.52,21.41,7.75-.14-.29-.81-1.19-4-2.92l-.16-.1,1-1.74.15.09c3.21,1.77,4.74,3.13,5,4.41a1.82,1.82,0,0,1-.4,1.52A2.77,2.77,0,0,1,44.93,29.62Z"}),o.a.createElement("path",{style:e.color,d:"M23.67,23a2.17,2.17,0,1,1,2.17-2.17A2.18,2.18,0,0,1,23.67,23Zm0-2.34a.17.17,0,0,0-.18.17c0,.19.35.19.35,0A.17.17,0,0,0,23.67,20.64Z"})))},Xo=a(236),Yo=a.n(Xo),Zo=a(540),Qo=a.n(Zo),$o=Object(U.a)(be.a)({}),er=Object(U.a)(be.a)({height:300,width:400,overflowY:"scroll"}),tr=Object(U.a)(be.a)({fontWeight:"bold",color:Ie.a[600]}),ar=Object(U.a)(A.a)({width:"100%"}),nr=function(e){var t=e.currentPath,a=e.options,n=e.canCreateNew,r=e.onChangePath,i=e.showFiles,l=void 0===i||i;return o.a.createElement($o,null,o.a.createElement(tr,{display:"flex",alignItems:"center"},o.a.createElement(ke.a,{disabled:!t,onClick:function(){var e=t.split("/").slice(0,-2).join("/")+"/";r("s3://"===e?"":e)}},o.a.createElement(Qo.a,null)),o.a.createElement(be.a,null,t)),o.a.createElement(er,null,a.filter((function(e){return"file"!==e.type||l})).map((function(e,a){return o.a.createElement(ar,{key:a,onClick:function(){"file"===e.type?r(t+e.name):r(t?"".concat(t).concat(e.name):"s3://".concat(e.name,"/"))}},"bucket"===e.type?o.a.createElement(Ko,{className:"icon"}):"directory"===e.type?o.a.createElement(Yo.a,{className:"icon"}):o.a.createElement(Pa.a,{className:"icon"}),o.a.createElement(be.a,{flexGrow:1,className:"text",textAlign:"left",paddingLeft:1},e.name))})),""!==t&&n&&o.a.createElement(ar,{key:"create-new",onClick:function(){var e=window.prompt("Enter the name of new directory");e&&r(t+e+"/")}},o.a.createElement(Yo.a,{className:"icon"}),o.a.createElement(be.a,{flexGrow:1,className:"text",textAlign:"left",paddingLeft:1},"Create New"))))},or=a(303),rr=a.n(or),ir=function(){return!!window.require&&Boolean(window.require("electron"))},lr=a(541);function cr(e){return{bucket:e.match(/s3:\/\/([^/]+)/)[1],path:e.replace(/s3:\/\/[^/]+\//,"")}}for(var sr=function(){var e=Z().appConfig,t=ir(),a=e["auth.s3iam.access_key_id"],o=e["auth.s3iam.secret_access_key"],r=e["auth.s3iam.region"],i=e["auth.proxy.corsproxy"];t&&(i="{URL}");var l=Object(n.useMemo)((function(){return a?new lr.AwsClient({accessKeyId:a,secretAccessKey:o,region:r,service:"s3"}):null}),[]),c=function(){var e=Object(b.a)(g.a.mark((function e(t){var a,n,o,r,c=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>1&&void 0!==c[1]?c[1]:{},e.next=3,l.sign(t,a);case 3:return n=e.sent,o=new Request(i.replace("{URL}",encodeURIComponent(n.url)),{headers:n.headers,method:n.method,body:a.body}),e.next=7,fetch(o).then((function(e){return e.text()}));case 7:return r=e.sent,e.abrupt("return",rr.a.parse(r));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a?Object(n.useMemo)((function(){return{parseS3URI:cr,listBuckets:function(){return c("https://s3.amazonaws.com")},listBucketItemsAt:function(e){var t=cr(e),a=t.bucket,n=t.path;return c("https://s3.".concat(r,".amazonaws.com/").concat(a,"?list-type=2&delimiter=/&prefix=").concat(n),{headers:{Host:a}})},putBucketItem:function(){var e=Object(b.a)(g.a.mark((function e(t,a){var n,o,i,l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cr(t),o=n.bucket,i=n.path,e.next=3,c("https://s3.".concat(r,".amazonaws.com/").concat(o,"/").concat(i),{method:"PUT",headers:{Host:"s3.amazonaws.com/".concat(o),"Content-Type":a.type,"x-amz-acl":"public-read"},body:a});case 3:if(!(l=e.sent).Error){e.next=6;break}throw new Error("".concat(l.Error.Code,": ").concat(l.Error.Message));case 6:return e.abrupt("return",l);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}}),[l]):{}},ur=function(e){var t=e.open,a=e.onClose,r=e.onAddSamples,i=sr(),l=i.listBuckets,c=i.listBucketItemsAt,s=Object(n.useState)(""),u=Object(h.a)(s,2),d=u[0],m=u[1],p=Object(n.useState)({optionsLoading:!0}),f=Object(h.a)(p,2),v=f[0],y=v.options,x=v.optionsLoading,E=f[1];return Object(n.useEffect)((function(){function e(){return(e=Object(b.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==d){e.next=9;break}return e.t0=E,e.next=4,l();case 4:e.t1=e.sent.ListAllMyBucketsResult.Buckets.Bucket.map((function(e){return{name:e.Name,type:"bucket"}})),e.t2={optionsLoading:!1,options:e.t1},(0,e.t0)(e.t2),e.next=18;break;case 9:return e.t3=E,e.next=12,c(d);case 12:if(e.t4=e.sent.ListBucketResult.CommonPrefixes,e.t4){e.next=15;break}e.t4=[];case 15:e.t5=e.t4.map((function(e){return{name:e.Prefix.split("/").slice(-2).join("/"),type:"directory"}})),e.t6={optionsLoading:!1,options:e.t5},(0,e.t3)(e.t6);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t&&l&&function(){e.apply(this,arguments)}()}),[d,l,c,t]),t?o.a.createElement(ht,{onClose:a,open:t,title:"Import from S3",actions:[{onClick:function(){var e=Object(b.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.match(/s3:\/\/([^/]+)/)[1],e.next=3,c(d,{files:!0});case 3:a=e.sent.ListBucketResult.Contents.filter((function(e){return!e.Key.endsWith("/")})).map((function(e){return"https://s3.amazonaws.com/".concat(t,"/").concat(e.Key)})).map((function(e){return ro(e,{returnNulls:!0})})).filter(Boolean),r(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),disabled:!d,text:"Import All Files in Directory"}]},x?o.a.createElement(be.a,{height:300,width:400,paddingTop:4,textAlign:"center"},o.a.createElement(Le.a,{size:100})):o.a.createElement(nr,{currentPath:d,options:y||[],onChangePath:function(e){m(e),E({optionsLoading:!0})}})):null},dr=a(97),mr=a.n(dr),pr=Object(U.a)(be.a)({width:400,height:200,padding:20,border:"2px dotted ".concat(Ie.a[400]),textAlign:"center",fontSize:24}),fr=Object(U.a)(be.a)({fontSize:24,color:Ie.a[700],fontWeight:"bold"}),gr=function(e){var t=e.loadFile,a=e.onComplete,r=Object(n.useState)(0),i=Object(h.a)(r,2),l=i[0],c=i[1],s=Object(n.useState)([]),u=Object(h.a)(s,2),d=u[0],m=u[1],p=Object(n.useState)({filesSelected:!1}),f=Object(h.a)(p,2),v=f[0],y=v.totalFiles,x=v.filesSelected,E=f[1],O=Object(n.useCallback)(function(){var e=Object(b.a)(g.a.mark((function e(n){var o,r,i,l,s,u;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E({totalFiles:n.length,filesSelected:!0}),o=[],r=Object(H.a)(n.entries()),e.prev=3,r.s();case 5:if((i=r.n()).done){e.next=12;break}return l=Object(h.a)(i.value,2),s=l[0],u=l[1],e.next=9,t(u).catch((function(e){o.push(e.toString()),m(o)}));case 9:c(s+1);case 10:e.next=5;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),r.e(e.t0);case 17:return e.prev=17,r.f(),e.finish(17);case 20:a();case 21:case"end":return e.stop()}}),e,null,[[3,14,17,20]])})));return function(t){return e.apply(this,arguments)}}(),[]),w=Object($t.a)({onDrop:O}),j=w.getRootProps,k=w.getInputProps,C=w.isDragActive;return x?o.a.createElement(pr,null,o.a.createElement(fr,null,l," / ",y," Files Processed"),o.a.createElement(be.a,{maxHeight:100,overflowY:"auto",textAlign:"left",color:"red",fontSize:12},d.map((function(e,t){return o.a.createElement("div",{key:t},e)})))):o.a.createElement(pr,j(),o.a.createElement("input",k()),C?o.a.createElement("p",null,"Drop the files here ..."):o.a.createElement("p",null,"Drag 'n' drop some files here, or click to select files"))},br=a(1089),hr=a(1075),vr=a(1086),yr=Object(U.a)("div")({fontSize:14,color:Ie.a[700],fontWeight:"bold"}),xr=function(e){var t=e.open,a=e.onClose,r=e.onAddSamples,i=sr(),l=i.listBuckets,c=i.listBucketItemsAt,s=i.putBucketItem,u=i.parseS3URI,d=Object(n.useState)(!1),m=Object(h.a)(d,2),p=m[0],f=m[1],v=Object(n.useRef)([]),y=Object(n.useState)(""),x=Object(h.a)(y,2),E=x[0],O=x[1],w=Object(n.useState)(0),j=Object(h.a)(w,2),k=j[0],C=j[1],S=Object(n.useState)({optionsLoading:!0}),I=Object(h.a)(S,2),T=I[0],_=T.options,A=T.optionsLoading,N=I[1];return Object(n.useEffect)((function(){function e(){return(e=Object(b.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==E){e.next=9;break}return e.t0=N,e.next=4,l();case 4:e.t1=e.sent.ListAllMyBucketsResult.Buckets.Bucket.map((function(e){return{name:e.Name,type:"bucket"}})),e.t2={optionsLoading:!1,options:e.t1},(0,e.t0)(e.t2),e.next=18;break;case 9:return e.t3=N,e.next=12,c(E);case 12:if(e.t4=e.sent.ListBucketResult.CommonPrefixes,e.t4){e.next=15;break}e.t4=[];case 15:e.t5=e.t4.map((function(e){return{name:e.Prefix.split("/").slice(-2).join("/"),type:"directory"}})),e.t6={optionsLoading:!1,options:e.t5},(0,e.t3)(e.t6);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}l&&t&&function(){e.apply(this,arguments)}()}),[t,E,l,c]),t?o.a.createElement(ht,{onClose:a,open:t,title:"Upload to S3",actions:[0===k&&{onClick:function(){return C(1)},disabled:!E,text:"Upload to this directory"},1===k&&{disabled:!p,onClick:function(){var e=v.current.map((function(e){return ro(e,{returnNulls:!0})})).filter(Boolean);r(e)},text:"Add Samples"}].filter(Boolean)},o.a.createElement(br.a,{activeStep:k},o.a.createElement(hr.a,null,o.a.createElement(vr.a,null,"Directory to Upload To")),o.a.createElement(hr.a,null,o.a.createElement(vr.a,null,"Upload Files"))),0===k&&o.a.createElement(o.a.Fragment,null,A?o.a.createElement(be.a,{height:300,width:400,paddingTop:4,textAlign:"center"},o.a.createElement(Le.a,{size:100})):o.a.createElement(nr,{currentPath:E,canCreateNew:!0,options:_||[],onChangePath:function(e){O(e),N({optionsLoading:!0})}})),1===k&&o.a.createElement(o.a.Fragment,null,o.a.createElement(be.a,{display:"flex",alignItems:"center"},o.a.createElement(ke.a,{onClick:function(){return C(0)}},o.a.createElement(mr.a,null)),o.a.createElement(yr,null,"Uploading to: ",E)),o.a.createElement(be.a,null,o.a.createElement(gr,{loadFile:function(){var e=Object(b.a)(g.a.mark((function e(t){var a,n,o,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=E+t.name,e.next=3,s(a,t);case 3:n=u(a),o=n.bucket,r=n.path,v.current.push("https://s3.amazonaws.com/".concat(o,"/").concat(r));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onComplete:function(){f(!0)}})))):null},Er=Object(U.a)("textarea")({width:"100%",minHeight:300}),Or=Object(U.a)("div")({fontSize:24,color:Ie.a[600],textAlign:"center",padding:48}),wr=function(){return null},jr=function(e){var t=e.content,a=e.onChangeContent,r=e.placeholder,i=Object(At.a)((function(e){var t=new FileReader;t.onload=function(e){var t=e.target.result;a(t)},t.readAsText(e[0])})),l=Object(n.useState)(0),c=Object(h.a)(l,2),s=c[0],u=c[1],d=Object(At.a)((function(e){Date.now()-s<400&&p().onClick(e),u(Date.now())})),m=Object($t.a)({onDrop:i}),p=m.getRootProps,f=m.getInputProps,g=m.isDragActive;return o.a.createElement("div",Object.assign({},p(),{onClick:wr}),o.a.createElement("input",f()),g?o.a.createElement(Or,null,"Drop the text or csv file here."):o.a.createElement(Er,{value:t,onChange:function(e,t){return a(e.target.value)},onClick:d,placeholder:r}))},kr=function(e){var t=e.open,a=e.onClose,r=e.onAddSamples,i=Object(n.useState)(""),l=Object(h.a)(i,2),c=l[0],s=l[1];return o.a.createElement(ht,{open:t,onClose:a,title:"Import Text Snippets",actions:[{text:"Add Samples",onClick:function(){r(c.split("\n").map((function(e){return e.trim()})).filter(Boolean).map((function(e){return{document:e}})))}}]},o.a.createElement(jr,{content:c,onChangeContent:s,placeholder:"Paste Snippets here\nOne snippet per line.\n\nYou can also drag a text or csv file here (double click to open file dialog)"}))},Cr=Object(U.a)("div")({marginTop:8,marginBottom:8}),Sr=Object(U.a)("img")({width:"100%",boxSizing:"border-box"}),Ir={web:{client_id:"856114516731-rndo792s25bjjno28jltd70ipajlb917.apps.googleusercontent.com",app_id:"856114516731",developer_key:"AIzaSyD7hdWRB_uz-RE-xDJEew-jFYjIv3lO4Qc"}},Tr=function(e){var t=e.open,a=e.onClose,r=e.onAddSamples,i=Object(R.a)().t,l=Object(n.useState)(!1),c=Object(h.a)(l,2),s=c[0],u=c[1],d=Object(n.useState)(!1),m=Object(h.a)(d,2),p=m[0],f=m[1],g=Object(n.useState)(null),b=Object(h.a)(g,2),v=b[0],y=b[1],x=Object(n.useState)([]),E=Object(h.a)(x,2),O=E[0],w=E[1],j=Object(n.useState)(!1),k=Object(h.a)(j,2),C=k[0],S=k[1];Object(n.useEffect)((function(){var e=document.createElement("script");return e.src="https://apis.google.com/js/api.js",e.async=!0,e.onload=function(){u(!0)},document.body.appendChild(e),function(){e.remove()}}),[]);var I=Object(n.useCallback)((function(e){e.action===window.google.picker.Action.PICKED?(w(e.docs.map((function(e){return{url:e.url,mimeType:e.mimeType,name:e.name,id:e.id}}))),S(!1)):"cancel"===e.action&&a()}),[a]),T=Object(n.useCallback)((function(){if(p&&v){var e=new window.google.picker.DocsView(window.google.picker.ViewId.Docs,window.google.picker.ViewId.FOLDERS).setIncludeFolders(!0).setSelectFolderEnabled(!0);(new window.google.picker.PickerBuilder).enableFeature(window.google.picker.Feature.NAV_HIDDEN).enableFeature(window.google.picker.Feature.MINE_ONLY).enableFeature(window.google.picker.Feature.MULTISELECT_ENABLED).setAppId(Ir.web.app_id).setOAuthToken(v).addView(e).addView(window.google.picker.ViewId.DOCS).setDeveloperKey(Ir.web.developer_key).setCallback(I).build().setVisible(!0),S(!0)}}),[I,v,p]);Object(n.useEffect)((function(){T()}),[p,v,T]);var _=Object(n.useCallback)((function(e){e&&!e.error&&(y(e.access_token),T())}),[T]),N=Object(n.useCallback)((function(){window.gapi.auth.authorize({client_id:Ir.web.client_id,scope:"https://www.googleapis.com/auth/drive.readonly",immediate:!1},_)}),[_]),D=Object(n.useCallback)((function(){f(!0),T()}),[T]),L=Object(n.useCallback)((function(){!0===s&&(window.gapi.load("auth",{callback:N}),window.gapi.load("picker",{callback:D}))}),[s,N,D]);return Object(n.useEffect)((function(){t&&L()}),[t,s,L]),o.a.createElement(ht,{open:t&&!C,onClose:a,title:"Import from Google Drive",actions:[O&&O.length>0&&{text:"Add ".concat(O.length," Samples"),onClick:function(){var e,t=[],a=Object(H.a)(O);try{for(a.s();!(e=a.n()).done;){var n=e.value;n.mimeType.includes("image/")?t.push({imageUrl:"https://drive.google.com/uc?id=".concat(n.id)}):n.mimeType.includes("video/")&&t.push({videoUrl:"https://drive.google.com/uc?id=".concat(n.id)})}}catch(o){a.e(o)}finally{a.f()}r(t)}}].filter(Boolean)},o.a.createElement(A.a,{variant:"outlined",onClick:L},i("reopen-google-drive-picker")),o.a.createElement(Cr,null,i("import-from-google-drive-explanation-text"),"."," ",o.a.createElement("b",null,i("import-from-google-drive-explanation-bold-text"),"!")),o.a.createElement(Sr,{src:"https://s3.amazonaws.com/asset.workaround.online/google-share-screenshot.png"}))},_r=a(305),Ar=a.n(_r),Nr={},Dr=0,Lr=Object.entries({imageUrl:["image_url","image_urls","image","image_src","img_url","img","img_src"],document:["text"]});Dr<Lr.length;Dr++){var Pr,Ur=Object(h.a)(Lr[Dr],2),Rr=Ur[0],Br=Ur[1],Fr=Object(H.a)(Br);try{for(Fr.s();!(Pr=Fr.n()).done;){var Mr=Pr.value;Nr[Mr]=Rr}}catch(Bd){Fr.e(Bd)}finally{Fr.f()}}var zr=function(e){for(var t in e){var a=t.toLowerCase().replace(/ /g,"_"),n=Nr[a];n&&(e[n]=e[t],delete e[t])}return e},qr=function(e){var t=Ar.a.fromCSV(e,{derivePath:function(){return"samples.*"}});if(!t.samples)throw new Error("No samples");return{interface:t.interface,taskOutput:t.samples.map((function(e){return e.output})),samples:t.samples.map(zr).map((function(e){return delete e.output,e}))}},Hr=Object(U.a)("div")({fontFamily:"Inter",marginBottom:20,"& a":{color:u.a[500]}}),Wr=Object(U.a)("div")({color:M.a[500],whiteSpace:"pre-wrap",marginBottom:20}),Vr=function(e){var t=e.open,a=e.onClose,r=e.onAddSamples,i=Object(n.useState)(null),l=Object(h.a)(i,2),c=l[0],s=l[1],u=Object(n.useState)(""),d=Object(h.a)(u,2),m=d[0],p=d[1];return o.a.createElement(ht,{open:t,onClose:a,title:"Import JSON/CSV Samples",actions:[{text:"Add Samples",onClick:function(){var e,t;s(null);try{var a=Object(h.a)(JSON.parse(m).samples,2);e=a[0],t=a[1]}catch(o){try{var n=qr(m);e=n.samples,t=n.taskOutput}catch(i){return console.log({message:"CSV/JSON Error Stacks",jsonError:o.stack,csvError:i.stack}),void s("JSON did not parse. CSV did not parse.\n\nJSON Error: ".concat(o.toString(),"\nCSV Error: ").concat(i.toString()))}}e&&0!==e.length?r(e,t):s("No task data found")}}]},o.a.createElement(Hr,null,"See the"," ",o.a.createElement("a",{href:"https://github.com/UniversalDataTool/udt-format"},"UDT JSON format")," ","or the"," ",o.a.createElement("a",{href:"https://github.com/UniversalDataTool/udt-format"},"UDT CSV format")," ","for formatting details. Or take a look at a"," ",o.a.createElement("a",{href:"https://github.com/UniversalDataTool/udt-format/blob/master/SAMPLE.udt.json"},"sample JSON")," ","or"," ",o.a.createElement("a",{href:"https://github.com/UniversalDataTool/udt-format/blob/master/SAMPLE.udt.csv"},"sample CSV")," ","file."),o.a.createElement(Wr,null,c),o.a.createElement(jr,{content:m,onChangeContent:p,placeholder:"Paste CSV/JSON here. The file should be in the UDT JSON/CSV format.\n\nYou can also drag a json or csv file here (double click to open file dialog)"}))},Jr=a(1077),Gr=a(1080),Kr=a(1074),Xr=a(1076),Yr=a(1078),Zr=a(1079),Qr=[{name:"Elon Musk Tweets",type:"text",size:2800},{name:"Cats",type:"image",size:360},{name:"VR Hand Pinching",type:"image",size:20517},{name:"AI Generated Faces",type:"image",size:1999},{name:"Text to Speech Audio",type:"audio",size:200}];function $r(e){return ei.apply(this,arguments)}function ei(){return(ei=Object(b.a)(g.a.mark((function e(t){var a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.name.toLowerCase().replace(/ /g,"_")+".udt.json",n="https://s3.amazonaws.com/datasets.workaround.online/".concat(a),e.next=4,fetch(n).then((function(e){return e.json()})).then((function(e){return e.samples||e.taskData}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ti=Object(U.a)(A.a)({}),ai=function(e){var t=e.onClose,a=e.onAddSamples,n=e.open,r=Object(R.a)().t;return o.a.createElement(ht,{onClose:t,open:n,title:"Import Toy Dataset"},o.a.createElement(Xr.a,null,o.a.createElement(Jr.a,null,o.a.createElement(Yr.a,null,o.a.createElement(Zr.a,null,o.a.createElement(Kr.a,null,r("name")),o.a.createElement(Kr.a,null,r("type")),o.a.createElement(Kr.a,null,r("size")),o.a.createElement(Kr.a,null,r("actions")))),o.a.createElement(Gr.a,null,Qr.map((function(e){return o.a.createElement(Zr.a,{key:e.name},o.a.createElement(Kr.a,null,e.name),o.a.createElement(Kr.a,null,e.type),o.a.createElement(Kr.a,null,e.size),o.a.createElement(Kr.a,null,o.a.createElement(ti,{"data-import-toy-dataset-name":e.name,onClick:Object(b.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=a,t.next=3,$r(e);case 3:t.t1=t.sent,(0,t.t0)(t.t1);case 5:case"end":return t.stop()}}),t)}))),variant:"outlined"},r("import"))))}))))))},ni=function(e){return e.toLowerCase().replace(/[^a-z0-9]/g,"_").replace(/_+/g,"_")},oi=function(e){var t=e.youtubeUrl,a=e.title,n=e.remote,o=e.videoQuality,r=e.downloadPath,i=e.onProgress,l=e.onComplete,c=e.onChangeOverallProgress,s=n.require("ytdl-core"),u=n.require("path"),d=o.includes("audio")?"".concat(ni(a)+".mp3"):"".concat(ni(a)+".mp4"),m=u.join(r,d),p=n.require("fs").createWriteStream(m),f=s(t,{format:d.endsWith(".mp3")?"audio/mp3":"video/mp4",quality:null!==o?o:"highest"});return f.pipe(p),f.on("progress",(function(e,t,a){var n=t/a;i({progress:100*n}),c(100*n)})),f.on("end",(function(){return l(m)})),{cancel:function(){f.destroy()}}},ri=Object(U.a)("div")({height:36,width:"100%",boxSizing:"border-box",position:"relative",marginTop:8,marginBottom:8,backgroundColor:u.a[50]}),ii=Object(U.a)("div")({position:"absolute",left:0,right:0,top:0,bottom:0,paddingTop:4,fontSize:18,textAlign:"center",fontWeight:"bold"}),li=Object(U.a)("div")({position:"absolute",left:0,bottom:0,top:0,backgroundColor:u.a[300]}),ci=function(e){var t=e.progress;return o.a.createElement(ri,null,o.a.createElement(li,{style:{right:100-t+"%"}}),o.a.createElement(ii,null,Math.floor(t),"%"))},si=a(1095),ui=a(132),di=a.n(ui),mi=a(1081),pi=a(1082),fi=Object(U.a)("div")({width:"100%",height:"100%"}),gi=Object(U.a)("div")({flexDirection:"row",width:"100%",display:"flex",justifyContent:"space-between"}),bi=function(e){var t=e.unitProgress,a=e.overallProgress,n=e.completedVideoTitles;return o.a.createElement(fi,null,o.a.createElement(ci,{progress:a}),o.a.createElement(ci,{progress:t.progress}),o.a.createElement("h3",null,"Downloading: ",t.title),o.a.createElement(si.a,null,o.a.createElement(mi.a,{expandIcon:o.a.createElement(di.a,null)},o.a.createElement(gi,null,o.a.createElement("h3",null,"Downloaded Video Titles"))),o.a.createElement(pi.a,null,o.a.createElement("ul",null,n&&n.length>0?n:null))))},hi=function(){var e=Object(b.a)(g.a.mark((function e(t,a){var n,o,r,i,l,c=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.length>2&&void 0!==c[2]?c[2]:function(){return null},o=t.require("ytdl-core"),r=[],!(a.length>0)){e.next=11;break}i=g.a.mark((function e(t){var i,l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=a[t],e.next=3,new Promise((function(e,t){o.getBasicInfo(i,(function(a,n){if(n&&!a)e({url:i,title:n.title});else{var o='Error with video at "'.concat(i,'"\n\n').concat(a.toString());t(new Error(o))}}))}));case 3:l=e.sent,r.push(l),n({progress:t/(a.length-1)*100,text:"Inspecting Video Information..."});case 6:case"end":return e.stop()}}),e)})),l=0;case 6:if(!(l<a.length)){e.next=11;break}return e.delegateYield(i(l),"t0",8);case 8:l++,e.next=6;break;case 11:return e.abrupt("return",r);case 12:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),vi=function(e){var t,a=[],n=e.split("\n"),o=Object(H.a)(n);try{for(o.s();!(t=o.n()).done;){var r=t.value;r.includes("https://")&&a.push(r)}}catch(Bd){o.e(Bd)}finally{o.f()}return a},yi=Object(U.a)("textarea")({width:"100%",minHeight:300}),xi=Object(U.a)("h3")({lineHeight:0,textAlign:"center"}),Ei=Object(U.a)("div")({width:"100%",marginBottom:8,paddingBottom:4}),Oi=Object(U.a)("pre")({whiteSpace:"pre-wrap",color:"#f00"}),wi=Object(U.a)("h2")({width:"100%",height:"100%",margin:"auto auto",textAlign:"center"}),ji=Object(U.a)("h3")({textDecoration:"line-through",lineHeight:0}),ki=[{value:"136",label:"720p"},{value:"135",label:"480p"},{value:"lowestvideo",label:"Lowest Video Only"},{value:"highestvideo",label:"Highest Video Only"},{value:"lowestaudio",label:"Lowest Audio Only"},{value:"highestaudio",label:"Highest Audio Only"}],Ci=function(e){var t=e.open,a=e.onClose,r=e.onAddSamples,i=(Re()||{}).remote,l=Object(R.a)().t,c=Object(n.useState)([]),s=Object(h.a)(c,2),u=s[0],d=s[1],m=Object(n.useState)(ki[0].value),p=Object(h.a)(m,2),f=p[0],v=p[1],y=Object(n.useState)(null),x=Object(h.a)(y,2),E=x[0],O=x[1],w=Object(n.useState)({progress:0}),j=Object(h.a)(w,2),k=j[0],C=j[1],S=Object(n.useState)(0),I=Object(h.a)(S,2),T=I[0],_=I[1],A=Object(n.useState)(!1),N=Object(h.a)(A,2),D=N[0],L=N[1],P=Object(n.useState)(null),U=Object(h.a)(P,2),B=U[0],F=U[1],M=Object(n.useRef)(),z=function(){var e=Object(b.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C({progress:0,title:""}),_(0),L(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(b.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z();case 2:a();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return o.a.createElement(ht,{open:t,onClose:q,title:"Import from Youtube URLs",actions:[{text:"Cancel Downloads",disabled:!D,onClick:function(){M.current(),L(!1)}},{text:"Download Youtube URLs",onClick:function(){var e=Object(b.a)(g.a.mark((function e(){var t,a,n,l,c,s,d,m,p,b;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),e.next=3,i.dialog.showOpenDialog({title:"Directory to download files to",buttonLabel:"Download Files Here",properties:["createDirectory","openDirectory","promptToCreate"]});case 3:if(t=e.sent,a=t.canceled,n=t.filePaths,!a&&n){e.next=8;break}return e.abrupt("return",L(!1));case 8:return l=n[0],e.next=11,hi(i,u,(function(e){var t=e.progress;e.text;C({progress:t})})).catch((function(e){return console.error(e.stack),O(e.toString()),null}));case 11:if(c=e.sent){e.next=14;break}return e.abrupt("return",L(!1));case 14:s=[],d=[],m=c.length,p=g.a.mark((function e(t){var a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c[t],e.next=3,new Promise((function(e,t){var n=oi({remote:i,downloadPath:l,youtubeUrl:a.url,title:a.title,videoQuality:f,onChangeOverallProgress:function(e){return _((100*d.length+e)/(100*m)*100)},onProgress:function(e){var t=e.progress,n=e.text;return C({progress:t,title:a.title,progressText:n})},onComplete:function(t){return e(t)}}).cancel;M.current=n}));case 3:n=e.sent,d.push(o.a.createElement("li",{key:t+a.title},o.a.createElement(ji,null,a.title))),F(d),s.push(n);case 7:case"end":return e.stop()}}),e)})),b=0;case 19:if(!(b<m)){e.next=24;break}return e.delegateYield(p(b),"t0",21);case 21:b++,e.next=19;break;case 24:r(s.map((function(e){return{videoUrl:"file://".concat(e)}}))),L(!1);case 26:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),disabled:D}]},E&&o.a.createElement(Oi,null,E),D&&(k&&k.progress&&k.progress>0||B&&!0===Array.isArray(B)&&B.length>0)?o.a.createElement(bi,{unitProgress:k,completedVideoTitles:B,overallProgress:T}):!0===D?o.a.createElement(wi,null,"Information is Loading"):null,!D&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Ei,null,o.a.createElement(xi,null,l("select-video-quality")),o.a.createElement(cn.default,{defaultValue:ki[0],options:ki,onChange:function(e){var t=e.value;return v(t)}})),o.a.createElement(yi,{onChange:function(e,t){d(vi(e.target.value))},placeholder:"Paste Youtube URLs here\nOne URL per line"})))},Si=function(e){var t=e.split(".").slice(-1)[0].toLowerCase();return["png","jpg","jpeg"].includes(t)?{imageUrl:"file://".concat(e)}:["pdf"].includes(t)?{pdfUrl:"file://".concat(e)}:["mp4","webm","mkv"].includes(t)?{videoUrl:"file://".concat(e)}:null};function Ii(){return(Ii=Object(b.a)(g.a.mark((function e(t){var a,n,o,r,i,l,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.electron,e.next=3,a.remote.dialog.showOpenDialog({title:"Select Directory to Import Files",properties:["openDirectory"]});case 3:if(n=e.sent,o=n.canceled,r=n.filePaths,!o){e.next=8;break}return e.abrupt("return");case 8:return i=r[0],l=a.remote.require("fs"),c=a.remote.require("path"),e.next=13,l.promises.readdir(i);case 13:return e.abrupt("return",e.sent.filter((function(e){return e.includes(".")})).map((function(e){return c.join(i,e)})).map(Si).filter(Boolean));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ti=function(e){return Ii.apply(this,arguments)},_i=Object(U.a)(A.a)({width:240,height:140,display:"inline-flex",flexDirection:"column","&.disabled":{backgroundColor:Ie.a[200]},margin:8,"& .icon":{width:48,height:48,color:Ie.a[600],"&.disabled":{color:Ie.a[400]}}}),Ai=Object(U.a)("div")({fontSize:11,fontWeight:"bold",color:Ie.a[600],"&.disabled":{color:Ie.a[500]}}),Ni=Object(n.createContext)(),Di=function(e){var t=e.Icon,a=e.desktopOnly,n=e.isDesktop,r=e.children,i=e.dialog,l=e.authConfiguredOnly,c=e.signedInOnly,s=e.disabledReason,u=e.user,d=e.onlySupportType,m=e.type,p=Fe(),f=oe(),g=f.isLoggedIn,b=f.authConfig,h=s?{disabled:!0,disabledText:s}:a?{disabled:!n,disabledText:"DESKTOP ONLY"}:d&&!d.includes(m)?{disabled:!0,disabledText:"DOESN'T SUPPORT THIS INTERFACE"}:l&&!g?c?{disabled:P()(u),disabledText:"MUST BE SIGNED IN"}:{disabled:P()(b),disabledText:"AUTH MUST BE CONFIGURED"}:{disabled:!1,disabledText:""},v=h.disabled,y=h.disabledText;return o.a.createElement(Ni.Consumer,null,(function(e){var a=e.onChangeDialog;return o.a.createElement(_i,{onClick:function(){p.capture("import_button_clicked",{import_button:i}),a(i)},className:Ln()({disabled:v}),variant:"outlined",disabled:v},o.a.createElement("div",null,o.a.createElement(t,{className:Ln()("icon",{disabled:v})}),o.a.createElement("div",null,r),v&&o.a.createElement(Ai,{className:Ln()({disabled:v})},y)))}))},Li=function(e){var t=e.file,a=e.onChangeFile,r=e.dataset,i=e.onChangeDataset,l=e.isDesktop,c=e.authConfig,s=e.user,u=Object(R.a)().t,d=Object(n.useState)(),m=Object(h.a)(d,2),p=m[0],f=m[1],v=Re(),y=Z().fromConfig,x=function(){var e=Object(b.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="upload-directory"===e.t0?3:12;break;case 3:if(v){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,Ti({electron:v});case 7:if("undefined"!==typeof(a=e.sent)){e.next=10;break}return e.abrupt("return");case 10:return i(Object(yo.setIn)(r,["samples"],(r.samples||[]).concat(a)),!0),e.abrupt("return");case 12:return e.abrupt("return",f(t));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){return f(null)},O=Object(At.a)(function(){var e=Object(b.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(Object(yo.setIn)(r,["samples"],(r.samples||[]).concat(t))),E();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),w=Object(At.a)(function(){var e=Object(b.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(Object(yo.setIn)(r,["samples"],(r.samples||[]).concat(t)).setIn(["usedToyDataset"],!0)),E();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return o.a.createElement(Ni.Provider,{value:{onChangeDialog:x}},o.a.createElement("div",null,o.a.createElement(Di,{isDesktop:l,dialog:"paste-image-urls",Icon:Yn.a,authConfig:c,signedInOnly:!1,user:s},u("paste-urls")),o.a.createElement(Di,{desktopOnly:!0,isDesktop:l,dialog:"upload-directory",Icon:Qn.a,authConfig:c,signedInOnly:!1,user:s},u("files-from-directory")),o.a.createElement(Di,{dialog:"import-text-snippets",Icon:eo.a,onlySupportType:["text_entity_recognition","text_classification","text_entity_relations"],type:r.interface.type},u("import-text-snippets")),o.a.createElement(Di,{isDesktop:l,dialog:"import-toy-dataset",Icon:oo.a},u("import-toy-dataset")),o.a.createElement(Di,{isDesktop:l,dialog:"youtube-urls",Icon:ca.c,desktopOnly:!0},u("import-from")," Youtube URLs"),o.a.createElement(Di,{Icon:Ko,dialog:"import-from-s3",disabledReason:y("auth.s3iam.access_key_id")?null:"NEED AWS IAM AUTH"},u("import-from-s3")),o.a.createElement(Di,{Icon:Ko,dialog:"upload-to-s3",disabledReason:y("auth.s3iam.access_key_id")?null:"NEED AWS IAM AUTH"},u("upload-to-s3")),t&&o.a.createElement(Di,{isDesktop:l,dialog:"import-from-cognito-s3",Icon:Ko,authConfiguredOnly:!0,signedInOnly:!0,user:s},u("import-from-cognito-s3")),o.a.createElement(Di,{isDesktop:l,dialog:"google-drive-file-picker",Icon:ca.a,onAddSamples:O},u("import-from")," Google Drive"),o.a.createElement(Di,{dialog:"import-csv-json",Icon:ao.a},u("import-from")," CSV / JSON"),o.a.createElement(kr,{open:"import-text-snippets"===p,onClose:E,onAddSamples:O}),o.a.createElement(uo,{open:"paste-image-urls"===p,onClose:E,onAddSamples:O}),o.a.createElement(ur,{open:"import-from-s3"===p,onChangeFile:a,onClose:E,user:s,onAddSamples:O}),o.a.createElement(xr,{open:"upload-to-s3"===p,onChangeFile:a,onClose:E,user:s,onAddSamples:O}),t&&o.a.createElement(Go,{file:t,open:"import-from-cognito-s3"===p,onChangeFile:a,onClose:E,user:s,onAddSamples:O}),o.a.createElement(Tr,{open:"google-drive-file-picker"===p,onClose:E,onAddSamples:O}),o.a.createElement(ai,{open:"import-toy-dataset"===p,onClose:E,onAddSamples:w}),o.a.createElement(Ci,{open:"youtube-urls"===p,onClose:E,onAddSamples:O}),o.a.createElement(Vr,{open:"import-csv-json"===p,onClose:E,onAddSamples:O})))},Pi=Object(U.a)("pre")({fontSize:8}),Ui=Object(U.a)(si.a)({backgroundColor:Ie.a[100],border:"1px solid ".concat(Ie.a[500]),marginTop:16,marginBottom:16}),Ri=Object(U.a)(mi.a)({fontWeight:"bold"}),Bi=function(e){var t=e.open,a=e.onChangeDataset,n=e.onClose,r=e.dataset,i=Object(R.a)().t;return o.a.createElement(ht,{open:t,onClose:n,title:"Transform Video Keyframes",actions:[{text:"Transform Video Keyframes",disabled:!r.samples,onClick:function(){var e=r.samples.flatMap((function(e,t){if(!e.videoUrl)return{data:e,output:e.annotation};if(e.videoUrl&&!e.videoFrameAt){if(!e.annotation)return[];if(!e.annotation.keyframes)return[];var a=e[t].annotation.keyframes;return Object.keys(a).map((function(t){return{videoUrl:e.videoUrl,videoFrameAt:parseInt(t),annotation:a[t].regions||[]}}))}}));a(xo()(r).setIn(["samples"],e.map((function(e){return e.data}))).setIn(["interface","type"],"image_segmentation"))}}]},i("transform-video-keyframes-dialog-explanation-text"),!r.samples&&o.a.createElement("b",null,o.a.createElement("br",null),o.a.createElement("br",null),i("transform-video-keyframes-dialog-explanation-warning")),o.a.createElement(Ui,null,o.a.createElement(Ri,null,"Details"),o.a.createElement(pi.a,null,o.a.createElement(be.a,{display:"flex"},o.a.createElement(be.a,null,o.a.createElement(Pi,null,'{\n  "interface": { "type": "video_segmentation" },\n  samples: [\n    {\n      videoUrl: "https://example.com/video1.mp4"\n    }\n  ],\n  taskOutput: [\n    {\n      keyframes: {\n        "0": { /* labels */ },\n        "1000": { /* labels */ },\n        "2000": { /* labels */ }\n      }\n    }\n  ]\n}')),o.a.createElement(be.a,{display:"flex",justifyContent:"center",alignItems:"center"},o.a.createElement(S.a,{style:{color:Ie.a[500],width:48,height:48}})),o.a.createElement(be.a,null,o.a.createElement(Pi,null,'{\n  "interface": { "type": "image_segmentation" },\n  samples: [\n    {\n      videoUrl: "https://example.com/vid1.mp4",\n      videoFrameAt: 0\n    },\n    {\n      videoUrl: "https://example.com/vid1.mp4",\n      videoFrameAt: 1000\n    },\n    {\n      videoUrl: "https://example.com/vid1.mp4",\n      videoFrameAt: 2000\n    }\n  ],\n  taskOutput: [\n    { /* labels */ },\n    { /* labels */ },\n    { /* labels */ }\n  ]\n}'))))))},Fi=a(546),Mi=a.n(Fi),zi=a(265),qi=a.n(zi),Hi=Object(U.a)("pre")({color:"red",whiteSpace:"prewrap",fontSize:11});function Wi(e,t,a){var n="sample_".concat(Mi()(e).slice(0,6),"__").concat(e.split("/").slice(-1)[0].replace(/[^a-zA-Z0-9_\-.]/g,"")),o=qi.a.join(t,n);return a.require("fs").existsSync(o)?o:new Promise((function(r,i){a.require("download-file")(e,{directory:t,filename:n},(function(e){return e?i(e):r(o)}))}))}var Vi=function(e){var t=e.open,a=e.onChangeDataset,r=e.onClose,i=e.dataset,l=(Re()||{}).remote,c=Object(n.useState)(null),s=Object(h.a)(c,2),u=s[0],d=s[1],m=Object(n.useState)(""),f=Object(h.a)(m,2),v=f[0],y=f[1],x=Object(R.a)().t;return o.a.createElement(ht,{open:t,onClose:r,title:"Download URLs",actions:[{text:"Download URLs",disabled:null!==u,onClick:function(){var e=Object(b.a)(g.a.mark((function e(){var t,n,o,r,c,s,u,m,f,b,v,x;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(0),e.next=3,l.dialog.showOpenDialog({title:"Directory to download files to",buttonLabel:"Download Files Here",properties:["createDirectory","openDirectory","promptToCreate"]});case 3:if(t=e.sent,n=t.cancelled,o=void 0===(o=t.filePaths)?[null]:o,r=Object(h.a)(o,1),c=r[0],!n&&c){e.next=11;break}return d(null),e.abrupt("return");case 11:s=Object(z.a)(i.samples),u="",m=0;case 14:if(!(m<i.samples.length)){e.next=36;break}if(f=i.samples[m],b=void 0,f.imageUrl&&(b="imageUrl"),f.videoUrl&&(b="videoUrl"),b&&f[b].startsWith("http")){e.next=21;break}return e.abrupt("continue",33);case 21:return v=f[b],e.prev=22,e.next=25,Wi(v,c,l);case 25:x=e.sent,s[m]=Object(p.a)(Object(p.a)({},f),{},Object(I.a)({},b,"file://".concat(x))),e.next=32;break;case 29:e.prev=29,e.t0=e.catch(22),u+="Skipping sample, error downloading samples[".concat(m,"] (").concat(v,"): ").concat(e.t0.toString()," \n");case 32:d(m/i.samples.length*100);case 33:m++,e.next=14;break;case 36:a(Object(yo.setIn)(i,["samples"],s)),y(u),d(100);case 39:case"end":return e.stop()}}),e,null,[[22,29]])})));return function(){return e.apply(this,arguments)}}()}]},x("download-urls-dialog"),o.a.createElement(ci,{progress:u||0}),v&&o.a.createElement(Hi,null,v))},Ji=a(308),Gi=a.n(Ji),Ki=Object(U.a)("pre")({color:"red",whiteSpace:"prewrap",fontSize:11}),Xi=function(e){var t=Math.floor(e/10)%100,a=Math.floor(e/1e3)%60,n=Math.floor(e/1e3/60)%60;return[Math.floor(e/1e3/60/60),":",n,":",a,".",t].map((function(e){return"number"===typeof e?e.toString().padStart(2,"0"):e})).join("")},Yi=function(e){var t=e.open,a=e.onChangeDataset,r=e.onClose,i=e.dataset,l=(Re()||{}).remote,c=Object(n.useState)(null),s=Object(h.a)(c,2),u=s[0],d=s[1],m=Object(n.useState)(""),f=Object(h.a)(m,2),v=f[0],y=f[1],x=Object(R.a)().t;return o.a.createElement(ht,{open:t,onClose:r,title:"Convert Video Frames to Images",actions:[{text:"Convert Video Frames to Images",disabled:null!==u,onClick:function(){var e=Object(b.a)(g.a.mark((function e(){var t,n,o,r,c,s,u,m,f;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d(0),t="",(n=l.require("ffmpeg-static"))||y("There was an issue using ffmpeg. Please create an issue on the github repository."),o=l.require("any-shell-escape"),r=l.require("child_process"),c=r.exec,s=Object(z.a)(i.samples),u=0,m=0;case 9:if(!(m<i.samples.length)){e.next=20;break}if(!(f=i.samples[m]).videoUrl||void 0===f.videoFrameAt){e.next=16;break}return e.delegateYield(g.a.mark((function e(){var a,r,l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f.videoUrl.startsWith("http")){e.next=3;break}return t+="Sample ".concat(m," has a url to a video, videos must be downloaded before extracting frames."),e.abrupt("return","continue");case 3:return u++,a=f.videoUrl.replace(/^file:\/\//,""),r=a+"__frameat__"+f.videoFrameAt+".jpg",l=o([n,"-y","-ss",Xi(f.videoFrameAt),"-i",a,"-frames:v",1,r]),e.next=9,new Promise((function(e,t){c(l,{timeout:5e3},(function(a){if(a)return t(a);e()}))}));case 9:s[m]=Object(p.a)(Object(p.a)({},Object(yo.without)(Object(yo.without)(i.samples[m],"videoUrl"),"videoFrameAt")),{},{imageUrl:"file://".concat(r)});case 10:case"end":return e.stop()}}),e)}))(),"t0",13);case 13:if("continue"!==e.t0){e.next=16;break}return e.abrupt("continue",17);case 16:d(m/i.samples.length*100);case 17:m++,e.next=9;break;case 20:0===u&&(t+="No transforms were performed, do all of your video samples have frames specified? You may need to convert the keyframes to samples."),a(Object(yo.setIn)(i,["samples"],s)),y(t),d(100);case 24:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]},x("transform-video-frames-to-images-dialog-explanation-text"),o.a.createElement(ci,{progress:u||0}),v&&o.a.createElement(Ki,null,v))},Zi=function(){var e=Object(b.a)(g.a.mark((function e(t){var a,n,o,r,i,l,c,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.fileName,n=t.fileURL,o=t.remote,window.remote=o,r="https://files.universaldatatool.com/".concat(a),i=o.require("axios"),l=n.split("file://")[1],c=o.require("fs").readFileSync(l),e.next=8,i.put(r,c).then((function(e){if(200===e.status)return e.data}));case 8:return s=e.sent,e.abrupt("return",s.replace("universaldatatool.com/","universaldatatool.com/get/"));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Qi=function(e){if(e.startsWith("file://")){var t=e.split("/");return t[t.length-1]}},$i=function(e){return e.imageUrl?"imageUrl":e.videoUrl?"videoUrl":e.audioUrl?"audioUrl":null},el=function(){var e=Object(b.a)(g.a.mark((function e(t){var a,n,o,r,i,l,c,s,u,d,m,f;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.dataset,n=t.onChangeDataset,o=t.setProgress,r=t.remote,i=[],l=100/a.samples.length,c=0;case 4:if(!(c<a.samples.length)){e.next=27;break}if(s=a.samples[c],u=$i(s)){e.next=10;break}return i.push(s),e.abrupt("continue",24);case 10:if((d=s[u]).startsWith("file://")){e.next=14;break}return i.push(s),e.abrupt("continue",24);case 14:return o(l*c),g=Qi(d),m=g.toLowerCase().replace(/[^a-z0-9]/g,"_").replace(/_+/g,"_"),e.next=19,Zi({fileName:m,fileURL:d,remote:r}).catch((function(e){return console.warn(e)}));case 19:if(f=e.sent){e.next=23;break}return i.push(s),e.abrupt("continue",24);case 23:i.push(Object(p.a)(Object(p.a)({},s),{},Object(I.a)({},u,f)));case 24:c++,e.next=4;break;case 27:o(100),n(Object(yo.setIn)(a,["samples"],i));case 29:case"end":return e.stop()}var g}),e)})));return function(t){return e.apply(this,arguments)}}(),tl=function(e){var t=e.open,a=e.onClose,r=e.dataset,i=e.onChangeDataset,l=Object(R.a)().t,c=Object(n.useState)(0),s=Object(h.a)(c,2),u=s[0],d=s[1],m=(Re()||{}).remote;return o.a.createElement(ht,{open:t,onClose:a,title:"Convert Local Files to Web URLs",actions:[{text:"Convert Local Files to Web URLs",onClick:function(){var e=Object(b.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,el({dataset:r,onChangeDataset:i,setProgress:d,remote:m});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]},l("transform-local-files-to-web-urls-explanation"),o.a.createElement(ci,{progress:u}))},al=Object(U.a)("pre")({color:"red",whiteSpace:"prewrap",fontSize:11}),nl=function(e){var t=e.open,a=e.onChangeDataset,r=e.onClose,i=e.dataset,l=Object(n.useState)(""),c=Object(h.a)(l,2),s=c[0],u=c[1],d=Object(n.useState)("2"),m=Object(h.a)(d,2),p=m[0],f=m[1],v=Object(n.useState)("2"),y=Object(h.a)(v,2),x=y[0],E=y[1];return o.a.createElement(ht,{open:t,onClose:r,title:"Convert Image Samples into Segments",actions:[{text:"Convert Image Samples into Segments",onClick:function(){var e=Object(b.a)(g.a.mark((function e(){var t,n,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[parseInt(p),parseInt(x)],n=t[0],o=t[1];try{a(Object(yo.setIn)(i,["samples"],Nn()(n).flatMap((function(e){return Nn()(o).flatMap((function(t){return i.samples.map((function(a){return Object(yo.setIn)(a,["allowedArea"],{x:t/o,y:e/n,width:1/o,height:1/n})}))}))})))),r()}catch(l){u(l.toString())}case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]},'This transformation will multiply the number of image samples you have, splitting each individual image into segments. The image is not processed and clipped, but rather an "allowedArea" property is placed on the sample which limits the labeling to a section of the image. This is useful when trying to reduce the amount of work per image sample.',o.a.createElement(be.a,{padding:4},o.a.createElement(_.a,{label:"Rows",value:p,onChange:function(e){return f(e.target.value)}}),o.a.createElement(_.a,{label:"Columns",value:x,onChange:function(e){return E(e.target.value)}})),s&&o.a.createElement(al,null,s))},ol=Object(U.a)("pre")({color:"red",whiteSpace:"prewrap",fontSize:11}),rl=function(e){var t=e.open,a=e.onChangeDataset,r=e.onClose,i=e.dataset,l=Object(n.useState)(""),c=Object(h.a)(l,2),s=c[0],u=c[1];return o.a.createElement(ht,{open:t,onClose:r,title:"Convert Segments to Image Samples",actions:[{text:"Convert Segments to Image Samples",onClick:function(){var e=Object(b.a)(g.a.mark((function e(){var t,n,o,l,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{for(t=Array.from(new Set(i.samples.map((function(e){return e.imageUrl})))),n=[],o=function(){var e=c[l],t=i.samples.filter((function(t){return t.imageUrl===e}));n.push({imageUrl:e,annotation:t.flatMap((function(e){return e.annotation})).filter(Boolean)})},l=0,c=t;l<c.length;l++)o();a(Object(yo.setIn)(i,["samples"],n)),r()}catch(s){u(s.toString())}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]},"This transformation will take image samples that have been split into segments (each with an allowedArea), and combine them into one image sample again. This is typically executed after a splitting operation when the samples are to be recombined.",s&&o.a.createElement(ol,null,s))},il=a(547),ll=a.n(il),cl=a(548),sl=a.n(cl),ul=a(378),dl=a.n(ul),ml=a(379),pl=a.n(ml),fl=Object(U.a)(A.a)({width:240,height:140,display:"inline-flex",flexDirection:"column","&.disabled":{backgroundColor:Ie.a[200]},margin:8,"& .icon":{width:36,height:36,color:Ie.a[600],"&.disabled":{color:Ie.a[400]}}}),gl=Object(U.a)("div")({fontSize:11,fontWeight:"bold",color:Ie.a[600],"&.disabled":{color:Ie.a[500]}}),bl=Object(n.createContext)(),hl=function(e){var t=e.Icon1,a=e.Icon2,n=e.desktopOnly,r=e.children,i=e.dialog,l=e.disabled,c=ir(),s=Fe(),u=Object(R.a)().t;return l=void 0===l?!!n&&!c:l,o.a.createElement(bl.Consumer,null,(function(e){var c=e.onChangeDialog;return o.a.createElement(fl,{onClick:function(){c(i),s.capture("transform_button_clicked",{transform_button:i})},className:Ln()({disabled:l}),variant:"outlined",disabled:l},o.a.createElement("div",null,t&&a?o.a.createElement(o.a.Fragment,null,o.a.createElement(t,{className:Ln()("icon",{disabled:l})}),o.a.createElement(S.a,{className:Ln()("icon",{disabled:l})}),o.a.createElement(a,{className:Ln()("icon",{disabled:l})})):o.a.createElement(t,{className:Ln()("icon",{disabled:l})}),o.a.createElement("div",null,r),n&&o.a.createElement(gl,{className:Ln()({disabled:l})},u("desktop-only").toUpperCase())))}))},vl=function(e){var t=e.dataset,a=e.onChangeDataset,r=Object(R.a)().t,i=Object(n.useState)(),l=Object(h.a)(i,2),c=l[0],s=l[1],u=function(){var e=Object(b.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="convert-keyframes-to-samples"===e.t0?3:4;break;case 3:return e.abrupt("break",5);case 4:return e.abrupt("return",s(t));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){return s(null)};return o.a.createElement(bl.Provider,{value:{onChangeDialog:u}},o.a.createElement("div",null,o.a.createElement(hl,{disabled:"video_segmentation"!==t.interface.type,dialog:"convert-keyframes-to-samples",Icon1:Ca.a,Icon2:Gi.a},r("convert-video-keyframes-to-samples")),o.a.createElement(hl,{desktopOnly:!0,dialog:"convert-local-files-to-web-urls",Icon1:ll.a,Icon2:sl.a},r("transform-local-files-to-web-urls")),o.a.createElement(hl,{desktopOnly:!0,dialog:"download-urls",Icon1:Xe.a},r("download")," URLs"),o.a.createElement(hl,{desktopOnly:!0,dialog:"convert-video-frames-to-images",Icon1:Ca.a,Icon2:ma.a},r("convert-video-frames-to-images")),o.a.createElement(hl,{dialog:"split-image-samples-into-segments",Icon1:dl.a,Icon2:pl.a},"Split Image Samples into Segments"),o.a.createElement(hl,{dialog:"combine-segments-into-image-samples",Icon1:pl.a,Icon2:dl.a},"Combine Segments into Image Samples"),o.a.createElement(Bi,{open:"convert-keyframes-to-samples"===c,onClose:d,dataset:t,onChangeDataset:function(){a.apply(void 0,arguments),d()}}),o.a.createElement(Vi,{open:"download-urls"===c,onClose:d,dataset:t,desktopOnly:!0,onChangeDataset:a}),o.a.createElement(tl,{dataset:t,onClose:d,onChangeDataset:a,desktopOnly:!0,open:"convert-local-files-to-web-urls"===c}),o.a.createElement(Yi,{open:"convert-video-frames-to-images"===c,onClose:d,dataset:t,desktopOnly:!0,onChangeDataset:a}),o.a.createElement(nl,{dataset:t,open:"split-image-samples-into-segments"===c,onClose:d,onChangeDataset:a}),o.a.createElement(rl,{dataset:t,open:"combine-segments-into-image-samples"===c,onClose:d,onChangeDataset:a})))},yl=Object(U.a)("div")({padding:16,height:"100%",display:"flex",flexDirection:"column",boxSizing:"border-box"}),xl=Object(U.a)("div")({fontSize:14,color:Ie.a[600],display:"flex",justifyContent:"flex-end",alignItems:"center",flexGrow:1}),El=Object(U.a)("div")({padding:8,border:"#888 solid 1px",borderTop:"none",borderRadius:4,borderTopLeftRadius:0,borderTopRightRadius:0,boxShadow:"inset 0 3px 3px rgba(0,0,0,0.2)"}),Ol=Object(U.a)("div")({fontSize:11,fontWeight:"bold"}),wl=Object(U.a)("pre")({whiteSpace:"pre-wrap",fontSize:11}),jl=function(e){var t=e.data,a=t.annotation,n=Object(Cn.a)(t,["annotation"]);return o.a.createElement(El,null,o.a.createElement(w.a,{spacing:2,container:!0},o.a.createElement(w.a,{item:!0,xs:6},o.a.createElement(Ol,null,"samples[",t.index,"]:"),o.a.createElement(wl,null,JSON.stringify(n,null,"  "))),o.a.createElement(w.a,{item:!0,xs:6},o.a.createElement(Ol,null,"samples[",t.index,"].annotation:"),o.a.createElement(wl,null,JSON.stringify(a,null,"  ")))))},kl=function(e){var t=e.file,a=e.dataset,r=e.openSampleInputEditor,i=e.openSampleLabelEditor,l=e.deleteSample,c=e.onChangeDataset,s=e.onChangeFile,u=e.authConfig,d=e.user,m=ir(),f=Object(n.useState)(0===(a.samples||[]).length?"import":window.localStorage.lastSampleTab||"grid"),g=Object(h.a)(f,2),b=g[0],v=g[1],y=function(e){v(e),window.localStorage.lastSampleTab=e},x=Object(n.useMemo)((function(){if(!a.samples)return[];var e,t=[{name:"Index",selector:"index",sortable:!0}],n=new Set,c=Object(H.a)(a.samples);try{for(c.s();!(e=c.n()).done;){var s=e.value,u=function(e){n.has(e)||(t.push({name:e,selector:e,cell:function(t){return"object"!==typeof t[e]?t[e]:JSON.stringify(t[e]).slice(0,30)+"..."}}),n.add(e))};for(var d in s)u(d)}}catch(Bd){c.e(Bd)}finally{c.f()}return t.push({name:"Edit",button:!0,cell:function(e){return o.a.createElement(ke.a,{raised:!0,onClick:function(){return r(e.index)}},o.a.createElement(va.a,{style:{width:20,height:20}}))}}),t.push({name:"Label",button:!0,cell:function(e){return o.a.createElement(ke.a,{raised:!0,onClick:function(){return i(e.index)}},o.a.createElement(Oe.a,{style:{width:20,height:20}}))}}),t.push({name:"Delete",button:!0,cell:function(e){return o.a.createElement(ke.a,{raised:!0,primary:!0,onClick:function(){return l(e.index)}},o.a.createElement(_n.a,{style:{width:20,height:20}}))}}),t}),[a.samples,l,r,i]),E=Object(n.useMemo)((function(){return a.samples?a.samples.map((function(e,t){return Object(p.a)(Object(p.a)({},e),{},{index:t})})):[]}),[a.samples]);return o.a.createElement(yl,null,o.a.createElement(be.a,{display:"flex"},o.a.createElement(fe.a,{value:b,onChange:function(e,t){return y(t)}},o.a.createElement(ge.a,{icon:o.a.createElement(Kn.a,null),label:"Import",value:"import"}),o.a.createElement(ge.a,{icon:o.a.createElement(Wn.a,null),label:"Transform",value:"transform"}),o.a.createElement(ge.a,{icon:o.a.createElement(qn.a,null),label:"Grid",value:"grid"}),o.a.createElement(ge.a,{icon:o.a.createElement(Jn.a,null),label:"Table",value:"table"})),o.a.createElement(xl,null,(a.samples||[]).length," Samples",o.a.createElement("br",null),(a.samples||[]).filter((function(e){return e.annotation})).length," Labels")),o.a.createElement(be.a,{paddingTop:2}),o.a.createElement(be.a,{flexGrow:1},"import"===b&&o.a.createElement(Li,{file:t,isDesktop:m,onChangeFile:function(e){return s(e)},onImportPageShouldExit:function(){return y("grid")},onChangeDataset:function(e){return c(e)},dataset:a,authConfig:u,user:d}),"transform"===b&&o.a.createElement(vl,{isDesktop:m,dataset:a,onChangeDataset:function(e,t){c(e),t&&y("grid")}}),"grid"===b&&o.a.createElement(Mn,{tablePaginationPadding:6,count:(a.samples||[]).length,samples:a.samples||[],completed:(a.samples||[]).map((function(e){return Boolean(e.annotation)})),onClick:function(e){i(e)}}),"table"===b&&o.a.createElement(In.a,{title:"Samples",expandableRowsComponent:o.a.createElement(jl,null),expandableRows:!0,dense:!0,columns:x,data:E,pagination:!0,paginationPerPage:10,paginationRowsPerPageOptions:[10,20,25,50,100,200]})))},Cl={questions:[{name:"regionTypesAllowed",title:"Region Types Allowed",description:"What types of regions can be drawn on the image.",type:"multiple-dropdown",choices:["bounding-box","polygon","point"]},{name:"multipleRegions",title:"Can multiple regions be created?",type:"boolean"},{name:"multipleRegionLabels",title:"Multiple Region Labels Allowed?",type:"boolean"},{name:"labels",title:"Available Labels",description:"If you're labeling regions on an image, these are the allowed classifications or tags.",type:"matrixdynamic",columns:[{cellType:"text",name:"id",title:"id"},{cellType:"text",name:"description",title:"Description (optional)"}]}]},Sl=function(e){var t=e.iface,a=e.onChange,r=Object(n.useMemo)((function(){return Object(yo.asMutable)({multipleRegions:Boolean(t.multipleRegions||void 0===t.multipleRegions),multipleRegionLabels:Boolean(t.multipleRegionLabels),regionTypesAllowed:t.regionTypesAllowed,labels:(t.labels||[]).map((function(e){return"string"===typeof e?{id:e,description:e}:e}))||[]},{deep:!0})}),[t]);return o.a.createElement(Qa.a,{noActions:!0,variant:"flat",defaultAnswers:r,onQuestionChange:function(e,n,o){a(Object(yo.setIn)(t,[e],n))},form:Cl})},Il={low:1e3,medium:8e3,high:64e3},Tl=Object.entries(Il).reduce((function(e,t){return e[t[1]]=t[0],e}),{}),_l={questions:[{name:"labels",title:"Available Labels",description:"If you're labeling regions on an image, these are the allowed classifications or tags.",type:"matrixdynamic",columns:[{cellType:"text",name:"id",title:"id"},{cellType:"text",name:"description",title:"Description (optional)"}]},{name:"description",title:"Sidebar Description",description:"Any instructions or notes in markdown.",type:"text"},{name:"autosegMode",type:"dropdown",title:"Automatic Segmentation Engine",choices:["simple","autoseg"]},{name:"autosegPreset",type:"dropdown",visibleIf:"{autosegMode}='autoseg'",title:"Super Pixel Quality",choices:["low","medium","high","custom"]},{name:"autosegMaxClusters",type:"slider",visibleIf:"{autosegPreset}='custom'",title:"Total Super Pixels",min:10,max:1e5,step:10,defaultValue:1e3}]},Al=function(e){var t=e.iface,a=e.onChange,r=Object(n.useMemo)((function(){var e,a,n;return{description:t.description,labels:(t.labels||[]).map((function(e){return"string"===typeof e?{id:e,description:e}:e}))||[],autosegMode:null===(e=t.autoSegmentationEngine)||void 0===e?void 0:e.mode,autosegPreset:Tl[(null===(a=t.autoSegmentationEngine)||void 0===a?void 0:a.maxClusters)||1e3]||"custom",autosegMaxClusters:(null===(n=t.autoSegmentationEngine)||void 0===n?void 0:n.maxClusters)||1e3}}),[t]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(Qa.a,{noActions:!0,variant:"flat",defaultAnswers:r,onQuestionChange:function(e,n,o){a(Object(p.a)(Object(p.a)({},t),{},{description:o.description,labels:o.labels,autoSegmentationEngine:{mode:o.autosegMode,maxClusters:"custom"===o.autosegPreset?o.autosegMaxClusters:Il[o.autosegPreset]}}))},form:_l}))},Nl={questions:[{name:"multiple",title:"Allow multiple classifications per image?",type:"boolean"},{name:"labels",title:"Labels",description:"Classifications or tags to be labeled.",type:"matrixdynamic",columns:[{cellType:"text",name:"id",title:"id"},{cellType:"text",name:"description",title:"Description (optional)"}]}]},Dl=function(e){var t=e.iface,a=e.onChange,r=Object(n.useMemo)((function(){return{allowMultiple:!1,labels:(t.labels||[]).map((function(e){return"string"===typeof e?{id:e,description:e}:e}))||[]}}),[t.labels]);return o.a.createElement(Qa.a,{noActions:!0,variant:"flat",defaultAnswers:r,onQuestionChange:function(e,n,o){a(Object(yo.setIn)(t,[e],n))},form:Nl})},Ll={questions:[{name:"multiple",title:"Allow Multiple Classifications",type:"boolean"},{name:"labels",title:"Labels",description:"Classifications or tags to be labeled.",type:"matrixdynamic",columns:[{cellType:"text",name:"id",title:"id"},{cellType:"text",name:"displayName",title:"Display Name"},{cellType:"text",name:"description",title:"Description (optional)"}]}]},Pl=function(e){var t=e.iface,a=e.onChange,r=Object(n.useMemo)((function(){return{multiple:!1,labels:(t.labels||[]).map((function(e){return"string"===typeof e?{id:e,displayName:e,description:e}:e}))||[]}}),[t.labels]);return o.a.createElement(Qa.a,{noActions:!0,variant:"flat",defaultAnswers:r,onQuestionChange:function(e,n,o){a(Object(yo.setIn)(t,[e],n))},form:Ll})},Ul={questions:[{name:"transcriptionType",title:"Transcription Type",type:"dropdown",choices:["simple","proper"]},{name:"phraseBank",title:"Phrase Bank",description:"URL of single-column CSV or TXT file with allowed phrases",type:"text"},{name:"onlyUseWordsInPhraseBank",title:"Only Use Words In Phrase Bank",type:"boolean"},{name:"language",title:"Language",type:"dropdown",choices:[{value:"ab",text:"Abkhazian"},{value:"aa",text:"Afar"},{value:"af",text:"Afrikaans"},{value:"ak",text:"Akan"},{value:"sq",text:"Albanian"},{value:"am",text:"Amharic"},{value:"ar",text:"Arabic"},{value:"an",text:"Aragonese"},{value:"hy",text:"Armenian"},{value:"as",text:"Assamese"},{value:"av",text:"Avaric"},{value:"ae",text:"Avestan"},{value:"ay",text:"Aymara"},{value:"az",text:"Azerbaijani"},{value:"bm",text:"Bambara"},{value:"ba",text:"Bashkir"},{value:"eu",text:"Basque"},{value:"be",text:"Belarusian"},{value:"bn",text:"Bengali"},{value:"bh",text:"Bihari languages"},{value:"bi",text:"Bislama"},{value:"bs",text:"Bosnian"},{value:"br",text:"Breton"},{value:"bg",text:"Bulgarian"},{value:"my",text:"Burmese"},{value:"ca",text:"Catalan, Valencian"},{value:"km",text:"Central Khmer"},{value:"ch",text:"Chamorro"},{value:"ce",text:"Chechen"},{value:"ny",text:"Chichewa, Chewa, Nyanja"},{value:"zh",text:"Chinese"},{value:"cu",text:"Church Slavonic, Old Bulgarian, Old Church Slavonic"},{value:"cv",text:"Chuvash"},{value:"kw",text:"Cornish"},{value:"co",text:"Corsican"},{value:"cr",text:"Cree"},{value:"hr",text:"Croatian"},{value:"cs",text:"Czech"},{value:"da",text:"Danish"},{value:"dv",text:"Divehi, Dhivehi, Maldivian"},{value:"nl",text:"Dutch, Flemish"},{value:"dz",text:"Dzongkha"},{value:"en",text:"English"},{value:"eo",text:"Esperanto"},{value:"et",text:"Estonian"},{value:"ee",text:"Ewe"},{value:"fo",text:"Faroese"},{value:"fj",text:"Fijian"},{value:"fi",text:"Finnish"},{value:"fr",text:"French"},{value:"ff",text:"Fulah"},{value:"gd",text:"Gaelic, Scottish Gaelic"},{value:"gl",text:"Galician"},{value:"lg",text:"Ganda"},{value:"ka",text:"Georgian"},{value:"de",text:"German"},{value:"ki",text:"Gikuyu, Kikuyu"},{value:"el",text:"Greek (Modern)"},{value:"kl",text:"Greenlandic, Kalaallisut"},{value:"gn",text:"Guarani"},{value:"gu",text:"Gujarati"},{value:"ht",text:"Haitian, Haitian Creole"},{value:"ha",text:"Hausa"},{value:"he",text:"Hebrew"},{value:"hz",text:"Herero"},{value:"hi",text:"Hindi"},{value:"ho",text:"Hiri Motu"},{value:"hu",text:"Hungarian"},{value:"is",text:"Icelandic"},{value:"io",text:"Ido"},{value:"ig",text:"Igbo"},{value:"id",text:"Indonesian"},{value:"ia",text:"Interlingua (International Auxiliary Language Association)"},{value:"ie",text:"Interlingue"},{value:"iu",text:"Inuktitut"},{value:"ik",text:"Inupiaq"},{value:"ga",text:"Irish"},{value:"it",text:"Italian"},{value:"ja",text:"Japanese"},{value:"jv",text:"Javanese"},{value:"kn",text:"Kannada"},{value:"kr",text:"Kanuri"},{value:"ks",text:"Kashmiri"},{value:"kk",text:"Kazakh"},{value:"rw",text:"Kinyarwanda"},{value:"kv",text:"Komi"},{value:"kg",text:"Kongo"},{value:"ko",text:"Korean"},{value:"kj",text:"Kwanyama, Kuanyama"},{value:"ku",text:"Kurdish"},{value:"ky",text:"Kyrgyz"},{value:"lo",text:"Lao"},{value:"la",text:"Latin"},{value:"lv",text:"Latvian"},{value:"lb",text:"Letzeburgesch, Luxembourgish"},{value:"li",text:"Limburgish, Limburgan, Limburger"},{value:"ln",text:"Lingala"},{value:"lt",text:"Lithuanian"},{value:"lu",text:"Luba-Katanga"},{value:"mk",text:"Macedonian"},{value:"mg",text:"Malagasy"},{value:"ms",text:"Malay"},{value:"ml",text:"Malayalam"},{value:"mt",text:"Maltese"},{value:"gv",text:"Manx"},{value:"mi",text:"Maori"},{value:"mr",text:"Marathi"},{value:"mh",text:"Marshallese"},{value:"ro",text:"Moldovan, Moldavian, Romanian"},{value:"mn",text:"Mongolian"},{value:"na",text:"Nauru"},{value:"nv",text:"Navajo, Navaho"},{value:"nd",text:"Northern Ndebele"},{value:"ng",text:"Ndonga"},{value:"ne",text:"Nepali"},{value:"se",text:"Northern Sami"},{value:"no",text:"Norwegian"},{value:"nb",text:"Norwegian Bokm\xe5l"},{value:"nn",text:"Norwegian Nynorsk"},{value:"ii",text:"Nuosu, Sichuan Yi"},{value:"oc",text:"Occitan (post 1500)"},{value:"oj",text:"Ojibwa"},{value:"or",text:"Oriya"},{value:"om",text:"Oromo"},{value:"os",text:"Ossetian, Ossetic"},{value:"pi",text:"Pali"},{value:"pa",text:"Panjabi, Punjabi"},{value:"ps",text:"Pashto, Pushto"},{value:"fa",text:"Persian"},{value:"pl",text:"Polish"},{value:"pt",text:"Portuguese"},{value:"qu",text:"Quechua"},{value:"rm",text:"Romansh"},{value:"rn",text:"Rundi"},{value:"ru",text:"Russian"},{value:"sm",text:"Samoan"},{value:"sg",text:"Sango"},{value:"sa",text:"Sanskrit"},{value:"sc",text:"Sardinian"},{value:"sr",text:"Serbian"},{value:"sn",text:"Shona"},{value:"sd",text:"Sindhi"},{value:"si",text:"Sinhala, Sinhalese"},{value:"sk",text:"Slovak"},{value:"sl",text:"Slovenian"},{value:"so",text:"Somali"},{value:"st",text:"Sotho, Southern"},{value:"nr",text:"South Ndebele"},{value:"es",text:"Spanish, Castilian"},{value:"su",text:"Sundanese"},{value:"sw",text:"Swahili"},{value:"ss",text:"Swati"},{value:"sv",text:"Swedish"},{value:"tl",text:"Tagalog"},{value:"ty",text:"Tahitian"},{value:"tg",text:"Tajik"},{value:"ta",text:"Tamil"},{value:"tt",text:"Tatar"},{value:"te",text:"Telugu"},{value:"th",text:"Thai"},{value:"bo",text:"Tibetan"},{value:"ti",text:"Tigrinya"},{value:"to",text:"Tonga (Tonga Islands)"},{value:"ts",text:"Tsonga"},{value:"tn",text:"Tswana"},{value:"tr",text:"Turkish"},{value:"tk",text:"Turkmen"},{value:"tw",text:"Twi"},{value:"ug",text:"Uighur, Uyghur"},{value:"uk",text:"Ukrainian"},{value:"ur",text:"Urdu"},{value:"uz",text:"Uzbek"},{value:"ve",text:"Venda"},{value:"vi",text:"Vietnamese"},{value:"vo",text:"Volap_k"},{value:"wa",text:"Walloon"},{value:"cy",text:"Welsh"},{value:"fy",text:"Western Frisian"},{value:"wo",text:"Wolof"},{value:"xh",text:"Xhosa"},{value:"yi",text:"Yiddish"},{value:"yo",text:"Yoruba"},{value:"za",text:"Zhuang, Chuang"},{value:"zu",text:"Zulu"}]},{name:"description",title:"Description",type:"multiline-text"}]},Rl=function(e){var t=e.iface,a=e.onChange;return o.a.createElement(Qa.a,{noActions:!0,variant:"flat",onQuestionChange:function(e,n,o){n.value?a(Object(p.a)(Object(p.a)({},t),{},Object(I.a)({},e,n.value))):a(Object(p.a)(Object(p.a)({},t),{},Object(I.a)({},e,n)))},form:Ul})},Bl={questions:[{name:"labels",title:"Labels",type:"matrixdynamic",hasOther:!0,columns:[{cellType:"text",name:"id",title:"ID"},{cellType:"text",name:"displayName",title:"Display Name"},{cellType:"text",name:"description",title:"Description"}]}]},Fl=function(e){var t=e.iface,a=e.onChange,r=Object(n.useMemo)((function(){return{description:t.description,overlapAllowed:Boolean(t.overlapAllowed||void 0===t.overlapAllowed),labels:(t.labels||[]).map((function(e){return"string"===typeof e?{id:e,displayName:e,description:e}:e}))}}),[t]);return o.a.createElement(Qa.a,{noActions:!0,variant:"flat",onQuestionChange:function(e,n,o){a(Object(yo.setIn)(t,[e],n))},form:Bl,defaultAnswers:r})},Ml={questions:[{name:"entityLabels",title:"Entity Labels",type:"matrixdynamic",columns:[{cellType:"text",name:"id",title:"ID"},{cellType:"text",name:"displayName",title:"Display Name"},{cellType:"text",name:"description",title:"Description"}]},{name:"relationLabels",title:"Relation Labels",type:"matrixdynamic",columns:[{cellType:"text",name:"id",title:"ID"},{cellType:"text",name:"displayName",title:"Display Name"},{cellType:"text",name:"description",title:"Description"}]}]},zl=function(e){var t=e.iface,a=e.onChange,r=Object(n.useMemo)((function(){return{entityLabels:(t.entityLabels||[]).map((function(e){return"string"===typeof e?{id:e,displayName:e,description:e}:e})),relationLabels:(t.relationLabels||[]).map((function(e){return"string"===typeof e?{id:e,displayName:e,description:e}:e}))}}),[t]);return o.a.createElement(Qa.a,{noActions:!0,variant:"flat",onQuestionChange:function(e,n,o){a(Object(yo.setIn)(t,[e],n))},form:Ml,defaultAnswers:r})},ql=a(592),Hl=a(450),Wl=a(554),Vl=a.n(Wl),Jl=a(553),Gl=a.n(Jl),Kl=Object(U.a)("div")({textAlign:"right"}),Xl=Object(U.a)("div")({fontSize:18,color:Ie.a[500],fontWeight:"bold",textAlign:"center",padding:16}),Yl=Object(U.a)("div")({position:"relative",padding:16,margin:16,borderLeft:"4px solid ".concat(u.a[400]),borderRadius:4,paddingRight:64,"& .quitButton":{position:"absolute",right:4,top:4},"& > *":{margin:8}}),Zl=Object(U.a)("div")({fontSize:12,fontWeight:"bold",color:Ie.a[600],textTransform:"uppercase",margin:16,marginBottom:32}),Ql=Object(U.a)(A.a)({position:"relative","& .icon":{marginRight:8,opacity:.7}}),$l=function(e){var t=e.iface,a=e.onChange,r=Object(n.useRef)(),i=Object(n.useState)(!1),l=Object(h.a)(i,2),c=l[0],s=l[1],u=(t.surveyjs||{}).questions,d=void 0===u?[]:u,m=Object(R.a)().t;return o.a.createElement("div",null,0===d.length?o.a.createElement(Xl,null,"No Inputs, Click Add Input Below"):d.map((function(e,n){return o.a.createElement(Yl,{key:n},o.a.createElement("div",{style:{display:"flex"}},o.a.createElement(_.a,{variant:"outlined",label:"Name / Identifier",value:e.name||"",onChange:function(e){a(Object(yo.setIn)(t,["surveyjs","questions",n,"name"],e.target.value))}}),o.a.createElement(_.a,{style:{marginLeft:8,flexGrow:1},variant:"outlined",label:"Title / Instruction",value:e.title||"",onChange:function(e){a(Object(yo.setIn)(t,["surveyjs","questions",n,"title"],e.target.value))}})),o.a.createElement(w.a,{container:!0},o.a.createElement(w.a,{item:!0,xs:6},e.choices&&o.a.createElement(_.a,{style:{marginTop:8,paddingRight:8,boxSizing:"border-box"},variant:"outlined",fullWidth:!0,label:"Choices (One per Line)",defaultValue:e.choices.join("\n")||"",onChange:function(e){a(Object(yo.setIn)(t,["surveyjs","questions",n,"choices"],e.target.value.split("\n")))},multiline:!0,rows:6})),o.a.createElement(w.a,{item:!0,xs:6},o.a.createElement(Zl,null,"Preview"),o.a.createElement(Qa.a,{noActions:!0,variant:"flat",key:e,form:{questions:[e]}}))),o.a.createElement(ke.a,{className:"quitButton",onClick:function(){a(Object(yo.setIn)(t,["surveyjs","questions"],[].concat(Object(z.a)(d.slice(0,n)),Object(z.a)(d.slice(n+1)))))}},o.a.createElement(Gl.a,null)))})),o.a.createElement(Kl,null,o.a.createElement(Ql,{onClick:function(e){return s(!0)},ref:r},o.a.createElement(Vl.a,{className:"icon"}),m("add-input"))),o.a.createElement(ql.a,{anchorEl:r&&r.current,open:c,onClose:function(){return s(!1)}},o.a.createElement(Hl.a,{onClick:function(){s(!1),a(Object(yo.setIn)(t,["surveyjs","questions"],((t.surveyjs||{}).questions||[]).concat([{name:"input"+d.length,type:"text",title:"New Text Input"}])))}},m("text-input")),o.a.createElement(Hl.a,{onClick:function(){s(!1),a(Object(yo.setIn)(t,["surveyjs","questions"],(t.surveyjs.questions||[]).concat({name:"input"+d.length,type:"radiogroup",title:"New Exclusive Choice Input",choices:["Yes","Maybe","No"]})))}},m("exclusive-choice")),o.a.createElement(Hl.a,{onClick:function(){s(!1),a(Object(yo.setIn)(t,["surveyjs","questions"],(t.surveyjs.questions||[]).concat({name:"input"+d.length,type:"checkbox",title:"New Checkbox Input",choices:["A","B","C"]})))}},"Checkboxes"),o.a.createElement(Hl.a,{onClick:function(){s(!1),a(Object(yo.setIn)(t,["surveyjs","questions"],t.surveyjs.questions.concat({name:"input"+d.length,type:"boolean",title:"New Boolean Input"})))}},"Boolean"),o.a.createElement(Hl.a,{onClick:function(){s(!1),a(Object(yo.setIn)(t,["surveyjs","questions"],(t.questions||[]).concat({name:"input"+d.length,type:"dropdown",title:"New Dropdown Input",choices:["A","B","C"]})))}},m("drop-down-autocomplete")),o.a.createElement(Hl.a,{onClick:function(){s(!1),a(Object(yo.setIn)(t,["surveyjs","questions"],t.surveyjs.questions.concat([{name:"input"+d.length,type:"multiple-dropdown",title:"New Multiple Dropdown Input",choices:["A","B","C"]}])))}},m("multiple-item-dropdown-autocomplete"))))},ec=Object(U.a)("div")({}),tc=Object(U.a)(si.a)({marginTop:16,border:"2px solid #000"}),ac=Object(U.a)(A.a)({width:"100%",margin:16,marginLeft:0}),nc=function(e){var t=e.iface,a=e.onChange,n=Object(R.a)().t;return o.a.createElement(o.a.Fragment,null,o.a.createElement(ec,null,(t.fields||[]).map((function(e,r){return o.a.createElement(tc,{key:r},o.a.createElement(mi.a,{expandIcon:o.a.createElement(di.a,null)},e.fieldName),o.a.createElement(pi.a,null,o.a.createElement(be.a,{display:"flex",flexDirection:"column"},o.a.createElement(_.a,{label:"Field Name",value:e.fieldName,onChange:function(e){a(Object(yo.setIn)(["fields",r,"fieldName"],e.target.value,t))}}),o.a.createElement(mc,{isNested:!0,dataset:{interface:e.interface},onChange:function(n){a(Object(p.a)(Object(p.a)({},t),{},{fields:t.fields.map((function(t){return t.fieldName===e.fieldName?Object(p.a)(Object(p.a)({},e),{},{interface:n}):t}))}))}}),o.a.createElement(A.a,{onClick:function(){a(Object(p.a)(Object(p.a)({},t),{},{fields:t.fields.filter((function(t){return t.fieldName!==e.fieldName}))}))}},n("remove-field")))))})),o.a.createElement(ac,{onClick:function(){a(Object(yo.setIn)(t,["fields"],(t.fields||[]).concat({fieldOrder:(t.fields||[]).length,fieldName:"New Field",interface:{type:"empty"}})))}},n("add-new-field"))))},oc=Object(U.a)("div")({textAlign:"center",paddingTop:30,paddingBottom:50,userSelect:"none"}),rc=Object(U.a)("h3")({fontWeight:"bold",color:Ie.a[500]}),ic=Object(U.a)("a")({color:u.a[500]}),lc=function(){var e=Object(R.a)().t;return o.a.createElement(oc,null,o.a.createElement(rc,null,e("configure-3d-explanation-text-part-1")," ",o.a.createElement(ic,{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/UniversalDataTool/universal-data-tool/issues/20"},"this")," ",e("github-issue"),"."))},cc={questions:[{name:"regionTypesAllowed",title:"Region Types Allowed",description:"What types of regions can be drawn on the image.",type:"multiple-dropdown",choices:["bounding-box","polygon","point"]},{name:"multipleRegions",title:"Can multiple regions be created?",type:"boolean"},{name:"multipleRegionLabels",title:"Multiple Region Labels Allowed?",type:"boolean"},{name:"labels",title:"Labels",description:"If you're labeling regions on an video frames, these are the allowed classifications or tags.",type:"matrixdynamic",columns:[{cellType:"text",name:"id",title:"id"},{cellType:"text",name:"description",title:"Description (optional)"}]}]},sc=function(e){var t=e.iface,a=e.onChange,r=Object(n.useMemo)((function(){return{multipleRegions:Boolean(t.multipleRegions||void 0===t.multipleRegions),multipleRegionLabels:Boolean(t.multipleRegionLabels),regionTypesAllowed:t.regionTypesAllowed,labels:(t.labels||[]).map((function(e){return"string"===typeof e?{id:e,description:e}:e}))||[]}}),[t]);return o.a.createElement(Qa.a,{noActions:!0,variant:"flat",defaultAnswers:r,onQuestionChange:function(e,n,o){a(Object(yo.setIn)(t,[e],n))},form:cc})},uc=Object(U.a)("div")({padding:24}),dc=Object(U.a)("div")({fontSize:18,textAlign:"center",fontWeight:"bold",color:Ie.a[500],paddingTop:30,paddingBottom:50}),mc=function(e){var t=e.dataset,a=e.onChange,n=(e.onClickEditJSON,e.isNested,t.interface);return o.a.createElement(uc,null,!n.type&&o.a.createElement(dc,null,"Select a Type"),"image_segmentation"===n.type&&o.a.createElement(Sl,{iface:n,onChange:a}),"image_pixel_segmentation"===n.type&&o.a.createElement(Al,{iface:n,onChange:a}),"image_classification"===n.type&&o.a.createElement(Dl,{iface:n,onChange:a}),"composite"===n.type&&o.a.createElement(nc,{iface:n,onChange:a}),"data_entry"===n.type&&o.a.createElement($l,{iface:n,onChange:a}),"audio_transcription"===n.type&&o.a.createElement(Rl,{iface:n,onChange:a}),"text_entity_recognition"===n.type&&o.a.createElement(Fl,{iface:n,onChange:a}),"text_entity_relations"===n.type&&o.a.createElement(zl,{iface:n,onChange:a}),"text_classification"===n.type&&o.a.createElement(Pl,{iface:n,onChange:a}),"video_segmentation"===n.type&&o.a.createElement(sc,{iface:n,onChange:a}),"3d_bounding_box"===n.type&&o.a.createElement(lc,{iface:n,onChange:a}))},pc=a(1083),fc=Object(y.a)({table:{}}),gc={marginLeft:8,width:16,height:16},bc=function(e){var t=e.open,a=e.onClose,r=e.onChangeHotkey,i=e.hotkeyList,l=e.onClearHotkeys,c=fc(),s=Object(n.useState)(),u=Object(h.a)(s,2),d=u[0],m=u[1],p=Object(n.useState)({}),f=Object(h.a)(p,2),g=f[0],b=g.modifier,v=g.key,y=f[1];return Object(n.useEffect)((function(){if(d)return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)};function e(e){["shift","ctrl","cmd","alt"].includes(e.key.toLowerCase())&&y({modifier:e.key.toLowerCase(),key:v}),1===e.key.length&&y({modifier:b,key:e.key.toLowerCase()})}}),[d,v,b,y]),Object(n.useEffect)((function(){v&&(r(d,b?"".concat(b," + ").concat(v):v),y({}),m(null))}),[b,v,r,d]),o.a.createElement(ht,{title:"Manage Keyboard Shortcuts",actions:[{text:"Clear Hotkeys",onClick:l}],open:t,onClose:a},o.a.createElement(Xr.a,null,o.a.createElement(Jr.a,{className:c.table,"aria-label":"simple table"},o.a.createElement(Yr.a,null,o.a.createElement(Zr.a,null,o.a.createElement(Kr.a,null,"Action"),o.a.createElement(Kr.a,{align:"right"},"Keyboard Shortcut"))),o.a.createElement(Gr.a,null,i.map((function(e){return o.a.createElement(Zr.a,{key:e.description},o.a.createElement(Kr.a,null,e.description),o.a.createElement(Kr.a,{align:"right"},o.a.createElement(A.a,{onClick:function(){if(d!==e)return m(e),void y({})},style:{minWidth:0}},o.a.createElement("b",null,d===e?b||v?"<".concat(b?b+"+":"").concat(v||"???",">"):"<Press Any Key>":e.binding),o.a.createElement(va.a,{style:gc}))))}))))))},hc=Object(U.a)(A.a)({margin:8}),vc=function(e){e.onClickEditJSON;var t=e.onClearLabelData,a=Object(pc.a)(),r=Fe(),i=Z(),l=i.fromConfig,c=i.setInConfig,s=J(),u=s.hotkeys,d=s.changeHotkey,m=s.clearHotkeys,p=Object(n.useState)(!1),f=Object(h.a)(p,2),g=f[0],b=f[1],v=Object(R.a)().t;return o.a.createElement(be.a,{padding:2},o.a.createElement(hc,{onClick:function(){window.confirm("Are you sure you want to delete all your label data? Click OK to delete.")&&t()},variant:"outlined"},v("clear-labels")),o.a.createElement(hc,{variant:"outlined",onClick:function(){r.has_opted_out_capturing()?r.opt_in_capturing():r.opt_out_capturing(),a()}},r.has_opted_out_capturing()?"Enable":"Disable"," ",v("telemetry")),o.a.createElement(hc,{variant:"outlined",onClick:function(){var e=window.prompt("Input URL for new collaboration server (empty to use universaldatatool.com):",window.localStorage.getItem("CUSTOM_COLLABORATION_SERVER")||"");null!==e&&(window.localStorage.setItem("CUSTOM_COLLABORATION_SERVER",e),window.location.reload())}},v("custom-collaboration-server")),o.a.createElement(hc,{variant:"outlined",onClick:function(){c("labelhelp.disabled",!Boolean(l("labelhelp.disabled")))}},l("labelhelp.disabled")?"Enable":"Disable"," ",v("label-help")),!l("labelhelp.disabled")&&o.a.createElement(hc,{variant:"outlined",disabled:Boolean(l("labelhelp.disabled")),onClick:function(){var e=window.prompt("Label Help API Key:",l("labelhelp.apikey")||"");null!==e&&c("labelhelp.apikey",e)}},v("label-help-api-key")),o.a.createElement(hc,{variant:"outlined",onClick:function(){b(!0)}},"Change/View Hotkeys"),o.a.createElement(bc,{open:g,hotkeyList:u,onClose:function(){return b(!1)},onClearHotkeys:m,onChangeHotkey:function(e,t){return d(e.id,t)}}))},yc=a(579),xc=a.n(yc),Ec=a(580),Oc=a.n(Ec),wc=a(582),jc=a.n(wc),kc=a(581),Cc=a.n(kc),Sc=Object(U.a)("div")({padding:24,"&.emptyState":{textAlign:"center",backgroundColor:u.a[800],minHeight:"71vh",padding:64,"& .bigText":{textAlign:"left",fontSize:48,color:"#fff",fontWeight:"bold",marginBottom:48}}}),Ic=Object(U.a)(A.a)({padding:10,width:200,height:150,boxShadow:"0px 3px 5px rgba(0,0,0,0.3)",margin:12,"& .bigIcon":{marginTop:16,width:64,height:64},transition:"transform 100ms","&:hover":{backgroundColor:"#fff",transform:"scale(1.04,1.04)"},backgroundColor:u.a[100],"&.selected":{backgroundColor:"#fff"}}),Tc=function(e){var t=e.onChange,a=e.currentInterfaceType;return o.a.createElement(Sc,{className:"emptyState"},o.a.createElement("div",{className:"bigText"},"Choose an Interface:"),Da.filter((function(e){return"Empty"!==e.name})).map((function(e){return o.a.createElement(Ic,{key:e.name,className:a===e.dataset.interface.type?"selected":"",disabled:a===e.dataset.interface.type,onClick:function(){return t(e.dataset.interface)}},o.a.createElement("div",null,o.a.createElement("div",null,e.name),o.a.createElement("div",null,o.a.createElement(e.Icon,{className:"bigIcon"}))))})))},_c=a(387),Ac=a(239),Nc=a(555),Dc=a(556),Lc=a(557),Pc=a(558),Uc=a(559);_c.a.use(Uc.a).use(Ac.e).init({fallbackLng:"en",debug:!0,interpolation:{escapeValue:!1},resources:{fr:{translation:Dc},en:{translation:Nc},cn:{translation:Lc},pt:{translation:Pc}}});_c.a;var Rc=a(134),Bc=function(e,t){var a=Object(n.useMemo)((function(){return void 0!==e}),[]);Object(n.useDebugValue)(a?"Clobbered":"Not Clobbered");var o=Object(n.useState)(t),r=Object(h.a)(o,2),i=r[0],l=r[1];return a?[e,void 0]:[i,l]},Fc=function(e){var t=Bc(e.sampleIndex,0),a=Object(h.a)(t,2),n=a[0],r=a[1],i=e.samples[n].annotation;!e.interface.labels&&e.interface.availableLabels&&(e.interface.labels=e.interface.availableLabels);var l=i?"string"===typeof i?[i]:i:void 0;if(!e.interface.labels)throw new Error("Labels not defined. Try defining some labels in Setup");var c=e.interface.labels.map((function(e){return"string"===typeof e?{id:e,description:e,displayName:e}:e})).map((function(e){return e.displayName?e:Object(p.a)(Object(p.a)({},e),{},{displayName:e.id})}));return o.a.createElement(Rc.a,{key:n,type:"label-document",labels:c,multipleLabels:e.interface.multiple,document:e.samples[n].document,initialLabels:l,hotkeysEnabled:!e.disableHotkeys,onPrev:function(t){e.onSaveTaskOutputItem(n,t),r?r(n-1):e.onExit("go-to-previous")},onNext:function(t){e.onSaveTaskOutputItem(n,t),r?r(n+1):e.onExit("go-to-next")},onFinish:function(t){e.onSaveTaskOutputItem(n,t),e.onExit()}})},Mc=function(e){var t,a=[],n=0,o=Object(H.a)(e||[]);try{for(o.s();!(t=o.n()).done;){var r=t.value;r.label&&a.push({text:r.text,label:r.label,start:n,end:n+r.text.length}),n+=r.text.length}}catch(Bd){o.e(Bd)}finally{o.f()}return a},zc=function(e){var t,a=e.sequence,n=e.relationships,o=new Set((n||[]).flatMap((function(e){return[e.from,e.to]}))),r=[],i=0,l=Object(H.a)(a||[]);try{for(l.s();!(t=l.n()).done;){var c=t.value;(c.label||c.textId&&o.has(c.textId))&&r.push({text:c.text,textId:c.textId,label:c.label,start:i,end:i+c.text.length-1}),i+=c.text.length}}catch(Bd){l.e(Bd)}finally{l.f()}return{entities:r,relations:n}},qc=function(e,t){if(t){var a=[];(t=Object(z.a)(t)).sort((function(e,t){return e.start-t.start}));for(var n=0,o=0;o<e.length;o++)(t[n]||{}).start===o?(a.push({text:t[n].text,label:t[n].label,textId:t[n].textId||Math.random().toString(36).slice(-6)}),o+=t[n].text.length-1,a.push({text:""}),n+=1):0===a.length||a[a.length-1].label?a.push({text:e[o],textId:Math.random().toString(36).slice(-6)}):a[a.length-1].text+=e[o];if(a.map((function(e){return e.text})).join("")!==e)throw new Error("Combining annotation entities with document didn't match document.\n\n"+a.map((function(e){return e.text})).join("")+"\n\nvs\n\n"+e);return a.filter((function(e){return e.text.length>0}))}},Hc=function(e){var t=Bc(e.sampleIndex,0),a=Object(h.a)(t,2),n=a[0],r=a[1],i=e.samples[n].annotation?qc(e.samples[n].document,e.samples[n].annotation.entities):void 0;if(!e.interface.labels&&!e.interface.availableLabels)throw new Error("Labels not defined. Try adding some labels in setup.");return o.a.createElement(Rc.a,{key:n,titleContent:o.a.createElement(be.a,{paddingLeft:4},"Sample ",n),type:"label-sequence",document:e.samples[n].document,labels:e.interface.labels||e.interface.availableLabels,initialSequence:i,hotkeysEnabled:!e.disableHotkeys,onPrev:function(t){e.onSaveTaskOutputItem(n,{entities:Mc(t)}),r?r(n-1):e.onExit("go-to-previous")},onNext:function(t){e.onSaveTaskOutputItem(n,{entities:Mc(t)}),r?r(n+1):e.onExit("go-to-next")},onFinish:function(t){e.onSaveTaskOutputItem(n,{entities:Mc(t)}),e.onExit()}})},Wc=function(e){var t;console.log(e);var a=Bc(e.sampleIndex,0),n=Object(h.a)(a,2),r=n[0],i=n[1],l=e.samples[r].annotation?qc(e.samples[r].document,e.samples[r].annotation.entities):void 0,c=(null===(t=e.samples[r].annotation)||void 0===t?void 0:t.relations)||[];if(!e.interface.relationLabels)throw new Error("Relation labels not defined. Try adding some labels in setup.");return console.log({initialSequence:l,initialRelations:c}),o.a.createElement(Rc.a,{key:r,titleContent:o.a.createElement(be.a,{paddingLeft:4},"Sample ",r),type:"label-relationships",document:e.samples[r].document,entityLabels:e.interface.entityLabels,relationshipLabels:e.interface.relationLabels,initialSequence:l,initialRelationships:c,hotkeysEnabled:!e.disableHotkeys,onPrev:function(t){e.onSaveTaskOutputItem(r,zc(t)),i?i(r-1):e.onExit("go-to-previous")},onNext:function(t){e.onSaveTaskOutputItem(r,zc(t)),i?i(r+1):e.onExit("go-to-next")},onFinish:function(t){e.onSaveTaskOutputItem(r,zc(t)),e.onExit()}})},Vc=a(314);function Jc(){var e,t,a=(e=0,t=360,Math.floor(Math.random()*(t-e+1))+e);return"hsl(".concat(a.toString(),",").concat(100..toString(),"%,").concat(50..toString(),"%)")}var Gc=function(){return Math.random().toString().split(".")[1]},Kc=function(e){switch(e.regionType){case"bounding-box":return{id:e.id||Gc(),cls:e.classification,tags:e.labels,color:e.color||Jc(),type:"box",x:e.centerX-e.width/2,y:e.centerY-e.height/2,w:e.width,h:e.height};case"point":return{id:e.id||Gc(),type:"point",tags:e.labels,cls:e.classification,color:e.color||Jc(),x:e.x,y:e.y};case"polygon":return{id:e.id||Gc(),type:"polygon",tags:e.labels,cls:e.classification,color:e.color||Jc(),open:!1,points:e.points.map((function(e){return[e.x,e.y]}))};case"line":case"pixel-mask":throw new Error('Unsupported region "'.concat(JSON.stringify(e),'"'));default:return null}},Xc=function(e){switch(e.type){case"point":return{regionType:"point",id:e.id,x:e.x,y:e.y,classification:e.cls,labels:e.tags,color:e.color};case"box":return{regionType:"bounding-box",id:e.id,centerX:e.x+e.w/2,centerY:e.y+e.h/2,width:e.w,height:e.h,classification:e.cls,labels:e.tags,color:e.color};case"polygon":return{regionType:"polygon",id:e.id,classification:e.cls,labels:e.tags,color:e.color,points:e.points.map((function(e){var t=Object(h.a)(e,2);return{x:t[0],y:t[1]}}))};default:throw new Error('Unsupported riaRegion "'.concat(JSON.stringify(e),'"'))}},Yc=function(e){var t=e.title,a=e.taskDatum,n=e.index,o=e.output;a=a||{};var r=o?Array.isArray(o)?o.map(Kc):[Kc(o)]:void 0;if(a.imageUrl)return{src:a.imageUrl,name:t||"Sample ".concat(n),regions:r};if(a.videoUrl&&void 0!==a.videoFrameAt)return{src:a.videoUrl,frameTime:a.videoFrameAt,name:t||"Sample ".concat(n),regions:r};throw new Error('Task Datum not supported "'.concat(JSON.stringify(a),'"'))},Zc=function(e){var t={};for(var a in e)t[a]={regions:e[a].regions.map(Kc)};return t},Qc={"bounding-box":"create-box",polygon:["create-polygon","create-expanding-line"],point:"create-point","allowed-area":"modify-allowed-area"},$c=Object(U.a)("div")({"& .fullscreen":{height:"100%"}}),es={},ts=[],as=function(e){var t=e.sampleIndex,a=e.interface,r=(e.sampleIndex,e.samples),i=void 0===r?ts:r,l=e.containerProps,c=void 0===l?es:l,s=e.onSaveTaskOutputItem,u=e.onModifySample;a.availableLabels&&!a.labels&&(a.labels=a.availableLabels);var d=Bc(t,0),m=Object(h.a)(d,2),f=m[0],g=m[1],b=Object(n.useState)(!0),v=Object(h.a)(b,2),y=v[0],x=v[1],E=Object(n.useState)("select"),O=Object(h.a)(E,2),w=O[0],j=O[1],k=a.regionTypesAllowed,C=void 0===k?["bounding-box"]:k,S=!Boolean(a.multipleRegionLabels),I="image_pixel_segmentation"===a.type,T=Object(At.a)((function(e){var t=e.images[0],a=A?(t.regions||[]).map(Xc):Yc((t.regions||[])[0]);if(u){var n=e.allowedArea||{},o=n.x,r=n.y,i=n.w,l=n.h;u(f,Object(p.a)({annotation:a},e.allowedArea?{allowedArea:{x:o,y:r,width:i,height:l}}:{}))}else s(f,a)})),_=Object(n.useMemo)((function(){return I?{regionClsList:["background"].concat(a.labels||[]).map((function(e){return"string"===typeof e?e:e.id}))}:S?{regionClsList:(a.labels||[]).map((function(e){return"string"===typeof e?e:e.id}))}:{regionTagList:(a.labels||[]).map((function(e){return"string"===typeof e?e:e.id}))}}),[S,a.labels,I]),A=a.multipleRegions||void 0===a.multipleRegions,N=Object(At.a)((function(e,t){T(e),x(e.showTags),j(e.selectedTool),c.onExit&&c.onExit(t)})),D=Object(At.a)((function(e){f+1>=i.length?N(e,"go-to-next"):(T(e),g?g(f+1):N(e,"go-to-next"))})),L=Object(At.a)((function(e){f-1<0?N(e,"go-to-previous"):(T(e),g?g(f-1):N(e,"go-to-previous"))})),P=Object(n.useMemo)((function(){return[Yc({title:c.datasetName||"Sample ".concat(f),taskDatum:i[f],output:i[f].annotation,selectedIndex:f})]}),[f,c.datasetName]),U="image_pixel_segmentation"===a.type?void 0:Object(n.useMemo)((function(){return["select"].concat(C.flatMap((function(e){return Qc[e]})).filter(Boolean))}),[C]),R=Object(n.useMemo)((function(){if(a.allowedArea||i[f].allowedArea){var e=i[f].allowedArea||a.allowedArea;return{x:e.x,y:e.y,w:e.width,h:e.height}}}),[a.allowedArea,i[f].allowedArea]);return o.a.createElement($c,{style:{height:c.height||"calc(100% - 70px)",minHeight:600,width:"100%"}},o.a.createElement(Vc.a,Object.assign({key:t,fullImageSegmentationMode:I,selectedImage:0,taskDescription:a.description,showTags:y},_,{autoSegmentationOptions:a.autoSegmentationEngine,allowedArea:R,onNextImage:D,onPrevImage:L,enabledTools:U,selectedTool:w,images:P,onExit:N})))},ns=a(437),os=a(436),rs=a(576),is=a.n(rs),ls=a(191),cs=Object(U.a)("div")({fontSize:24,fontWeight:"bold"}),ss=function(e){var t=e.children,a=e.onNext,r=e.onPrev,i=e.currentSampleIndex,l=void 0===i?0:i,c=e.numberOfSamples,s=void 0===c?1:c,u=e.globalSampleIndex,d=void 0===u?1:u,m=e.titleContent,p=e.onClickHeaderItem,f=Object(n.useMemo)((function(){return[(l>0||r)&&{name:"Prev",onClick:r,disabled:0===l},(s>l+1||a)&&{name:"Next",onClick:a,disabled:l>=s-1},{name:"Save"}].filter(Boolean)}),[l,s,a,r]);return o.a.createElement(ls.a,{headerLeftSide:void 0===m?o.a.createElement(be.a,{paddingLeft:2},o.a.createElement(cs,null,"Sample"," ",s>1?"".concat(l," / ").concat(s):"".concat(d))):m,onClickHeaderItem:p,headerItems:f,iconSidebarItems:[],rightSidebarItems:[]},o.a.createElement(be.a,{padding:2,style:{width:"100%"}},t))},us=[u.a[600],Ye.a[600],M.a[600],Ct.a[600],It.a[600],ns.a[600],os.a[600],_t.a[600],u.a[600],Tt.a[600],St.a[600]],ds="abcdefghijklmnopqrstuvwxyz1234567890".split(""),ms=function(e){var t=e.id.split("").reduce((function(e,t,a){return e+(ds.indexOf(t)+1)}),0);return us[t%us.length]},ps=Object(U.a)("div")({maxWidth:"100vw",display:"flex",flexDirection:"column"}),fs=Object(U.a)("div")({position:"relative",display:"flex",flexGrow:1}),gs=Object(U.a)("img")({display:"inline-block",position:"absolute",left:0,top:0,width:"100%",height:"100%",objectFit:"contain"}),bs=Object(U.a)("div")({paddingLeft:50,paddingRight:50,marginTop:8,textAlign:"center",flexShrink:0}),hs=Object(U.a)(A.a)({margin:8,color:"#fff",fontSize:18,paddingRight:16,transition:"transform 50ms ease"}),vs={},ys=[],xs=function(e){var t=e.sampleIndex,a=e.interface,r=e.samples,i=void 0===r?ys:r,l=e.containerProps,c=void 0===l?vs:l,s=e.onSaveTaskOutputItem;a.availableLabels&&!a.labels&&(a.labels=a.availableLabels);var u=c.disableHotkeys;if(!a.labels)throw new Error("No labels defined. Add some labels in Setup to continue.");var d=Bc(t,0),m=Object(h.a)(d,2),p=m[0],f=m[1],g=Object(n.useState)(null),b=Object(h.a)(g,2),v=b[0],y=b[1],x=Object(n.useState)(ys),E=Object(h.a)(x,2),O=E[0],w=E[1],j=Object(n.useMemo)((function(){return a.labels.map((function(e){return"string"===typeof e?{id:e,description:e}:e}))}),[a.labels]),k=Object(At.a)((function(){c.onExit&&c.onExit()})),C=Object(At.a)((function(){c.onExit&&c.onExit("go-to-next")})),S=Object(At.a)((function(e){s(p,e||O),f&&p!==i.length-1?f(p+1):c.onExit&&c.onExit("go-to-next")})),I=Object(At.a)((function(){f&&p>0?f(p-1):c.onExit&&c.onExit("go-to-previous")}));Object(n.useEffect)((function(){var e=setTimeout((function(){y(null)}),100);return function(){return clearTimeout(e)}}),[v]);var T=Object(At.a)((function(e){var t;y(e),t=(O||[]).includes(e.id)?is()(O,e.id):a.allowMultiple?O.concat([e.id]):e.id,w(t),!a.allowMultiple&&t.length>0&&S(t)}));Object(n.useEffect)((function(){var e=i[p].annotation;e||(e=[]),"string"===typeof e&&(e=[e]),w(e)}),[p,t,i]);var _=Object(n.useMemo)((function(){if(u)return[{},{}];var e,t={" ":S,backspace:I,enter:k,rightarrow:S,leftarrow:I},a={},n=Object(H.a)(j);try{var o=function(){var n=e.value,o=n.id.split("").filter((function(e){return ds.includes(e)})).find((function(e){return!t[e.toLowerCase()]}));if(!o)return"continue";t[o]=function(){return T(n)},a[n.id]=o};for(n.s();!(e=n.n()).done;)o()}catch(Bd){n.e(Bd)}finally{n.f()}return[t,a]}),[j,T,k,S,I,u]),A=Object(h.a)(_,2),N=A[0],L=A[1];return Object(n.useEffect)((function(){if(!u){var e=function(e){var t=e.key.toLowerCase();N[t]&&N[t]()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}}),[N,u]),o.a.createElement(ss,{onNext:C,onPrev:I,onClickHeaderItem:k,numberOfSamples:i.length,currentSampleIndex:p,globalSampleIndex:t},o.a.createElement(ps,{style:{height:c.height||"calc(100% - 70px)",minHeight:600}},o.a.createElement(fs,null,o.a.createElement(gs,{src:i[p].imageUrl})),o.a.createElement(bs,null,j.map((function(e){return o.a.createElement(hs,{key:e.id,onClick:function(){return T(e)},style:{backgroundColor:ms(e),transform:v===e?"scale(1.1,1.1)":void 0}},o.a.createElement(D.a,{style:{color:"#fff"},checked:"object"===typeof O?O.includes(e.id):O===e.id}),e.id,L[e.id]?" (".concat(L[e.id],")"):"")})))))},Es={"bounding-box":"create-box",polygon:"create-polygon","full-segmentation":"create-polygon",point:"create-point"},Os={},ws=[],js=function(e){var t=e.interface,a=e.sampleIndex,r=e.samples,i=void 0===r?ws:r,l=e.containerProps,c=void 0===l?Os:l,s=e.onSaveTaskOutputItem,u=t.regionTypesAllowed,d=void 0===u?["bounding-box"]:u,m=!Boolean(t.multipleRegionLabels),p=Object(n.useMemo)((function(){return m?{regionClsList:(t.labels||[]).map((function(e){return"string"===typeof e?e:e.id}))}:{regionTagList:(t.labels||[]).map((function(e){return"string"===typeof e?e:e.id}))}}),[m,t.labels]),f=function(e){var t={};for(var a in e.keyframes)t[a]={regions:e.keyframes[a].regions.map(Xc)};return t},g=Object(At.a)((function(e){var t={keyframes:f(e)};s(a,t),c.onExit&&c.onExit()})),b=Object(At.a)((function(e){var t={keyframes:f(e)};s(a,t),c.onExit&&c.onExit("go-to-next")})),h=Object(At.a)((function(e){var t={keyframes:f(e)};s(a,t),c.onExit&&c.onExit("go-to-previous")})),v=Object(n.useMemo)((function(){return["select"].concat(d.map((function(e){return Es[e]})).filter(Boolean))}),[d]);if(0===i.length)throw new Error("No sample data provided selected");if(!i[a].videoUrl)throw new Error("Sample must have videoUrl");var y=i[a].annotation||{};return o.a.createElement("div",{style:{height:c.height||"calc(100vh - 70px)",width:"100%",minHeight:600}},o.a.createElement(Vc.a,Object.assign({key:a,taskDescription:t.description},p,{enabledTools:v,keyframes:Zc((null===y||void 0===y?void 0:y.keyframes)||{}),onNextImage:b,onPrevImage:h,videoName:i[a].customId||"",videoTime:0,videoSrc:i[a].videoUrl,onExit:g})))},ks=function(e){var t=Bc(e.sampleIndex,0),a=Object(h.a)(t,2),n=a[0],r=a[1],i=e.samples[n];return o.a.createElement(Rc.a,{key:n,titleContent:o.a.createElement(be.a,{paddingLeft:4},"Sample ",n),type:"transcribe",audio:i.audioUrl,phraseBank:e.phraseBank,initialTranscriptionText:i.annotation||"",onPrev:function(t){e.onSaveTaskOutputItem(n,t),r?r(n-1):e.onExit("go-to-previous")},onNext:function(t){e.onSaveTaskOutputItem(n,t),r?r(n+1):e.onExit("go-to-next")},onFinish:function(t){e.onSaveTaskOutputItem(n,t),e.onExit&&e.onExit()}})};function Cs(e){var t=e.description,a=e.imageUrl,n=e.url,o=e.pdfUrl;return t||(a?"![".concat(a,"](").concat(a,")"):o?"[PDF Link](".concat(o,")")+'<object data="'.concat(o.replace("http://","https://"),'" type="application/pdf" width="100%" height="600px"></object>'):n?"Use this [Link](".concat(n,")"):null)}var Ss=a(92),Is=a.n(Ss),Ts=a(577),_s=a.n(Ts),As=a(266),Ns=a.n(As),Ds=Object(y.a)({linkButtonContainer:{marginLeft:8,marginRight:8},linkButton:{textTransform:"none",cursor:"pointer",textDecoration:"underline"}}),Ls=function(e){var t=e.onClick,a=e.text,n=Ds();return o.a.createElement("span",{className:n.linkButtonContainer},"(",o.a.createElement("span",{onClick:t,className:n.linkButton},a),")")},Ps=Object(y.a)((function(e){return{footer:{backgroundColor:"#fff",marginTop:40},footerContent:{alignItems:"center",padding:20,display:"flex",justifyContent:"space-between"},footerBorder:{borderTop:"1px solid #ccc",marginLeft:20,marginRight:20},footerCount:{display:"inline-flex"},allSamplesButton:{color:"#fff",border:"1px solid rgba(255,255,255,0.5)",marginRight:10,paddingLeft:8},sampleIcon:{marginRight:8},menuButton:{marginRight:8,color:"#fff"},grow:{flexGrow:1},buttons:{"& > *":{margin:4}},description:{padding:10,"& img":{maxWidth:"calc(100% - 16px)",marginLeft:8,marginRight:8,maxHeight:600}},sectionHeader:{fontWeight:700,fontSize:12,padding:10,paddingTop:16,textTransform:"uppercase",color:Ie.a[600]},content:{padding:10}}})),Us=function(e){var t=e.hideDescription,a=void 0===t?'"true"'===window.localStorage.getItem("hideDescription"):t,r=(e.lastSampleExitText,e.onExit),i=e.requireCompleteToPressNext,l=void 0!==i&&i,c=(e.samples,e.minContentHeight),s=e.currentSampleIndex,d=e.totalSamples,m=e.onChangeSample,p=e.taskOutput,f=void 0===p?[]:p,g=e.description,b=e.children,v=Ps(),y=Object(n.useState)(a),E=Object(h.a)(y,2),O=E[0],j=E[1],k=function(e){window.localStorage.setItem("hideDescription",'"'.concat(e?"true":"false",'"')),j(e)},C=Object(n.useState)(!1),S=Object(h.a)(C,2),I=S[0],T=S[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(w.a,{container:!0},!O&&o.a.createElement(w.a,{item:!0,xs:12,sm:12,md:6},o.a.createElement("div",{className:v.sectionHeader},"Description",o.a.createElement(Ls,{onClick:function(){return k(!0)},text:"hide"})),o.a.createElement("div",{className:v.description},o.a.createElement(pt.a,{escapeHtml:!1,source:g}))),o.a.createElement(w.a,{item:!0,xs:12,sm:12,md:O?12:6},o.a.createElement("div",{className:v.sectionHeader},"Sample ",s+1,"/",d,O&&o.a.createElement(Ls,{onClick:function(){return k(!1)},text:"show description"}),d>1&&o.a.createElement(Ls,{onClick:function(){return T(!0)},text:"view all"}),r&&o.a.createElement(Ls,{onClick:function(){return r()},text:"exit without saving"})),o.a.createElement("div",{style:{minHeight:c},className:v.content},b)),d>1&&o.a.createElement(w.a,{item:!0,xs:12},o.a.createElement("div",{className:v.footer},o.a.createElement("div",{className:v.footerBorder}),o.a.createElement("div",{className:v.footerContent},o.a.createElement(A.a,{onClick:function(){return m((s-1+d)%d)}},o.a.createElement(mr.a,null)," Prev Sample"),o.a.createElement(A.a,{onClick:function(){return T(!0)},className:v.footerCount},s+1," / ",d),o.a.createElement(A.a,{disabled:l&&!f[s],onClick:function(){return m((s+1)%d)}},l&&!f[s]?"Save to Continue":"Next Sample",o.a.createElement(Is.a,null)))))),o.a.createElement(x.a,{open:I,anchor:"left",onClose:function(){return T(!1)}},o.a.createElement(ea.a,{style:{minWidth:300}},o.a.createElement(oa.a,null,"Samples"),Nn()(0,d).map((function(e){return o.a.createElement(ta.a,{style:{backgroundColor:e===s?Ie.a[200]:void 0},button:!0,onClick:function(){return m(e)}},o.a.createElement(na.a,{style:{color:e===s?u.a[500]:void 0}},f[e]?o.a.createElement(Ns.a,null):o.a.createElement(_s.a,null)),o.a.createElement(aa.a,null,"Sample ",e+1))})))))},Rs=function(e){var t=Bc(e.sampleIndex,0),a=Object(h.a)(t,2),n=a[0],r=a[1],i=e.samples[n].surveyjs||e.interface.surveyjs;if(!i)throw new Error("No survey/form created. Try adding some inputs in Setup");return o.a.createElement(Us,Object.assign({},e.containerProps,{currentSampleIndex:n,totalSamples:e.samples.length,taskOutput:e.samples.map((function(e){return e.annotation})),description:Cs(e.samples[n])||e.interface.description,onChangeSample:function(e){return r(e)}}),o.a.createElement(Qa.a,{key:(e.sampleIndex||0)+n,variant:"flat",form:i,defaultAnswers:e.samples[n].annotation||void 0,completeText:"Save & Next",onFinish:function(t){e.onSaveTaskOutputItem(n,t),e.containerProps.onExit&&e.containerProps.onExit("go-to-next")}}))},Bs=Object(y.a)({root:{padding:50,textAlign:"center"},title:{margin:50},explain:{}}),Fs=function(e){var t=e.title,a=e.description,n=e.children,r=Bs();return o.a.createElement("div",{className:r.root},o.a.createElement(T.a,{variant:"h4",component:"div",className:r.title},t),o.a.createElement(T.a,{variant:"h6",component:"div",className:r.explain},a||n))},Ms=function(){return o.a.createElement(Fs,{title:"No Samples to Show"},"Make sure that ",o.a.createElement("code",null,"samples")," is defined and not empty.",o.a.createElement("br",null),o.a.createElement("br",null),"Need help setting up? ")},zs=a(578),qs=a.n(zs),Hs=a(310),Ws=a.n(Hs),Vs=function(e){var t=e.type,a=Object(Cn.a)(e,["type"]);switch(t){case"image_label":case"image_segmentation":return o.a.createElement(qs.a,a);case"audio_transcription":return o.a.createElement(xa.a,a);case"data_entry":return o.a.createElement(va.a,a);case"text_entity_recognition":return o.a.createElement(ba.a,a);case"3d_bounding_box":return o.a.createElement(ja.a,a);default:return o.a.createElement(Ws.a,a)}},Js=Object(U.a)("div")({fontSize:18,fontWeight:"bold",color:Ie.a[700],borderBottom:"1px solid ".concat(Ie.a[300]),paddingBottom:8,marginBottom:8,paddingLeft:8}),Gs=Object(U.a)(A.a)({display:"flex",textAlign:"left",justifyContent:"flex-start",marginTop:8}),Ks=function(e){var t=Bc(e.sampleIndex,0),a=Object(h.a)(t,2),r=a[0],i=a[1],l=e.interface.fields,c=Object(n.useState)(),s=Object(h.a)(c,2),u=s[0],d=s[1],m=Object(R.a)().t;if(!l)throw new Error("No fields defined. Try adding a field in Setup");var f=e.samples[r];return u?o.a.createElement(Xs,{dataset:{interface:u.interface,samples:[Object(p.a)(Object(p.a)({},f),{},{annotation:(f.annotation||{})[u.fieldName]})]},onExit:function(){return d(null)},onSaveTaskOutputItem:function(t,a){e.onSaveTaskOutputItem(r,Object(p.a)(Object(p.a)({},f.annotation),{},Object(I.a)({},u.fieldName,a))),d(null)}}):o.a.createElement(Us,Object.assign({},e.containerProps,{currentSampleIndex:r,totalSamples:e.samples.length,taskOutput:e.samples.map((function(e){return e.annotation})),description:Cs(f)||e.interface.description,onChangeSample:function(t){e.containerProps.onExit?e.containerProps.onExit(t>r?"go-to-next":"go-to-previous"):i(t)}}),o.a.createElement(Js,null,"Fields"),l.map((function(e,t){return o.a.createElement(Gs,{key:e.fieldName,onClick:function(){d(Object(p.a)(Object(p.a)({},e),{},{index:t}))},fullWidth:!0,variant:"outlined"},o.a.createElement(Vs,{style:{color:Ie.a[500],marginRight:16},type:e.interface.type}),e.fieldName,o.a.createElement(be.a,{flexGrow:1}),o.a.createElement(D.a,{checked:Boolean((f.annotation||{})[e.fieldName])}),o.a.createElement(Is.a,null))})),o.a.createElement(Gs,{onClick:function(){return e.containerProps.onExit("go-to-next")},fullWidth:!0,variant:"outlined"},o.a.createElement(Is.a,{style:{color:Ie.a[500],marginRight:16}}),m("next"),o.a.createElement(be.a,{flexGrow:1}),o.a.createElement(be.a,{height:"42px"}),o.a.createElement(Is.a,null)))},Xs=function(e){var t=e.dataset,a=e.onExit,r=e.hideHeader,i=e.hideDescription,l=e.disableHotkeys,c=void 0!==l&&l,s=e.datasetName,u=e.requireCompleteToPressNext,d=e.onSaveTaskOutputItem,m=e.onModifySample,p=e.sampleIndex,f=e.height,g=e.onClickSetup,b=Object(R.a)().t,v=Bc(p,0),y=Object(h.a)(v,2),x=y[0],E=y[1],O=Object(At.a)((function(){if(void 0===p&&("go-to-next"===(arguments.length<=0?void 0:arguments[0])&&x!==t.samples.length-1?E(x+1):"go-to-previous"===(arguments.length<=0?void 0:arguments[0])&&0!==x&&E(x-1)),a)return a.apply(void 0,arguments)})),w=d;m&&!w&&(w=function(e,t){return m(e,{annotation:t})});var j=Object(n.useMemo)((function(){return{hideHeader:r,hideDescription:i,datasetName:s,requireCompleteToPressNext:u,onExit:O,height:f,disableHotkeys:c}}),[r,i,u,s,f,O,c]);if(!t||!t.interface.type)return o.a.createElement(Fs,{title:"Set up your project to begin labeling",description:o.a.createElement("p",null,b("universal-data-viewer-interface-warning"),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(A.a,{color:"primary",variant:"contained",onClick:g},b("setup-project")))});if(!t.samples||0===t.samples.length)return o.a.createElement(Ms,null);switch(t.interface.type){case"data_entry":return o.a.createElement(Rs,Object.assign({containerProps:j,sampleIndex:x},t,{onSaveTaskOutputItem:w,onExit:O}));case"text_classification":return o.a.createElement(Fc,Object.assign({containerProps:j,sampleIndex:x},t,{onSaveTaskOutputItem:w,onExit:O}));case"text_entity_recognition":return o.a.createElement(Hc,Object.assign({containerProps:j,sampleIndex:x},t,{onSaveTaskOutputItem:w,onExit:O}));case"text_entity_relations":return o.a.createElement(Wc,Object.assign({containerProps:j,sampleIndex:x},t,{onSaveTaskOutputItem:w,onExit:O}));case"image_segmentation":case"image_pixel_segmentation":return o.a.createElement(as,Object.assign({containerProps:j,sampleIndex:x},t,{onExit:O,onSaveTaskOutputItem:w,onModifySample:m}));case"image_classification":return o.a.createElement(xs,Object.assign({containerProps:j,sampleIndex:x},t,{onExit:O,onSaveTaskOutputItem:w}));case"video_segmentation":return o.a.createElement(js,Object.assign({containerProps:j,sampleIndex:x},t,{onExit:O,onSaveTaskOutputItem:w}));case"composite":return o.a.createElement(Ks,Object.assign({containerProps:j,sampleIndex:x},t,{dataset:t,onSaveTaskOutputItem:w,onExit:O}));case"audio_transcription":return o.a.createElement(ks,Object.assign({containerProps:j,sampleIndex:x},t,{onSaveTaskOutputItem:w,onExit:O}));default:return'"'.concat(t.interface.type,'" not supported')}},Ys=a(312),Zs=a.n(Ys),Qs=Object(y.a)({root:{position:"fixed",display:"flex",flexDirection:"column",bottom:0,left:0,right:0,alignItems:"flex-start",pointerEvents:"none"},msgBox:{display:"flex",backgroundColor:u.a[700],fontSize:12,color:"#fff",padding:4,marginBottom:4,boxShadow:"0px 3px 8px rgba(0,0,0,0.5)","&.warning":{backgroundColor:Ze.a[700]},"&.error":{backgroundColor:M.a[700]}}}),$s=Object(n.createContext)({}),eu=function(){return{addToast:Object(n.useContext)($s).addToast}},tu=function(e){var t=e.children,a=Object(n.useReducer)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;if("add"===t.type){var a="info"===t.messageType?2e3:(t.messageType,5e3);return e.concat([{id:Math.random().toString().split(".")[1],message:t.message,type:t.messageType,life:a,fullLife:a}])}return"tick"===t.type?e.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{life:e.life-100})})).filter((function(e){return e.life>0})):e}),[]),r=Object(h.a)(a,2),i=r[0],l=r[1],c=Qs();Object(n.useEffect)((function(){if(0===i.length)return function(){};var e=setInterval((function(){l({type:"tick"})}),100);return function(){return clearInterval(e)}}),[i]);return o.a.createElement(o.a.Fragment,null,o.a.createElement($s.Provider,{value:{toasts:i,addToast:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";return l({type:"add",message:e,messageType:t})}}},t),o.a.createElement("div",{className:c.root},i.map((function(e){return o.a.createElement($a.a,{key:e.id,in:e.life<e.fullLife},o.a.createElement(en.a,{in:e.life>600},o.a.createElement("div",{className:Ln()(c.msgBox,e.type)},e.message)))}))))},au=function(e){var t=e.content,a=e.onSave,r=Object(n.useState)(""),i=Object(h.a)(r,2),l=i[0],c=i[1],s=eu().addToast;return Object(n.useEffect)((function(){t&&("string"===typeof t?c(t):"object"===typeof t&&c(JSON.stringify(t,null,"  ")))}),[t]),o.a.createElement(be.a,{position:"relative",width:"100%"},o.a.createElement(Zs.a,{theme:"github",mode:"javascript",width:"100%",value:l,editorProps:{$blockScrolling:1/0},onChange:function(e){return c(e)}}),o.a.createElement(be.a,{position:"absolute",right:16,top:16},o.a.createElement(A.a,{variant:"contained",color:"primary",onClick:function(){try{a(JSON.parse(l))}catch(e){s("Invalid JSON","error")}}},"Save")))},nu=function(){},ou=function(e){var t,a,r,i=e.dataset,l=e.onChange,c=e.onClearLabelData,s=Object(n.useState)(i.interface.type?"configure":"datatype"),u=Object(h.a)(s,2),d=u[0],m=u[1];return o.a.createElement("div",null,o.a.createElement(be.a,{padding:"16px"},o.a.createElement(fe.a,{value:d,onChange:function(e,t){return m(t)}},o.a.createElement(ge.a,{icon:o.a.createElement(Oa.a,null),label:"Data Type",value:"datatype"}),o.a.createElement(ge.a,{icon:o.a.createElement(xc.a,null),label:"Configure",value:"configure"}),o.a.createElement(ge.a,{icon:o.a.createElement(Oc.a,null),label:"Preview",value:"preview"}),o.a.createElement(ge.a,{icon:o.a.createElement(Cc.a,null),label:"JSON",value:"json"}),o.a.createElement(ge.a,{icon:o.a.createElement(jc.a,null),label:"Advanced",value:"advanced"}))),"datatype"===d&&o.a.createElement(Tc,{currentInterfaceType:null===(t=i.interface)||void 0===t?void 0:t.type,onChange:function(e){l(Object(yo.setIn)(i,["interface"],e)),m("configure")}}),"configure"===d&&o.a.createElement(mc,{dataset:i,onChange:function(e){return l(Object(yo.setIn)(i,["interface"],e))},isNotNested:!0}),"preview"===d&&o.a.createElement(Xs,{height:600,onExit:nu,onSaveTaskOutputItem:nu,dataset:Object(p.a)(Object(p.a)({},i),{},{samples:(null===i||void 0===i||null===(a=i.samples)||void 0===a?void 0:a.length)?[i.samples[0]]:[Na[null===(r=i.interface)||void 0===r?void 0:r.type].dataset.samples[0]]})}),"advanced"===d&&o.a.createElement(vc,{onClearLabelData:c}),"json"===d&&o.a.createElement(au,{content:i,onSave:function(e){l(e)}}))},ru=function(e){var t=e.open,a=e.sampleIndex,r=e.sampleInput,i=e.onChange,l=e.onClose,c=Object(n.useState)(),s=Object(h.a)(c,2),u=s[0],d=s[1],m=Object(n.useState)(),p=Object(h.a)(m,2),f=p[0],g=p[1];return Object(n.useEffect)((function(){var e=JSON.stringify(r,null,"  ");e!==u&&(d(e),g(null))}),[a,r,u]),o.a.createElement(ht,{open:t,onClose:l,title:"samples[".concat(a,"]")},o.a.createElement(Zs.a,{theme:"github",mode:"javascript",width:"100%",value:u,editorProps:{$blockScrolling:1/0},onChange:function(e){d(e),g(null);try{i(JSON.parse(e))}catch(t){g(t.toString())}}}),o.a.createElement(be.a,{color:"red"},f))},iu=a(129),lu=a(185),cu=a(192),su=a(103),uu=a(593);su.e({dsn:"https://bc19fbac222243f08f0abaf6d66f2034@sentry.io/5182632",whitelistUrls:["https://universaldatatool.com","^file:?:"]});var du=uu,mu=function(e){Object(lu.a)(a,e);var t=Object(cu.a)(a);function a(e){var n;return Object($.a)(this,a),(n=t.call(this,e)).state={hasError:!1},n}return Object(iu.a)(a,[{key:"componentDidCatch",value:function(e,t){var a=this;du.withScope((function(n){n.setExtras(t);var o=du.captureException(e);a.setState({eventId:o})}))}},{key:"render",value:function(){return this.state.hasError?o.a.createElement(Fs,{title:"An error occurred loading the labeling interface",description:this.state.errorString}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return console.error("The following error occurred when loading a labeling interface:",e),{hasError:!0,errorString:e.toString()}}}]),a}(o.a.Component),pu=Object(U.a)("div")({}),fu=Object(U.a)("div")({display:"inline-flex",flexDirection:"column",margin:8}),gu=Object(U.a)("div")({fontSize:14,fontWeight:"bold",color:Ie.a[700]}),bu=Object(U.a)("div")({fontSize:32,marginTop:8}),hu=function(e){var t=e.stats;return o.a.createElement(pu,null,t.map((function(e){return o.a.createElement(fu,{key:e.name},o.a.createElement(gu,null,e.name),o.a.createElement(bu,null,e.value))})))},vu=a(385),yu=a.n(vu),xu=a(587),Eu=a.n(xu),Ou=a(586),wu=a.n(Ou),ju=a(584),ku=a.n(ju),Cu=Object(U.a)("div")({fontSize:18,color:Ie.a[800],padding:16,"& a":{color:u.a[600]}}),Su=Object(U.a)("div")({color:M.a[600]}),Iu=function(){var e=Z().setInConfig,t=Object(n.useState)(!1),a=Object(h.a)(t,2),r=a[0],i=a[1],l=Object(n.useState)(""),c=Object(h.a)(l,2),s=c[0],u=c[1],d=Object(n.useState)(""),m=Object(h.a)(d,2),p=m[0],f=m[1],v=Fe();return o.a.createElement(be.a,{paddingTop:8,textAlign:"center"},o.a.createElement(Cu,null,"To use Label Help, enter your API key. You can"," ",o.a.createElement("a",{href:"https://labelhelp.universaldatatool.com",onClick:function(){return v.capture("get_api_key_link_clicked")}},"get an API key here"),"."),p&&o.a.createElement(Su,null,p),o.a.createElement(be.a,{paddingTop:2,display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},o.a.createElement(_.a,{onChange:function(e){return u(e.target.value)},className:"label-help-api-key-text-field",variant:"outlined",label:"API Key"}),o.a.createElement(A.a,{style:{marginTop:16},color:"primary",disabled:r,variant:"outlined",onClick:Object(b.a)(g.a.mark((function t(){var a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f(null),i(!0),t.prev=2,t.next=5,fetch("https://labelhelp.universaldatatool.com/api/me",{headers:{apikey:s}});case 5:if(200===(a=t.sent).status){t.next=8;break}throw new Error(a.toString());case 8:t.next=15;break;case 10:return t.prev=10,t.t0=t.catch(2),f(t.t0.toString()),i(!1),t.abrupt("return");case 15:i(!1),e("labelhelp.apikey",s),v.capture("save_api_key_button_clicked");case 18:case"end":return t.stop()}}),t,null,[[2,10]])})))},r?o.a.createElement(o.a.Fragment,null,o.a.createElement(Le.a,{size:18,style:{marginRight:16}}),"Checking..."):o.a.createElement(o.a.Fragment,null,o.a.createElement(ku.a,{style:{marginRight:8}}),"Save"))))},Tu=Object(U.a)("div")({margin:16,padding:16,border:"1px solid #ccc",borderRadius:4,boxShadow:"0px 2px 2px rgba(0,0,0,0.1)"}),_u=function(){var e=Nu(),t=e.file,a=e.setFile;return Object(n.useMemo)((function(){return t&&t.content?{dataset:t.content,setDataset:function(e){a(Object(yo.setIn)(t,["content"],e))}}:null}),[t,a])||{}},Au=Object(n.createContext)({}),Nu=function(){return Object(n.useContext)(Au)},Du=Object(U.a)("div")({fontVariantNumeric:"tabular-nums"}),Lu=Object(U.a)("a")({color:u.a[500],textDecoration:"none"}),Pu=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),Uu=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:4,minimumFractionDigits:2}),Ru=["setup","running","completed"],Bu=function(){var e=Z(),t=e.fromConfig,a=e.setInConfig,r=Wu(),i=r.labelHelpEnabled,l=r.labelHelpError,c=r.loadMyCredits,s=r.variables,u=r.totalCost,d=r.formulaFunc,m=r.myCredits,f=Object(n.useState)(),v=Object(h.a)(f,2),y=v[0],x=v[1],E=_u(),O=E.dataset,w=E.setDataset,j=Object(n.useState)(O.labelHelp||{}),k=Object(h.a)(j,2),C=k[0],S=k[1],T=C.url||(O.labelHelp||{}).url,_=Fe();if(Object(n.useEffect)((function(){null!==m&&void 0!==m||c(O)}),[m,O,c]),Object(n.useEffect)((function(){function e(){return(e=Object(b.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://labelhelp.universaldatatool.com/api/job?custom_id=".concat(encodeURIComponent(T),"&api_key=").concat(t("labelhelp.apikey"))).then((function(e){return e.json()}));case 2:a=e.sent,console.log({response:a}),S(Object(p.a)(Object(p.a)(Object(p.a)({},O.labelHelp),a),{},{loaded:!0}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}T&&function(){e.apply(this,arguments)}()}),[T,O.labelHelp,t]),!i)return o.a.createElement(Du,null,"Label Help is Disabled.",l&&o.a.createElement("div",{style:{color:M.a[500]}},l));var N=T?1===C.progress?"completed":"running":"setup";return o.a.createElement(Du,null,o.a.createElement(br.a,{activeStep:Ru.indexOf(N)},["Setup","Running","Completed"].map((function(e){return o.a.createElement(hr.a,{key:e},o.a.createElement(vr.a,null,e))}))),y&&o.a.createElement(be.a,{color:M.a[600]},y),"setup"===N?o.a.createElement(be.a,null,o.a.createElement(Jr.a,null,o.a.createElement(Yr.a,null,o.a.createElement(Zr.a,null,o.a.createElement(Kr.a,null,"Item"),o.a.createElement(Kr.a,null,"Quantity"),o.a.createElement(Kr.a,null,"Unit Cost"),o.a.createElement(Kr.a,null,"Cost / Sample"),o.a.createElement(Kr.a,null,"Total"))),o.a.createElement(Gr.a,null,Object.keys(s).map((function(e){return o.a.createElement(Zr.a,null,o.a.createElement(Kr.a,{style:{textTransform:"capitalize"}},e.replace(/_/g," ")),o.a.createElement(Kr.a,null,s[e]),o.a.createElement(Kr.a,null,"sample_count"===e?"":Uu.format((u-d(Object(p.a)(Object(p.a)({},s),{},Object(I.a)({},e,0))))/s.sample_count/(0===s[e]?1:s[e]))),o.a.createElement(Kr.a,null,Pu.format((u-d(Object(p.a)(Object(p.a)({},s),{},Object(I.a)({},e,0))))/s.sample_count)),o.a.createElement(Kr.a,null))})),o.a.createElement(Zr.a,null,o.a.createElement(Kr.a,null,"Total Cost"),o.a.createElement(Kr.a,null),o.a.createElement(Kr.a,null),o.a.createElement(Kr.a,null),o.a.createElement(Kr.a,null,Pu.format(u))),o.a.createElement(Zr.a,null,o.a.createElement(Kr.a,null,"Time to Complete"),o.a.createElement(Kr.a,null),o.a.createElement(Kr.a,null),o.a.createElement(Kr.a,null),o.a.createElement(Kr.a,null,"1-3 days")))),o.a.createElement(be.a,{display:"flex",justifyContent:"flex-end",alignItems:"center",padding:2,paddingTop:4},o.a.createElement(be.a,null,"Credits: ",Pu.format(m)),o.a.createElement(be.a,{flexGrow:1}),o.a.createElement(A.a,{onClick:function(){a("labelhelp.apikey",null),_.capture("api_key_button_clicked")},variant:"outlined"},"API Key"),o.a.createElement(A.a,{color:m<u?"primary":"none",style:{marginLeft:12},variant:"outlined",href:"https://labelhelp.universaldatatool.com#addcredits",onClick:function(){_.capture("add_credits_button_clicked")}},"Add Credits"),o.a.createElement(A.a,{onClick:Object(b.a)(g.a.mark((function e(){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(null),e.next=3,fetch("https://labelhelp.universaldatatool.com/api/submit",{method:"POST",body:JSON.stringify({dataset:O,price:u,api_key:t("labelhelp.apikey")}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){return x(e.toString()),null}));case 3:if(a=e.sent){e.next=7;break}return x("Empty response from server"),e.abrupt("return",null);case 7:w(Object(yo.setIn)(O,["labelHelp"],{url:a.custom_id})),_.capture("start_label_help_button_clicked");case 9:case"end":return e.stop()}}),e)}))),style:{marginLeft:12},variant:"outlined",color:m>=u?"primary":"none"},"Start Label Help"))):"running"===N?o.a.createElement(be.a,null,C.loaded?o.a.createElement(Jr.a,null,o.a.createElement(Gr.a,null,o.a.createElement(Zr.a,null,o.a.createElement(Kr.a,null,"Status"),o.a.createElement(Kr.a,null,C.status)),o.a.createElement(Zr.a,null,o.a.createElement(Kr.a,null,"Link"),o.a.createElement(Kr.a,null,o.a.createElement(Lu,{href:C.url},C.url))),o.a.createElement(Zr.a,null,o.a.createElement(Kr.a,null,"Percent Complete"),o.a.createElement(Kr.a,null,C.progress.toFixed(1),"%")),C.price&&o.a.createElement(Zr.a,null,o.a.createElement(Kr.a,null,"Budget Used"),o.a.createElement(Kr.a,null,"$",C.progress*C.price," / $75")))):o.a.createElement(be.a,{padding:8,textAlign:"center"},o.a.createElement(Le.a,{size:100})),o.a.createElement(be.a,{display:"flex",marginTop:2,justifyContent:"flex-end"},o.a.createElement(be.a,{flexGrow:1}))):"completed"===N?o.a.createElement(be.a,null,o.a.createElement(Jr.a,null,o.a.createElement(Gr.a,null,o.a.createElement(Zr.a,null,o.a.createElement(Kr.a,null,"Percent Complete"),o.a.createElement(Kr.a,null,"100%")),C.price&&o.a.createElement(Zr.a,null,o.a.createElement(Kr.a,null,"Total Cost"),o.a.createElement(Kr.a,null,Pu.format(C.price))))),o.a.createElement(be.a,{display:"flex",marginTop:2,justifyContent:"flex-end"},o.a.createElement(A.a,{variant:"outlined"},"Restart"))):null)},Fu=Object(n.createContext)({}),Mu=function(e){var t=e.children,a=Z(),r=a.fromConfig,i=a.setInConfig,l=Object(n.useState)(!1),c=Object(h.a)(l,2),s=c[0],u=c[1],d=Object(n.useState)(!1),m=Object(h.a)(d,2),p=m[0],f=m[1],v=Object(n.useState)(!1),y=Object(h.a)(v,2),x=y[0],E=y[1],O=Object(n.useState)(null),w=Object(h.a)(O,2),j=w[0],k=w[1],C=Object(n.useMemo)((function(){return{pricingConfig:p,myCredits:j,loadPricingConfig:function(){var e=Object(b.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s){e.next=2;break}return e.abrupt("return");case 2:return u(!0),e.next=5,fetch("https://labelhelp.universaldatatool.com/api/price").then((function(e){return e.json()}));case 5:t=e.sent,u(!1),f(t);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),loadMyCredits:function(){var e=Object(b.a)(g.a.mark((function e(){var t,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!x){e.next=2;break}return e.abrupt("return");case 2:if(E(!0),t=r("labelhelp.apikey")){e.next=6;break}return e.abrupt("return");case 6:return e.prev=6,e.next=9,fetch("https://labelhelp.universaldatatool.com/api/me",{headers:{apikey:t}});case 9:return a=e.sent,e.next=12,a.json();case 12:a=e.sent,e.next=20;break;case 15:return e.prev=15,e.t0=e.catch(6),console.error(e.t0),E(!1),e.abrupt("return",Promise.reject(e.t0));case 20:a.status>=400&&i("labelhelp.apikey",null),k(a.credit),E(!1);case 23:case"end":return e.stop()}}),e,null,[[6,15]])})));return function(){return e.apply(this,arguments)}}()}}),[p,s,r("labelhelp.apikey"),x,j,r,i]);return o.a.createElement(Fu.Provider,{value:C},t)},zu=a(585),qu=function(){return!ir()&&!!window.location.search.includes("mode=labelonly")},Hu=function(e,t){var a=(e.interface||{}).fields||[];switch(t){case"sample_count":case"num_samples":return(e.samples||[]).length;case"number_of_fields":return Object.keys(e.interface.fields||{}).length;case"text_field_count":if("data_entry"===e.interface.type)return e.interface.surveyjs.questions.filter((function(e){return"text"===e.type})).length;if("composite"===e.interface.type)return a.filter((function(e){return"data_entry"===e.interface.type&&"text"===e.interface.surveyjs.questions[0].type})).length;throw new Error("Couldn't compute text_field_count for interface: "+e.interface.type);case"number_of_classifications":return e.interface.labels.length;case"average_number_of_interactions_per_image":var n,o=e.samples.filter((function(e){return e.annotation})),r=0,i=0,l=Object(H.a)(o);try{for(l.s();!(n=l.n()).done;){var c=n.value.annotation;if(i>10)break;if("object"===typeof c&&c.length){i+=1;var s,u=Object(H.a)(c);try{for(u.s();!(s=u.n()).done;){var d=s.value.points;r+=d?d.length:1}}catch(Bd){u.e(Bd)}finally{u.f()}}}}catch(Bd){l.e(Bd)}finally{l.f()}if(i<1)throw new Error("Not enough completed samples to compute average_number_of_interactions_per_image");return r/i;case"number_of_exclusive_classifications":return e.interface.multiple?0:e.interface.labels.length;case"number_of_nonexclusive_classifications":return e.interface.multiple?e.interface.labels.length:0;case"average_text_length":return e.samples.map((function(e){return e.document.length})).reduce((function(e,t){return e+t}),0)/e.samples.length;case"number_of_labels":return e.interface.labels.length;default:throw new Error("Don't know how to compute \"".concat(t,'"'))}},Wu=function(){var e=qu(),t=_u().dataset,a=Object(n.useContext)(Fu),o=a.pricingConfig,r=a.myCredits,i=a.remoteFile,l=a.loadPricingConfig,c=a.loadMyCredits,s=Z().fromConfig,u=Boolean(s("labelhelp.disabled")),d=Boolean(s("labelhelp.apikey"));if(Object(n.useEffect)((function(){u||e||t&&(o||l())}),[o,e,u,l,t]),!t)return{labelHelpEnabled:!1,labelHelpError:"no active dataset"};if(u)return{labelHelpEnabled:!1,labelHelpError:"Disabled in config"};if(e)return{labelHelpEnabled:!1};if(!d&&t.samples.length<100)return{labelHelpEnabled:!1,labelHelpError:"Less than 100 samples"};if(!o)return{labelHelpEnabled:!1,labelHelpError:"No pricing config"};try{var m=o[t.interface.type]||{},p=m.formula,f=m.variables;if(!p)return{labelHelpEnabled:!1,labelHelpError:'No pricing formula for "'.concat(t.interface.type,'"')};for(var g={},b=0,h=Object.keys(f);b<h.length;b++){var v=h[b];g[v]=Hu(t,v)}var y=Object.keys(g),x=Object(zu.a)(Function,Object(z.a)(y).concat(["return "+p])),E=function(e){return x.apply(void 0,Object(z.a)(y.map((function(t){return e[t]}))))},O=E(g);return{labelHelpEnabled:!0,myCredits:r,loadMyCredits:c,remoteFile:i,formula:p,variableDescriptions:f,variables:g,formulaFunc:E,totalCost:O,labelHelpAPIKey:s("labelhelp.apikey")}}catch(w){return{labelHelpEnabled:!1,labelHelpError:w.toString()}}},Vu=Object(U.a)("div")({display:"flex",flexDirection:"column",alignItems:"center"}),Ju=function(){var e=Z().fromConfig,t=Boolean(e("labelhelp.apikey"));return o.a.createElement(Vu,null,t?o.a.createElement(Tu,{key:"dialogcontent",style:{marginTop:48,width:"100%",maxWidth:800}},o.a.createElement(Bu,null)):o.a.createElement(Iu,{key:"apikeyentry"}))},Gu=Object(U.a)("div")({fontSize:18,padding:32,textAlign:"center",color:Ie.a[700],"& a":{color:u.a[500]}}),Ku=function(){return o.a.createElement(Gu,null,"Hey, this isn't available yet, but if you'd like this functionality please let us know by leaving a thumbs up on"," ",o.a.createElement("a",{href:"https://github.com/UniversalDataTool/universal-data-tool/issues/148"},"this github issue"))},Xu=Object(U.a)("div")({padding:16,height:"100%",display:"flex",flexDirection:"column",boxSizing:"border-box"}),Yu=function(e){var t=e.dataset,a=e.onChangeDataset,r=e.selectedBrush,i=void 0===r?"complete":r,l=e.sampleIndex,c=e.onChangeSampleIndex,s=e.onClickSetup,u=e.onChangeSampleTimeToComplete,d=e.sampleTimeToComplete,m=Object(n.useState)("label"),p=Object(h.a)(m,2),f=p[0],g=p[1],b=Object(n.useState)(!1),v=Object(h.a)(b,2),y=v[0],x=v[1],E=Fe(),O=Wu(),w=O.labelHelpEnabled,j=O.totalCost,k=qu(),C=Object(n.useState)(null),S=Object(h.a)(C,2),I=S[0],T=S[1];Object(n.useEffect)((function(){"true"===Object({NODE_ENV:"production",PUBLIC_URL:"/app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_GOOGLE_DRIVE_CLIENT_ID:"856114516731-rndo792s25bjjno28jltd70ipajlb917.apps.googleusercontent.com",REACT_APP_GOOGLE_DRIVE_DEVELOPER_KEY:"AIzaSyD7hdWRB_uz-RE-xDJEew-jFYjIv3lO4Qc",REACT_APP_GOOGLE_DRIVE_APP_ID:"856114516731"}).REACT_APP_SHOW_LABELHELP_PRICING&&x(!0)}),[]);var _=null===l,A=0;return t.samples&&t.samples.length>0&&(A=t.samples.map((function(e){return void 0!==e.annotation&&null!==e.annotation})).filter(Boolean).length/t.samples.length),Object(n.useEffect)((function(){w&&E.capture("label_help_showed")}),[w,E]),Object(n.useEffect)((function(){"labelhelp"===f&&E.capture("label_help_clicked")}),[f,E]),_?o.a.createElement(Xu,null,o.a.createElement(be.a,{display:"flex"},o.a.createElement(be.a,null,o.a.createElement(fe.a,{value:f,onChange:function(e,t){return g(t)}},o.a.createElement(ge.a,{icon:o.a.createElement(Oe.a,null),label:"Label",value:"label"}),!k&&o.a.createElement(ge.a,{icon:o.a.createElement(wu.a,null),label:"Active Learning",value:"activelearning"}),w&&o.a.createElement(ge.a,{icon:o.a.createElement(Eu.a,null),label:y&&j?"".concat(j,"$"):"Label Help",value:"labelhelp"}))),o.a.createElement(be.a,{flexGrow:1}),o.a.createElement(hu,{stats:[{name:"Percent Complete",value:Math.floor(100*A)+"%"},{name:"Time per Sample",value:yu()(new Date(Date.now()-d)).toString(1,1)},{name:"Estimated Remaining",value:yu()(new Date(Date.now()-d*(1-A)*(t.samples||[]).length)).toString(1,2)}]})),o.a.createElement(be.a,{flexGrow:1},"label"===f&&o.a.createElement(Mn,{tablePaginationPadding:6,count:(t.samples||[]).length,samples:t.samples||[],completed:(t.samples||[]).map((function(e){return Boolean(e.annotation)})),onClick:function(e){E.capture("open_sample",{interface_type:t.interface.type}),c(e)}}),"activelearning"===f&&o.a.createElement(Ku,null),"labelhelp"===f&&o.a.createElement(Ju,null))):o.a.createElement(mu,null,o.a.createElement(Xs,{sampleIndex:l,onSaveTaskOutputItem:function(e,n){var o=t.samples[l],r=t;r=Object(yo.setIn)(r,["samples",l,"annotation"],n),o.brush===i||void 0===o.brush&&"complete"===i||(r=Object(yo.setIn)(r,["samples",l,"brush"],i)),a(r)},onExit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"nothing";switch(I&&u(Date.now()-I),e){case"go-to-next":if(l!==t.samples.length-1)return E.capture("next_sample",{interface_type:t.interface.type}),c(l+1),void T(Date.now());break;case"go-to-previous":if(0!==l)return c(l-1),void T(Date.now())}c(null)},dataset:t,onClickSetup:s}))},Zu=a(189),Qu=(a(970),a(972),Object(y.a)({headerButton:{color:"#fff"},saveIcon:{marginRight:4},editIcon:{marginLeft:4},container:{display:"flex",flexDirection:"column",width:"100vw",height:"100vh"}})),$u=function(e){var t=e.file,a=(e.datasetName,e.dataset),r=(e.content,e.inSession),i=e.url,l=e.fileName,c=void 0===l?"unnamed":l,s=e.onChangeDataset,u=void 0===s?function(){return null}:s,d=e.onChangeFile,m=(e.onFileDrop,e.initialMode),f=void 0===m?"setup":m,g=e.authConfig,b=e.user,v=(e.recentItems,e.selectedBrush),y=qu(),x=Object(n.useState)(c),E=Object(h.a)(x,2),O=E[0],w=E[1],j=Qu(),k=eu().addToast,C=Object(n.useState)(y?"label":f),S=Object(h.a)(C,2),I=S[0],T=S[1],A=Object(n.useState)({}),N=Object(h.a)(A,2),D=N[0],L=N[1],P=(Re()||{}).ipcRenderer,U=Fe(),R=Object(n.useState)(null),B=Object(h.a)(R,2),F=B[0],M=B[1],q=y?["Label"]:["Setup","Samples","Label"],H=function(){var e=Object(n.useReducer)((function(e,t){var a=e.samplesInWindow.slice(-10).concat([t]);return{timeToCompleteSample:a.reduce((function(e,t){return e+t}),0)/a.length,samplesInWindow:a}}),{timeToCompleteSample:0,samplesInWindow:[]}),t=Object(h.a)(e,2);return[t[0].timeToCompleteSample,t[1]]}(),W=Object(h.a)(H,2),V=W[0],G=W[1];Object(n.useEffect)((function(){if(P){var e=function(){return T("settings")},t=function(){return T("samples")},a=function(){return T("label")};return P.on("open-settings-page",e),P.on("open-samples-page",t),P.on("open-label-page",a),function(){P.removeListener("open-settings-page",e),P.removeListener("open-samples-page",t),P.removeListener("open-label-page",a)}}}),[P]),Object(n.useEffect)((function(){U.people.set({average_time_to_complete_sample:V})}),[V,U.people]),Object(n.useEffect)((function(){"label"!==I&&M(null),U.capture("open_editor_tab",{tab:I})}),[I,U]);var K=Object(At.a)((function(e){return T(e.toLowerCase())})),X=Object(n.useMemo)((function(){return{switch_to_label:function(){return T("label")},switch_to_setup:function(){return T("setup")},switch_to_samples:function(){return T("samples")}}}),[T]),Y=J().keyMap;return o.a.createElement(Zu.HotKeys,{allowChanges:!0,handlers:X,keyMap:Y},o.a.createElement("div",{className:Ln()(j.container,"universaldatatool")},o.a.createElement(qa,{title:r?o.a.createElement(_.a,{label:"Share Link",title:"share-link",value:i,variant:"outlined",size:"small"}):o.a.createElement(kn,{label:"File Name",onChange:function(e){d(Object(yo.setIn)(t,["fileName"],e)),w(e)},value:O||""}),onChangeTab:K,currentTab:I,tabs:q}),o.a.createElement("div",{style:{height:"100%",overflowY:"scroll"}},"setup"===I&&o.a.createElement(ou,{dataset:a,onClearLabelData:function(){u(Object(yo.setIn)(a,["samples"],a.samples.map((function(e){return Object(yo.without)(e,"annotation")}))))},onChange:function(e){e.interface.type!==a.interface.type&&"empty"!==a.interface.type&&a.samples.map((function(e){return e.annotation})).some(Boolean)?k("Changing label types can cause label data issues. You must clear all label data first.","error"):u(e)}}),"samples"===I&&o.a.createElement(kl,{file:t,dataset:a,openSampleLabelEditor:function(e){M(e),U.capture("open_sample",{interface_type:a.interface.type}),T("label")},openSampleInputEditor:function(e){L({open:!0,sampleIndex:e})},deleteSample:function(e){var t=Object(z.a)(a.samples);t.splice(e,1),u(Object(p.a)(Object(p.a)({},a),{},{samples:t}))},onChangeFile:function(e){d(e),w(e.fileName)},onChangeDataset:u,authConfig:g,user:b}),"label"===I&&o.a.createElement(Yu,{selectedBrush:v,dataset:a,sampleIndex:F,onChangeSampleIndex:M,sampleTimeToComplete:V,onChangeSampleTimeToComplete:G,onChangeDataset:u,onClickSetup:function(){return T("setup")}})),o.a.createElement(ru,Object.assign({},D,{sampleInput:void 0!==D.sampleIndex?a.samples[D.sampleIndex]:null,onClose:function(){L({open:!1})},onChange:function(e){u(Object(yo.setIn)(a,["samples",D.sampleIndex],e))}}))))},ed=a(588),td=a(321),ad=a.n(td),nd=function(e){var t,a=[],n=Object(H.a)(e);try{for(n.s();!(t=n.n()).done;){var o=t.value,r=o.userName,i=o.op,l=o.path;if(l.startsWith("/interface"))a.push({type:"warning",message:"".concat(r," changed the project settings")});else if(l.startsWith("/taskOutput")){var c=l.match(/\/samples\/([^/]+)/);a.push({type:"info",message:"".concat(r," changed sample ").concat(c[1])})}else a.push({message:"".concat(r," did a ").concat(i," at ").concat(l),type:"info"})}}catch(Bd){n.e(Bd)}finally{n.f()}return a},od=xo.a.setIn,rd=xo.a.getIn,id=xo.a.updateIn,ld=xo.a.without;function cd(e,t){return e.concat([t])}function sd(e,t){if(0===t.length)return ld(e,t[0]);var a=t.slice(0,-1),n=t[t.length-1],o=rd(e,a);if(Array.isArray(o)){var r=parseInt(n);return od(e,a,[].concat(Object(z.a)(o.slice(0,r)),Object(z.a)(o.slice(r+1))))}return od(e,a,ld(o,n))}var ud=function(e,t){var a,n=Object(H.a)(t);try{for(n.s();!(a=n.n()).done;){var o=a.value,r=o.op,i=o.path;if(0===(i=i.split("/").filter(Boolean)).length){if("replace"===r){e=o.value;continue}throw new Error("Operation on root object not supported")}switch(r){case"replace":e=od(e,i,o.value);continue;case"copy":e=od(e,i,rd(e,o.from.split("/")));continue;case"add":if(isNaN(parseInt(i.slice(-1)[0])))e=Array.isArray(rd(e,i))?id(e,i,cd,o.value):od(e,i,o.value);else e=od(e,i,o.value);continue;case"move":var l=o.from.split("/");e=sd(e=od(e,i,rd(e,l)),l);continue;case"remove":e=sd(e,i);continue;default:return e}}}catch(Bd){n.e(Bd)}finally{n.f()}return e},dd=a(979),md=function(e){return function(e){var t,a=0;for(t=0;t<e.length;t++)a=(a<<5)-a+e.charCodeAt(t),a|=0;return a}(dd(e))},pd=new(function(){function e(t){var a=t.serverUrl,n=t.userName;Object($.a)(this,e),this.serverUrl="http://localhost:6003",this.getJSON=function(e,t,a){},this.postJSON=function(e,t,a){},this.patchJSON=function(e,t,a){},this.userName="anonymous",this.sessionId=null,this.state=null,this.version=null,this.serverUrl=a,this.getJSON=ad()("json","GET",a),this.postJSON=ad()("json","POST",a),this.patchJSON=ad()("json","PATCH",a),this.userName=n||"anonymous_".concat(Math.random().toString(36).slice(2,6))}return Object(iu.a)(e,[{key:"createSession",value:function(){var e=Object(b.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.postJSON("/api/session",{udt:t});case 2:a=e.sent,this.state=t,this.sessionId=a.short_id,this.version=a.version;case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getLatestState",value:function(){var e=Object(b.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getJSON("/api/session/".concat(encodeURIComponent(this.sessionId)));case 3:return t=e.sent,e.abrupt("return",{state:t.udt_json,version:t.version});case 7:throw e.prev=7,e.t0=e.catch(0),new Error('error getting session "'.concat(this.sessionId,'": ').concat(e.t0.toString()));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"updateToLatestState",value:function(){var e=Object(b.a)(g.a.mark((function e(){var t,a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getLatestState();case 2:t=e.sent,a=t.state,n=t.version,this.state=a,this.version=n;case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"joinSession",value:function(){var e=Object(b.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.sessionId=t,e.next=3,this.updateToLatestState();case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"applyLatestPatches",value:function(){var e=Object(b.a)(g.a.mark((function e(){var t,a,n,o,r,i,l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getJSON("/api/session/".concat(encodeURIComponent(this.sessionId),"/diffs?since=").concat(this.version));case 2:if(t=e.sent,a=t.patch,n=t.hashOfLatestState,o=t.latestVersion,r=t.changeLog,0!==a.length&&o!==this.version){e.next=9;break}return e.abrupt("return",null);case 9:if(i=nd(r),l=ud(this.state,a),md(l)===n){e.next=16;break}return console.error("new state with patches applied didn't match latest state"),e.next=15,this.updateToLatestState();case 15:return e.abrupt("return",{patch:a,changeLog:i});case 16:return this.state=l,this.version=o,e.abrupt("return",{patch:a,changeLog:i});case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sendPatchIfChanged",value:function(){var e=Object(b.a)(g.a.mark((function e(t){var a,n,o,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(a=ed.createPatch(this.state,t)).length){e.next=3;break}return e.abrupt("return",null);case 3:return e.next=5,this.patchJSON("/api/session/".concat(encodeURIComponent(this.sessionId)),{patch:a,userName:this.userName});case 5:if(n=e.sent,o=n.hashOfLatestState,r=n.latestVersion,md(t)===o){e.next=13;break}return console.error("after patch, hashes were not equal! getting latest version from server..."),e.next=12,this.updateToLatestState();case 12:return e.abrupt("return",this);case 13:return this.state=t,this.version=r,e.abrupt("return",this);case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}())({serverUrl:window.localStorage.CUSTOM_COLLABORATION_SERVER||"https://udt-collaboration-server.now.sh"}),fd=function(){var e=Object(b.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pd.createSession(t.content);case 2:return e.abrupt("return",{fileName:t.fileName,id:t.id,sessionId:pd.sessionId,url:"".concat(window.location.origin,"/app/?s=").concat(pd.sessionId),content:t.content,mode:"server"});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),gd=function(){var e=Object(b.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pd.joinSession(t);case 2:return e.abrupt("return",{state:pd.state,version:pd.version});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),bd=a(365),hd=function(e){var t,a=function(e){n.add(e)},n=new Set,o=Object(H.a)(e.samples);try{for(o.s();!(t=o.n()).done;){var r=t.value;Object.keys(Object(bd.flatten)(r)).forEach((function(e){return a(e)}))}}catch(Bd){o.e(Bd)}finally{o.f()}(n=Array.from(n).sort((function(e,t){return e.split(".").length-t.split(".").length}))).some((function(e){return e.includes("output.keyframes")}))&&(n=n.filter((function(e){return e.includes("output.keyframes")}))).push("output.keyframes");var i={rows:["interface"].concat(Object(z.a)(Nn()(e.samples.length).map((function(e){return"samples.".concat(e)})))),columns:["."].concat(Object(z.a)(n)),validate:!1};return Ar.a.toCSV(e,i)},vd={saveFile:function(){return null}},yd=Fe(),xd=["video_segmentation","image_classification","image_segmentation","text_entity_recognition","text_classification","audio_transcription","composite","data_entry"],Ed=function(e){var t=e.file,a=(e.setFile,oe()),o=a.isLoggedIn,r=a.authProvider,i=a.authConfig,l=Object(n.useRef)([]),c=Object(n.useCallback)((function(){if(o&&"cognito"===r){var e=Eo(l.current,t);return!(P()(t)||!e.content.samples&&!e.fileName||!xd.includes(t.content.interface.type)||"unnamed"===t.fileName)}}),[t,o,r]);Object(n.useEffect)((function(){o&&"cognito"===r&&(P()(i)||(console.log("should update",c()),c()&&function(e){function t(e){return a.apply(this,arguments)}function a(){return(a=Object(b.a)(g.a.mark((function e(t){var a,n,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://cors-anywhere.herokuapp.com/",void 0!==wo(t)&&(n="https://cors-anywhere.herokuapp.com/"+wo(t)),e.next=4,fetch(n,{method:"GET",headers:{"X-Requested-With":"xmlhttprequest"}}).catch((function(e){console.log("Looks like there was a problem: \n",e)}));case 4:return a=e.sent,e.next=7,a.blob();case 7:return o=e.sent,e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}if(function(e){return"undefined"!==e&&"undefined"!==e.fileName}(e)){var n=e.content;console.log("this should be an array of samples",Co(n)),e=Object(yo.setIn)(e,["content"],Object(yo.setIn)(n,["samples"],Co(n)));var o=JSON.stringify(e);!function(e){bo.a.put("".concat(e.fileName,"/"),null,{level:"private"}).catch((function(e){return console.log(e)}))}(e),function(e,t){console.log({file:e,json:t}),bo.a.put("".concat(e.fileName,"/annotations/annotations.json"),t,{level:"private"}).catch((function(e){return console.log(e)}))}(e,o),function(e){P()(e.content.samples)||e.content.samples.forEach(function(){var a=Object(b.a)(g.a.mark((function a(n){var o,r,i;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,P()(wo(n))){a.next=7;break}return a.next=4,t(n);case 4:o=a.sent,a.next=8;break;case 7:P()(n.document)||(o=n.document);case 8:r=P()(n.sampleName)?Oo(n):n.sampleName,i="".concat(e.fileName,"/data/").concat(r),bo.a.put(i,o,{level:"private"}).catch((function(e){return console.log(e)})),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(0),console.log(a.t0);case 16:case"end":return a.stop()}}),a,null,[[0,13]])})));return function(e){return a.apply(this,arguments)}}())}(e)}}(t),l.current=t))}),[c,i,t,o,r])},Od=function(){var e=Object(n.useState)(),t=Object(h.a)(e,2),a=t[0],o=t[1],r=eu().addToast,i=function(e,t){if(!ir())return vd;var a=eu().addToast,o=Re().remote,r=Object(At.a)((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.saveAs,i=void 0!==r&&r;function l(){return c.apply(this,arguments)}function c(){return(c=Object(b.a)(g.a.mark((function n(){var r,l,c,s;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.filePath,e.filePath&&!i){n.next=12;break}return n.next=4,o.dialog.showSaveDialog({filters:[{name:".udt.json",extensions:["udt.json"]},{name:".udt.csv",extensions:["udt.csv"]}]});case 4:if(l=n.sent,c=l.cancelled,s=l.filePath,r=!s||s.endsWith(".json")||s.endsWith(".csv")?s:"".concat(s,".udt.json"),!c&&r){n.next=11;break}return a("Could not save"),n.abrupt("return");case 11:t(Object(p.a)(Object(p.a)({},e),{},{filePath:r,fileName:r.split("/").slice(-1)[0]}));case 12:return n.next=14,o.require("fs").promises.writeFile(r,r.endsWith(".csv")?hd(e.content):JSON.stringify(e.content,null,"  "));case 14:a("File Saved!");case 15:case"end":return n.stop()}}),n)})))).apply(this,arguments)}e&&l()}));return Object(n.useEffect)((function(){e&&e.filePath&&e.fileName!==e.filePath.split("/").slice(-1)[0]&&t(Object(yo.setIn)(e,["filePath"],e.filePath.split("/").slice(0,-1).concat([e.fileName+(e.fileName.endsWith(".json")?"":".dataset.json")]).join("/")))}),[e,t]),{saveFile:r}}(a,o).saveFile,l=function(e,t){var a=Object(q.a)("recentItems",[]),o=Object(h.a)(a,2),r=o[0],i=o[1];return r||(r=[]),Object(n.useEffect)((function(){e&&"unnamed"!==e.fileName&&(r.map((function(e){return e.id})).includes(e.id)?i(r.map((function(t){return t.id===e.id?e:t}))):i([e].concat(r).slice(0,3)))}),[e,i]),{recentItems:r,changeRecentItems:i}}(a),c=l.recentItems,s=l.changeRecentItems;!function(e,t){var a=window.localStorage.userName;Object(n.useEffect)((function(){if(a&&!a.includes("anonymous"))try{pd.userName=JSON.parse(window.localStorage.userName)}catch(e){}}),[a]),Object(n.useEffect)((function(){if(e&&"server"===e.mode&&e.sessionId===pd.sessionId){var a=function(){var o=Object(b.a)(g.a.mark((function o(){return g.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,pd.applyLatestPatches();case 2:if(o.sent&&t(Object(yo.setIn)(e,["content"],pd.state)),n){o.next=6;break}return o.abrupt("return");case 6:n=setTimeout(a,500);case 7:case"end":return o.stop()}}),o)})));return function(){return o.apply(this,arguments)}}(),n=setTimeout(a,500);return function(){clearTimeout(n),n=null}}}),[e,t]),Object(n.useEffect)((function(){e&&"server"===e.mode&&pd.sendPatchIfChanged(e.content)}),[e])}(a,o),Ed({file:a,setFile:o}),function(e){var t=null===e||void 0===e?void 0:e.interface;Object(n.useEffect)((function(){t&&(yd.capture("interface_type",{interface_type:t.type}),yd.people.set({last_used_interface_type:t.type}))}),[t]);var a=null===e||void 0===e?void 0:e.samples,o=null===e||void 0===e?void 0:e.usedToyDataset;Object(n.useEffect)((function(){if(a){var e=(a||[]).filter((function(e){return e.annotation})).length;yd.capture("samples_updated",{dataset_size:(a||[]).length,samples_completed:e,percent_completed:e/(a||[]).length,toy_dataset_used:Boolean(o)}),yd.people.set({recently_used_toy_dataset:Boolean(o)})}}),[a,o])}(a&&a.content);var u=Object(At.a)((function(e){var t=e.name,a=e.path;function n(e){try{var n;n=t.endsWith("csv")?qr(e):JSON.parse(e),o({fileName:t,filePath:a,mode:a?"filesystem":"local-storage",content:n,id:a})}catch(i){console.log(i.toString()),r("Couldn't read file, see console for details","error")}}if(e.content)n(e.content);else{var i=new FileReader;i.onload=function(e){n(e.target.result)},i.readAsText(e)}})),d=Object(At.a)(function(){var e=Object(b.a)(g.a.mark((function e(t){var a,n,r,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=decodeURIComponent(t.match(/[?&]s=([^&]+)/)[1]),n=t.includes("mode=labelonly"),a){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,gd(a);case 6:if(r=e.sent,i=r.state){e.next=10;break}return e.abrupt("return");case 10:window.history.replaceState({},window.document.title,"/app/?s=".concat(encodeURIComponent(a)).concat(n?"&mode=labelonly":"")),o({url:t,sessionId:a,mode:"server",id:a,content:i});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());Object(n.useEffect)((function(){a&&"server"!==a.mode&&window.history.replaceState({},window.document.title,"/")}),[a]),Object(n.useEffect)((function(){window.location.search.match(/[?&]s=([a-zA-Z0-9]+)/)&&d(window.location.href)}),[d]);var m=Object(At.a)(Object(b.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fd(a);case 2:t=e.sent,o(t),window.history.replaceState({},window.document.title,"/app/?s=".concat(encodeURIComponent(t.sessionId)));case 5:case"end":return e.stop()}}),e)}))));return Object(n.useMemo)((function(){return{file:a,setFile:o,openFile:u,openUrl:d,makeSession:m,saveFile:i,recentItems:c,changeRecentItems:s}}),[a,o,u,i,m,c,s,d])},wd=a(386),jd=a.n(wd),kd=a(590),Cd=a(589),Sd=a.n(Cd),Id=Object(U.a)("div")({width:"100vw",minHeight:"100vh",backgroundColor:Ie.a[900],padding:32,"& .title":{color:Ie.a[200],fontSize:24,fontWeight:"bold"},"& .subtitle":{color:Ie.a[300],fontSize:18,marginTop:8},"& .info":{width:"100%",boxSizing:"border-box",padding:32,"& textarea":{width:"calc(100% - 64px)",boxSizing:"border-box",minHeight:300,fontSize:12}}}),Td=Object(U.a)("div")({padding:8}),_d=Object(U.a)(A.a)({color:"#fff",borderColor:"rgba(255,255,255,0.5)",margin:8}),Ad=function(e){Object(lu.a)(a,e);var t=Object(cu.a)(a);function a(e){var n;return Object($.a)(this,a),(n=t.call(this,e)).state={hasError:!1},n}return Object(iu.a)(a,[{key:"componentDidCatch",value:function(e,t){var a=this;du.withScope((function(n){n.setExtras(t);var o=du.captureException(e);a.setState({eventId:o})}))}},{key:"render",value:function(){return this.state.hasError?o.a.createElement(Id,null,o.a.createElement("div",{className:"title"},"An error has occurred"),o.a.createElement("div",{className:"subtitle"},"All the details are below:"),o.a.createElement("div",{className:"info"},o.a.createElement("textarea",null,this.state.errorDetails)),o.a.createElement(Td,null,o.a.createElement(_d,{variant:"outlined",target:"_blank",href:"https://github.com/Universal/universal-data-tool/issues"},o.a.createElement(Sd.a,{style:{color:"#fff",marginRight:8}})," View Issues on Github"),o.a.createElement(_d,{variant:"outlined",onClick:function(){return window.location.reload()}},"Reload (unsaved progress will be lost)"))):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0,errorDetails:JSON.stringify(Object(kd.a)())+"\n\n"+e.stack}}}]),a}(o.a.Component);function Nd(e){var t="It looks like you have been editing something. If you leave before saving, your changes will be lost.";return(e||window.event).returnValue=t,t}var Dd=function(){var e,t,a=Od(),r=a.file,i=a.setFile,l=a.openFile,c=a.openUrl,s=a.makeSession,u=a.recentItems,d=a.changeRecentItems;!function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];Object(n.useEffect)((function(){if(e&&!window.location.origin.includes("localhost"))return window.addEventListener("beforeunload",Nd),function(){window.removeEventListener("beforeunload",Nd)}}),[e])}(Boolean(r));var m=Fe(),f=nn(),v=Object(h.a)(f,1)[0],y=Object(n.useState)("complete"),x=Object(h.a)(y,2),E=x[0],O=x[1],w=Object(At.a)((function(e){i({fileName:"unnamed",content:e.dataset,id:Math.random().toString().split(".")[1],mode:"local-storage"})})),j=Object(At.a)((function(e){return i(e)})),k=Object(At.a)((function(){return i(null)})),C=Object(At.a)((function(e){if(r){m.capture("download_file",{file_type:e});var t=(r.sessionId||r.fileName)+".udt."+e;"json"===e?jd()(JSON.stringify(r.content),t):"csv"===e&&jd()(hd(r.content),t)}})),S=r&&"server"===r.mode,I=Object(n.useState)(!1),T=Object(h.a)(I,2),_=T[0],A=T[1],N=Object(n.useCallback)(function(){var e=Object(b.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[c]),D=Object(At.a)((function(){return i(Object(p.a)(Object(p.a)({},r),{},{mode:"local-storage",fileName:r.fileName||"copy_of_".concat(r.id)}))})),L=Object(At.a)((function(e){i(Object(yo.setIn)(r,["content"],e))}));return o.a.createElement(o.a.Fragment,null,o.a.createElement(Au.Provider,{value:{file:r,setFile:i}},o.a.createElement(Ma.Provider,{value:{title:r?"local-storage"===r.mode?r.fileName:r.url:"unnamed",interfaceType:null===r||void 0===r||null===(e=r.content)||void 0===e||null===(t=e.interface)||void 0===t?void 0:t.type,recentItems:u,changeRecentItems:d,onClickTemplate:w,onClickHome:k,onOpenFile:l,onOpenRecentItem:j,inSession:S,sessionBoxOpen:_,changeSessionBoxOpen:A,onJoinSession:N,onLeaveSession:D,onCreateSession:s,fileOpen:Boolean(r),onDownload:C,onChangeSelectedBrush:O,selectedBrush:E,isWelcomePage:!r}},r?o.a.createElement(Ad,null,o.a.createElement($u,Object.assign({file:r,key:r.id},r,{selectedBrush:E,inSession:S,dataset:r.content,onChangeDataset:L,onChangeFile:i,authConfig:!0,recentItems:u}))):o.a.createElement(wn,{onFileDrop:l,onOpenTemplate:w,recentItems:u,onOpenRecentItem:j,onClickOpenSession:function(){return A(!0)}}))),o.a.createElement(an,{errors:v}))},Ld=function(){var e,t,a,r=Od(),i=r.file,l=r.setFile,c=r.openFile,s=r.openUrl,u=r.makeSession,d=r.saveFile,m=r.recentItems,f=Object(n.useState)("complete"),v=Object(h.a)(f,2),y=v[0],x=v[1],E=nn(),O=Object(h.a)(E,1)[0],w=Re(),j=w.remote,k=w.ipcRenderer,C=Object(At.a)((function(e){l({fileName:"unnamed",content:e.dataset,id:Math.random().toString().split(".")[1],mode:"filesystem"})})),S=Object(At.a)((function(e){return l(e)})),I=Object(At.a)((function(){return l(null)}));Object(n.useEffect)((function(){var e=function(){return l(null)},t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.templateName;C(Da.find((function(e){return e.name===a}))||Da[0])},a=function(){return d({saveAs:!0})},n=function(){var e=Object(b.a)(g.a.mark((function e(){var t,a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,j.dialog.showSaveDialog({filters:[{name:".udt.csv",extensions:["udt.csv"]}]});case 4:if(t=e.sent,a=t.cancelled,n=t.filePath,!a){e.next=9;break}return e.abrupt("return");case 9:return n=!n||n.endsWith(".csv")?n:"".concat(n,".udt.csv"),e.next=12,j.require("fs").promises.writeFile(n,hd(i.content));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(e,t){return c(t)};return k.on("open-welcome-page",e),k.on("new-file",t),k.on("open-file",o),k.on("save-file",d),k.on("save-file-as",a),k.on("export-to-csv",n),function(){k.removeListener("open-welcome-page",e),k.removeListener("new-file",t),k.removeListener("open-file",o),k.removeListener("save-file",d),k.removeListener("save-file-as",a),k.removeListener("export-to-csv",n)}}),[i,l,k,c,C,j,d]);var T=i&&"server"===i.mode,_=Object(n.useState)(!1),A=Object(h.a)(_,2),N=A[0],D=A[1],L=Object(At.a)(function(){var e=Object(b.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),P=Object(At.a)((function(){return l(Object(p.a)(Object(p.a)({},i),{},{mode:"local-storage",fileName:i.fileName||"copy_of_".concat(i.id)}))})),U=((null===i||void 0===i||null===(e=i.content)||void 0===e?void 0:e.samples)||[]).some((function(e){return[e.imageUrl,e.videoUrl,e.pdfUrl].filter(Boolean).map((function(e){return e.includes("file://")})).some(Boolean)}))?"Some URLs (links) in this file are connected to files on your computer. Use the Samples > Transform > Transform Files to Web URLs to upload these files, then collaboration will be available.":null;return o.a.createElement(o.a.Fragment,null,o.a.createElement(Ma.Provider,{value:{recentItems:m,onClickTemplate:C,onClickHome:I,title:i?"server"!==i.mode?i.fileName:i.url:"unnamed",fileOpen:Boolean(i),interfaceType:null===i||void 0===i||null===(t=i.content)||void 0===t||null===(a=t.interface)||void 0===a?void 0:a.type,onOpenRecentItem:S,isDesktop:!0,onOpenFile:c,selectedBrush:y,onChangeSelectedBrush:x,inSession:T,sessionBoxOpen:N,changeSessionBoxOpen:D,collaborateError:U,onJoinSession:L,onLeaveSession:P,onCreateSession:u,isWelcomePage:!i}},i?o.a.createElement($u,Object.assign({key:i.id},i,{inSession:T,selectedBrush:y,dataset:i.content,onChangeFileName:function(e){l(Object(yo.setIn)(i,["fileName"],e))},onChangeDataset:function(e){l(Object(yo.setIn)(i,["content"],e))}})):o.a.createElement(wn,{showDownloadLink:!1,onFileDrop:c,onOpenTemplate:C,recentItems:m,onOpenRecentItem:S})),o.a.createElement(an,{errors:O}))},Pd=(a(983),Object(y.a)((function(e){return{wrapper:{width:"100vw",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},root:{display:"flex","& > * + *":{marginLeft:e.spacing(2)}}}})));function Ud(){var e=Pd();return o.a.createElement("div",{className:e.wrapper},o.a.createElement("div",{className:e.root},o.a.createElement(Le.a,null)))}var Rd=function(){var e=Re();return o.a.createElement(n.Suspense,{fallback:Ud},o.a.createElement(m,null,o.a.createElement(Q,null,o.a.createElement(ae,null,o.a.createElement(Mu,null,o.a.createElement(tu,null,o.a.createElement(G,null,Boolean(e)?o.a.createElement(Ld,null):o.a.createElement(Dd,null))))))))};i.a.render(o.a.createElement(Rd,null),document.getElementById("root"))}},[[631,1,2]]]);
//# sourceMappingURL=main.70fd12d6.chunk.js.map